{"version":3,"file":"LocaleService.js","sourceRoot":"","sources":["../../../../../../../../../../TanhX/online/browser/src/app/LocaleService.ts"],"names":[],"mappings":"AAAA,kDAAkD;AAElD;;;;;;;;GAQG;AAEH;;GAEG;AAEH;IAAA;QACS,mBAAc,GAAW,GAAG,CAAC;QAC7B,qBAAgB,GAAW,GAAG,CAAC;QAC/B,iBAAY,GAAY,KAAK,CAAC;IAoCvC,CAAC;IAlCO,kDAA0B,GAAjC;QAAA,iBAyBC;QAxBA,IAAI,IAAI,CAAC,YAAY;YAAE,OAAO;QAC9B,IAAI,CAAC,YAAY,GAAG,IAAI,CAAC;QAEzB,IAAI,OAAO,IAAI,KAAK,WAAW,EAAE;YAChC,IAAI;gBACH,IAAI,SAAS,SAAA,CAAC;gBACd,IAAI,GAAG,CAAC,EAAE,CAAC,QAAQ,CAAC,OAAO,IAAI,GAAG,CAAC,EAAE,CAAC,QAAQ,CAAC,OAAO,KAAK,EAAE;oBAC5D,SAAS,GAAG,IAAI,IAAI,CAAC,YAAY,CAAC,GAAG,CAAC,EAAE,CAAC,QAAQ,CAAC,OAAO,CAAC,CAAC;;oBACvD,SAAS,GAAG,IAAI,IAAI,CAAC,YAAY,CAAC,CAAC,CAAC,OAAO,CAAC,IAAI,CAAC,CAAC;gBAEvD,SAAS,CAAC,aAAa,CAAC,CAAC,IAAI,CAAC,CAAC,GAAG,CAAC,UAAC,IAAI;oBACvC,QAAQ,IAAI,CAAC,IAAI,EAAE;wBAClB,KAAK,SAAS;4BACb,KAAI,CAAC,cAAc,GAAG,IAAI,CAAC,KAAK,CAAC;4BACjC,MAAM;wBACP,KAAK,WAAW;4BACf,KAAI,CAAC,gBAAgB,GAAG,IAAI,CAAC,KAAK,CAAC;4BACnC,MAAM;qBACP;gBACF,CAAC,CAAC,CAAC;aACH;YAAC,OAAO,CAAC,EAAE;gBACX,MAAM,CAAC,GAAG,CAAC,OAAO,CAAC,GAAG,CAAC,yBAAyB,GAAG,CAAC,CAAC,CAAC;aACtD;SACD;IACF,CAAC;IAEM,2CAAmB,GAA1B;QACC,OAAO,IAAI,CAAC,cAAc,CAAC;IAC5B,CAAC;IAEM,oCAAY,GAAnB;QACC,OAAO,IAAI,CAAC,gBAAgB,CAAC;IAC9B,CAAC;IACF,oBAAC;AAAD,CAAC,AAvCD,IAuCC","sourcesContent":["/* -*- js-indent-level: 8; fill-column: 100 -*- */\n\n/*\n * Copyright the Collabora Online contributors.\n *\n * SPDX-License-Identifier: MPL-2.0\n *\n * This Source Code Form is subject to the terms of the Mozilla Public\n * License, v. 2.0. If a copy of the MPL was not distributed with this\n * file, You can obtain one at http://mozilla.org/MPL/2.0/.\n */\n\n/*\n * This file holds locale dependent options.\n */\n\nclass LocaleService {\n\tprivate _globalDecimal: string = '.';\n\tprivate _globalMinusSign: string = '-';\n\tprivate _initialized: boolean = false;\n\n\tpublic initializeNumberFormatting() {\n\t\tif (this._initialized) return;\n\t\tthis._initialized = true;\n\n\t\tif (typeof Intl !== 'undefined') {\n\t\t\ttry {\n\t\t\t\tlet formatter;\n\t\t\t\tif (app.UI.language.fromURL && app.UI.language.fromURL !== '')\n\t\t\t\t\tformatter = new Intl.NumberFormat(app.UI.language.fromURL);\n\t\t\t\telse formatter = new Intl.NumberFormat(L.Browser.lang);\n\n\t\t\t\tformatter.formatToParts(-11.1).map((item) => {\n\t\t\t\t\tswitch (item.type) {\n\t\t\t\t\t\tcase 'decimal':\n\t\t\t\t\t\t\tthis._globalDecimal = item.value;\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\tcase 'minusSign':\n\t\t\t\t\t\t\tthis._globalMinusSign = item.value;\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t} catch (e) {\n\t\t\t\twindow.app.console.log('Exception parsing lang ' + e);\n\t\t\t}\n\t\t}\n\t}\n\n\tpublic getDecimalSeparator() {\n\t\treturn this._globalDecimal;\n\t}\n\n\tpublic getMinusSign() {\n\t\treturn this._globalMinusSign;\n\t}\n}\n"]}