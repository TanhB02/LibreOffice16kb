{"version":3,"file":"Cursor.js","sourceRoot":"","sources":["../../../../../../../../../../../TanhX/online/browser/src/layer/marker/Cursor.ts"],"names":[],"mappings":"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","sourcesContent":["// @ts-strict-ignore\n/* eslint-disable */\n\ndeclare var L: any;\n\n/*\n * Cursor implements a blinking cursor.\n * This is used as the text-cursor(in and out of document).\n */\n\nclass Cursor {\n\topacity: number = 1;\n\tzIndex: number = 1000;\n\tblink: boolean = false;\n\tcolor: string;\n\theader: boolean = false;\n\theaderName: string;\n\theaderTimeout: number = 3000;\n\n\tprivate position: cool.Point;\n\tprivate size: cool.Point;\n\tprivate width: number;\n\tprivate container: HTMLDivElement;\n\tprivate cursorHeader: HTMLDivElement;\n\tprivate cursor: HTMLDivElement;\n\tprivate map: any;\n\tprivate blinkTimeout: NodeJS.Timeout;\n\tprivate visible: boolean = false;\n\tprivate domAttached: boolean = false;\n\n\t// position and size should be in core pixels.\n\tconstructor(position: cool.Point, size: cool.Point, map: any, options: any) {\n\t\tthis.opacity = options.opacity !== undefined ? options.opacity : this.opacity;\n\t\tthis.zIndex = options.zIndex !== undefined ? options.zIndex : this.zIndex;\n\t\tthis.blink = options.blink !== undefined ? options.blink : this.blink;\n\t\tthis.color = options.color !== undefined ? options.color : this.color;\n\t\tthis.header = options.header !== undefined ? options.header : this.header;\n\t\tthis.headerName = options.headerName !== undefined ? options.headerName : this.headerName;\n\t\tthis.headerTimeout = options.headerTimeout !== undefined ? options.headerTimeout : this.headerTimeout;\n\n\t\tthis.position = position;\n\t\tthis.size = size;\n\t\tthis.map = map;\n\n\t\tthis.initLayout();\n\t}\n\n\tadd() {\n\t\tif (!this.container) {\n\t\t\tthis.initLayout();\n\t\t}\n\n\t\tthis.setMouseCursor();\n\n\t\tthis.map.getCursorOverlayContainer().appendChild(this.container);\n\t\tthis.visible = true;\n\t\tthis.domAttached = true;\n\n\t\tthis.update();\n\n\t\tif (this.map._docLayer.isCalc())\n\t\t\tthis.map.on('splitposchanged move', this.update, this);\n\t\telse\n\t\t\tthis.map.on('move', this.update, this);\n\n\t\twindow.addEventListener('blur', this.onFocusBlur.bind(this));\n\t\twindow.addEventListener('focus', this.onFocusBlur.bind(this));\n\t\twindow.addEventListener('resize', this.onResize.bind(this));\n\t}\n\n\tsetMouseCursor() {\n\t\tif (this.domAttached && this.container && this.container.querySelector('.blinking-cursor') !== null) {\n\t\t\tif (this.map._docLayer._docType === 'presentation') {\n\t\t\t\t$('.leaflet-interactive').css('cursor', 'text');\n\t\t\t} else {\n\t\t\t\t$('.leaflet-pane.leaflet-map-pane').css('cursor', 'text');\n\t\t\t}\n\t\t}\n\t}\n\tsetMouseCursorForTextBox() {\n\t\tif (this.domAttached && this.container && this.container.querySelector('.blinking-cursor') !== null) {\n\t\t\t$('.leaflet-interactive').css('cursor', 'text');\n\t\t}\n\t\tthis.addCursorClass(app.file.textCursor.visible);\n\t\tthis.setOpacity(app.file.textCursor.visible ? 1: 0);\n\t}\n\n\tremove() {\n\t\tthis.map.off('splitposchanged', this.update, this);\n\t\tif (this.map._docLayer._docType === 'presentation') {\n\t\t\t$('.leaflet-interactive').css('cursor', '');\n\t\t} else {\n\t\t\t$('.leaflet-pane.leaflet-map-pane').css('cursor', '');\n\t\t}\n\t\tif (this.container && this.domAttached) {\n\t\t\tthis.map.getCursorOverlayContainer().removeChild(this.container);\n\t\t}\n\n\t\tthis.visible = false;\n\t\tthis.domAttached = false;\n\n\t\twindow.removeEventListener('blur', this.onFocusBlur.bind(this));\n\t\twindow.removeEventListener('focus', this.onFocusBlur.bind(this));\n\t\twindow.removeEventListener('resize', this.onResize.bind(this));\n\t}\n\n\tisDomAttached(): boolean {\n\t\treturn this.domAttached;\n\t}\n\n\taddCursorClass(visible: boolean) {\n\t\tif (visible)\n\t\t\tL.DomUtil.removeClass(this.cursor, 'blinking-cursor-hidden');\n\t\telse\n\t\t\tL.DomUtil.addClass(this.cursor, 'blinking-cursor-hidden');\n\t}\n\n\tisVisible(): boolean {\n\t\treturn this.visible;\n\t}\n\n\tonFocusBlur(ev: FocusEvent) {\n\t\tthis.addCursorClass(ev.type !== 'blur');\n\t}\n\n\tonResize() {\n\t\tif (window.devicePixelRatio !== 1 )\n\t\t\tthis.cursor.style.width = this.width / window.devicePixelRatio + 'px';\n\t\telse\n\t\t\tthis.cursor.style.removeProperty('width');\n\t}\n\n\t// position and size should be in core pixels.\n\tsetPositionSize(position: cool.Point, size: cool.Point) {\n\t\tthis.position = position;\n\t\tthis.size = size;\n\t\tthis.update();\n\t}\n\n\tgetPosition(): cool.Point {\n\t\treturn this.position;\n\t}\n\n\tprivate update() {\n\t\tif (!this.container || !this.map || !this.map.hasDocBounds())\n\t\t\treturn;\n\n\t\tvar docBounds = <cool.Bounds>this.map.getCorePxDocBounds();\n\t\tvar inDocCursor = docBounds.contains(this.position);\n\t\t// Calculate position and size in CSS pixels.\n\t\tvar viewBounds = <cool.Bounds>(this.map.getPixelBoundsCore());\n\t\tvar spCxt = this.map.getSplitPanesContext();\n\t\tvar origin = viewBounds.min.clone();\n\t\tvar paneSize = viewBounds.getSize();\n\t\tvar splitPos = new cool.Point(0, 0);\n\t\tif (inDocCursor && spCxt) {\n\t\t\tsplitPos = spCxt.getSplitPos().multiplyBy(app.dpiScale);\n\t\t\tif (this.position.x <= splitPos.x && this.position.x >= 0) {\n\t\t\t\torigin.x = 0;\n\t\t\t\tpaneSize.x = splitPos.x;\n\t\t\t}\n\t\t\telse {\n\t\t\t\tpaneSize.x -= splitPos.x;\n\t\t\t}\n\n\t\t\tif (this.position.y <= splitPos.y && this.position.y >= 0) {\n\t\t\t\torigin.y = 0;\n\t\t\t\tpaneSize.y = splitPos.y;\n\t\t\t}\n\t\t\telse {\n\t\t\t\tpaneSize.y -= splitPos.y;\n\t\t\t}\n\t\t}\n\t\tvar canvasOffset = this.position.subtract(origin);\n\n\t\tif (inDocCursor) {\n\t\t\tvar cursorOffset = new cool.Point(\n\t\t\t\torigin.x ? canvasOffset.x - splitPos.x : canvasOffset.x,\n\t\t\t\torigin.y ? canvasOffset.y - splitPos.y : canvasOffset.y);\n\t\t\tvar paneBounds = new cool.Bounds(new cool.Point(0, 0), paneSize);\n\t\t\tvar cursorBounds = new cool.Bounds(cursorOffset, cursorOffset.add(this.size));\n\n\t\t\tif (!paneBounds.contains(cursorBounds)) {\n\t\t\t\tthis.container.style.visibility = 'hidden';\n\t\t\t\tthis.visible = false;\n\t\t\t\tthis.addCursorClass(this.visible);\n\t\t\t\tthis.showCursorHeader();\n\t\t\t\treturn;\n\t\t\t}\n\t\t}\n\n\t\tthis.container.style.visibility = 'visible';\n\t\tthis.visible = true;\n\t\tthis.addCursorClass(this.visible);\n\n\t\tvar tileSectionPos = this.map._docLayer.getTileSectionPos();\n\t\t// Compute tile-section offset in css pixels.\n\t\tvar pos = canvasOffset.add(tileSectionPos)._divideBy(app.dpiScale)._round();\n\t\tvar size = this.size.divideBy(app.dpiScale)._round();\n\t\tthis.setSize(size);\n\t\tthis.setPos(pos);\n\t\tthis.showCursorHeader();\n\t}\n\n\tsetOpacity(opacity: number) {\n\t\tif (this.container)\n\t\t\tL.DomUtil.setOpacity(this.cursor, opacity);\n\t\tif (this.cursorHeader)\n\t\t\tL.DomUtil.setOpacity(this.cursorHeader, opacity);\n\t}\n\n\t// Shows cursor header if cursor is in visible area.\n\tshowCursorHeader() {\n\t\tif (this.cursorHeader) {\n\t\t\tif (!this.visible || this.map._docLayer._isZooming) {\n\t\t\t\tthis.hideCursorHeader();\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tL.DomUtil.setStyle(this.cursorHeader, 'visibility', 'visible');\n\n\t\t\tclearTimeout(this.blinkTimeout);\n\t\t\tthis.blinkTimeout = setTimeout(L.bind(function () {\n\t\t\t\tthis.hideCursorHeader();\n\t\t\t}, this), this.headerTimeout);\n\t\t}\n\t}\n\n\thideCursorHeader() {\n\t\tif (this.cursorHeader)\n\t\t\tL.DomUtil.setStyle(this.cursorHeader, 'visibility', 'hidden');\n\t}\n\n\tprivate initLayout() {\n\t\tthis.container = L.DomUtil.create('div', 'leaflet-cursor-container');\n\t\tif (this.header) {\n\t\t\tthis.cursorHeader = L.DomUtil.create('div', 'leaflet-cursor-header', this.container);\n\n\t\t\tthis.cursorHeader.textContent = this.headerName;\n\n\t\t\tclearTimeout(this.blinkTimeout);\n\t\t\tthis.blinkTimeout = setTimeout(L.bind(function () {\n\t\t\t\tL.DomUtil.setStyle(this._cursorHeader, 'visibility', 'hidden');\n\t\t\t}, this), this.headerTimeout);\n\t\t}\n\t\tthis.cursor = L.DomUtil.create('div', 'leaflet-cursor', this.container);\n\t\tif (this.blink) {\n\t\t\tL.DomUtil.addClass(this.cursor, 'blinking-cursor');\n\t\t}\n\n\t\tif (this.color) {\n\t\t\tL.DomUtil.setStyle(this.cursorHeader, 'background', this.color);\n\t\t\tL.DomUtil.setStyle(this.cursor, 'background', this.color);\n\t\t}\n\n\t\tL.DomEvent\n\t\t\t.disableClickPropagation(this.cursor)\n\t\t\t.disableScrollPropagation(this.container);\n\n\t\tlet cursorCss = getComputedStyle(this.cursor, null);\n\t\tthis.width = parseFloat(cursorCss.getPropertyValue('width'));\n\t}\n\n\tprivate transformX(xpos: number): number {\n\t\tif (!this.map._docLayer.isCalcRTL()) {\n\t\t\treturn xpos;\n\t\t}\n\n\t\treturn this.map._size.x - xpos;\n\t}\n\n\tprivate setPos(pos: cool.Point) {\n\t\tthis.container.style.top = pos.y + 'px';\n\t\tthis.container.style.left = this.transformX(pos.x) + 'px';\n\t\tthis.container.style.zIndex = this.zIndex + '';\n\t\t// Restart blinking animation\n\t\tif (this.blink) {\n\t\t\tL.DomUtil.removeClass(this.cursor, 'blinking-cursor');\n\t\t\tvoid this.cursor.offsetWidth;\n\t\t\tL.DomUtil.addClass(this.cursor, 'blinking-cursor');\n\t\t}\n\t}\n\n\tprivate setSize(size: cool.Point) {\n\t\tthis.cursor.style.height = size.y + 'px';\n\t\tthis.container.style.top = '-' + (this.container.clientHeight - size.y - 2) / 2 + 'px';\n\t}\n\n\tstatic hotSpot = new Map<string, cool.Point>([['fill', new cool.Point(7, 16)]]);\n\n\tstatic customCursors = [\n\t\t'fill'\n\t];\n\n\tstatic imagePath: string;\n\n\tstatic isCustomCursor(cursorName: string): boolean {\n\t\treturn (Cursor.customCursors.indexOf(cursorName) !== -1);\n\t}\n\n\tstatic getCustomCursor(cursorName: string) {\n\t\tvar customCursor;\n\n\t\tif (Cursor.isCustomCursor(cursorName)) {\n\t\t\tvar cursorHotSpot = Cursor.hotSpot.get(cursorName) || new cool.Point(0, 0);\n\t\t\tcustomCursor = L.Browser.ie ? // IE10 does not like item with left/top position in the url list\n\t\t\t\t'url(' + Cursor.imagePath + '/' + cursorName + '.cur), default' :\n\t\t\t\t'url(' + Cursor.imagePath + '/' + cursorName + '.png) ' + cursorHotSpot.x + ' ' + cursorHotSpot.y + ', default';\n\t\t}\n\t\treturn customCursor;\n\t};\n}\n"]}