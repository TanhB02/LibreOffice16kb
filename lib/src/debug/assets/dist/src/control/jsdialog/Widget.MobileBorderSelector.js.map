{"version":3,"file":"Widget.MobileBorderSelector.js","sourceRoot":"","sources":["../../../../../../../../../../../TanhX/online/browser/src/control/jsdialog/Widget.MobileBorderSelector.js"],"names":[],"mappings":"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","sourcesContent":["/* -*- js-indent-level: 8 -*- */\n/*\n * Copyright the Collabora Online contributors.\n *\n * SPDX-License-Identifier: MPL-2.0\n *\n * This Source Code Form is subject to the terms of the Mozilla Public\n * License, v. 2.0. If a copy of the MPL was not distributed with this\n * file, You can obtain one at http://mozilla.org/MPL/2.0/.\n */\n\n/*\n * JSDialog.MobileBorderSelector - widget for selecting border style on mobile\n *\n * Example JSON:\n * {\n *     id: 'id',\n *     type: 'borderstyle'\n * }\n */\n\n/* global _ JSDialog $ app */\n\nfunction _getCurrentBorderNumber(builder) {\n\tvar outer = builder.map['stateChangeHandler'].getItemValue('.uno:BorderOuter');\n\tvar inner = builder.map['stateChangeHandler'].getItemValue('.uno:BorderInner');\n\n\tif (!outer || !inner)\n\t\treturn 0;\n\n\tvar left = outer.left === 'true';\n\tvar right = outer.right === 'true';\n\tvar bottom = outer.bottom === 'true';\n\tvar top = outer.top === 'true';\n\tvar horiz = inner.horizontal === 'true';\n\tvar vert = inner.vertical === 'true';\n\n\tif (left && !right && !bottom && !top && !horiz && !vert) {\n\t\treturn 2;\n\t} else if (!left && right && !bottom && !top && !horiz && !vert) {\n\t\treturn 3;\n\t} else if (left && right && !bottom && !top && !horiz && !vert) {\n\t\treturn 4;\n\t} else if (!left && !right && !bottom && top && !horiz && !vert) {\n\t\treturn 5;\n\t} else if (!left && !right && bottom && !top && !horiz && !vert) {\n\t\treturn 6;\n\t} else if (!left && !right && bottom && top && !horiz && !vert) {\n\t\treturn 7;\n\t} else if (left && right && bottom && top && !horiz && !vert) {\n\t\treturn 8;\n\t} else if (!left && !right && bottom && top && horiz && !vert) {\n\t\treturn 9;\n\t} else if (left && right && bottom && top && horiz && !vert) {\n\t\treturn 10;\n\t} else if (left && right && bottom && top && !horiz && vert) {\n\t\treturn 11;\n\t} else if (left && right && bottom && top && horiz && vert) {\n\t\treturn 12;\n\t}\n\n\treturn 1;\n}\n\nfunction _borderControlItem(parentContainer, data, builder, i, selected) {\n\tvar button = null;\n\n\tvar div = builder._createIdentifiable('div', 'unotoolbutton mobile-wizard ui-content unospan', parentContainer, data);\n\n\tvar buttonId = 'border-' + i;\n\tbutton = L.DomUtil.create('img', 'ui-content borderbutton', div);\n\tapp.LOUtil.setImage(button, 'fr0' + i + '.svg', builder.map);\n\tbutton.id = buttonId;\n\tif (selected)\n\t\t$(button).addClass('selected');\n\n\t$(div).click(function () {\n\t\tvar color = 0;\n\t\t// Find our associated color picker\n\t\tvar item = app.LOUtil.findItemWithAttributeRecursive(data.parent, 'command', '.uno:FrameLineColor');\n\t\tif (item)\n\t\t\tcolor = JSDialog.getCurrentColor(item, builder);\n\t\twindow.setBorderStyle(i, color);\n\t});\n}\n\nJSDialog.mobileBorderSelector = function (parentContainer, data, builder) {\n\tvar mainContainer = L.DomUtil.create('div', builder.options.cssClass + ' ui-mobileborderselector', parentContainer);\n\tmainContainer.id = data.id;\n\n\tif (data.enabled === false) {\n\t\tmainContainer.disabled = true;\n\t}\n\n\tvar bordercontrollabel = L.DomUtil.create('label', builder.options.cssClass + ' ui-text', mainContainer);\n\tbordercontrollabel.textContent = _('Cell borders');\n\tbordercontrollabel.id = data.id + 'label';\n\tvar current = _getCurrentBorderNumber(builder);\n\tfor (var i = 1; i < 13; ++i)\n\t\t_borderControlItem(mainContainer, data, builder, i, i === current);\n\n\tvar updateFunction = function() {\n\t\tvar current = _getCurrentBorderNumber(builder);\n\t\tfor (var i = 1; i < 13; ++i) {\n\t\t\tif (i !== current)\n\t\t\t\t$('#border-' + i).removeClass('selected');\n\t\t\telse\n\t\t\t\t$('#border-' + i).addClass('selected');\n\t\t}\n\t};\n\n\tbuilder.map.on('commandstatechanged', function(e) {\n\t\tif (e.commandName === '.uno:BorderOuter' || e.commandName === '.uno:BorderInner')\n\t\t\tupdateFunction();\n\t}, this);\n\n\treturn false;\n};\n"]}