{"version":3,"file":"Widget.Frame.js","sourceRoot":"","sources":["../../../../../../../../../../../TanhX/online/browser/src/control/jsdialog/Widget.Frame.js"],"names":[],"mappings":"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","sourcesContent":["/* -*- js-indent-level: 8 -*- */\n/*\n * Copyright the Collabora Online contributors.\n *\n * SPDX-License-Identifier: MPL-2.0\n *\n * This Source Code Form is subject to the terms of the Mozilla Public\n * License, v. 2.0. If a copy of the MPL was not distributed with this\n * file, You can obtain one at http://mozilla.org/MPL/2.0/.\n */\n\n/*\n * JSDialog.Frame - frame widget, label + content we can fold\n *\n * Example JSON:\n * {\n *     id: 'id',\n *     type: 'frame',\n *     children: [\n *         {id: 'label', type: 'fixedtext', text: 'This is label', visible: true}, // could be fixedtext inside container\n *         {id: 'firstChild', type: 'fixedtext', text: 'This is first element inside frame'},\n *         ...\n * \t   ]\n * }\n */\n\n/* global JSDialog $ */\n\nfunction _extractLabelText(data) {\n\tif (data.type === 'fixedtext') {\n\t\treturn data.visible != false ? data.text : ''; // visible can be undefined too, in that case it means its visible\n\t}\n\n\tfor (var i = 0; i < data.children.length; i++) {\n\t\tvar label = _extractLabelText(data.children[i]);\n\t\tif (label)\n\t\t\treturn label;\n\t}\n\n\treturn '';\n}\n\nJSDialog.frame = function _frameHandler(parentContainer, data, builder) {\n\tif (data.children.length > 1) {\n\t\tvar container = L.DomUtil.create('div', 'ui-frame-container ' + builder.options.cssClass, parentContainer);\n\t\tcontainer.id = data.id;\n\n\t\tvar frame = L.DomUtil.create('div', 'ui-frame ' + builder.options.cssClass, container);\n\t\tframe.id = data.id + '-frame';\n\t\tvar label = L.DomUtil.create('label', 'ui-frame-label ' + builder.options.cssClass, frame);\n\t\tlabel.innerText = builder._cleanText(_extractLabelText(data.children[0]));\n\t\tlabel.id = data.children[0].id;\n\t\tif (data.children[0].visible === false)\n\t\t\tL.DomUtil.addClass(label, 'hidden');\n\t\tbuilder.postProcess(frame, data.children[0]);\n\n\t\tvar frameChildren = L.DomUtil.create('div', 'ui-expander-content ' + builder.options.cssClass, container);\n\t\tframeChildren.id = data.id + '-content';\n\t\tlabel.htmlFor = frameChildren.id;\n\t\t$(frameChildren).addClass('expanded');\n\n\t\tvar children = [];\n\t\tfor (var i = 1; i < data.children.length; i++) {\n\t\t\tchildren.push(data.children[i]);\n\t\t}\n\n\t\tbuilder.build(frameChildren, children);\n\t} else {\n\t\treturn builder._controlHandlers['container'](parentContainer, data, builder);\n\t}\n\n\treturn false;\n};\n"]}