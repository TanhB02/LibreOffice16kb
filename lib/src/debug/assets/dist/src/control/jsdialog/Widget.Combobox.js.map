{"version":3,"file":"Widget.Combobox.js","sourceRoot":"","sources":["../../../../../../../../../../../TanhX/online/browser/src/control/jsdialog/Widget.Combobox.js"],"names":[],"mappings":"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","sourcesContent":["/* -*- js-indent-level: 8 -*- */\n/*\n * Copyright the Collabora Online contributors.\n *\n * SPDX-License-Identifier: MPL-2.0\n *\n * This Source Code Form is subject to the terms of the Mozilla Public\n * License, v. 2.0. If a copy of the MPL was not distributed with this\n * file, You can obtain one at http://mozilla.org/MPL/2.0/.\n */\n\n/*\n * JSDialog.Combobox - combobox widget with support for custom renders of entries\n *\n * Example JSON:\n * {\n *     id: 'id',\n *     type: 'combobox',\n *     text: 'some text',\n *     entries: [ 'A', 'B', 'C' ],\n *     customEntryRenderer: true\n * }\n *\n * customEntryRenderer - specifies if entries have custom content which is rendered by the core\n */\n\n/* global JSDialog app $ */\n\nJSDialog.comboboxEntry = function (parentContainer, data, builder) {\n\tvar entry = L.DomUtil.create('div', 'ui-combobox-entry ' + builder.options.cssClass, parentContainer);\n\tentry.id = data.id;\n\n\tif (data.hasSubMenu)\n\t\tL.DomUtil.addClass(entry, 'ui-has-menu');\n\n\tif (data.w2icon) {\n\t\t// FIXME: DEPRECATED, this is legacy way to setup icon based on CSS class\n\t\tL.DomUtil.create('div', 'w2ui-icon ui-combobox-icon ' + data.w2icon, entry);\n\t}\n\n\tif (data.icon) {\n\t\tvar icon = L.DomUtil.create('img', 'ui-combobox-icon', entry);\n\t\tbuilder._isStringCloseToURL(data.icon) ? icon.src = data.icon : app.LOUtil.setImage(icon,  app.LOUtil.getIconNameOfCommand(data.icon), builder.map);\n\t}\n\n\tif (data.hint) {\n\t\tentry.title = data.hint;\n\t}\n\n\tvar content = L.DomUtil.create('span', '', entry);\n\tcontent.innerText = data.text;\n\n\tif (data.selected)\n\t\tL.DomUtil.addClass(entry, 'selected');\n\n\tif (data.checked)\n\t\tL.DomUtil.addClass(entry, 'checked');\n\telse if (data.checked !== undefined)\n\t\tL.DomUtil.addClass(entry, 'notchecked');\n\n\tif (data.customRenderer)\n\t\tJSDialog.OnDemandRenderer(builder, data.comboboxId, 'combobox', data.pos, content, entry, data.text);\n\n\tvar entryData = data.pos + ';' + data.text;\n\n\tvar clickFunction = function () {\n\t\tbuilder.callback('combobox', 'selected', {id: data.comboboxId}, entryData, builder);\n\t};\n\n\tentry.addEventListener('click', clickFunction);\n\tentry.addEventListener('keypress', function (event) {\n\t\tif (event.key === 'Enter') {\n\t\t\tclickFunction();\n\t\t\tevent.preventDefault();\n\t\t}\n\t});\n\n\tif (data.hasSubMenu) {\n\t\tentry.addEventListener('mouseover', function () {\n\t\t\tbuilder.callback('combobox', 'showsubmenu', {id: data.comboboxId}, entryData, builder);\n\t\t});\n\t}\n\n\treturn false;\n};\n\nJSDialog.mobileComboboxEntry = function(parentContainer, data, builder) {\n\tvar comboboxEntry = L.DomUtil.create('p', builder.options.cssClass, parentContainer);\n\tcomboboxEntry.textContent = builder._cleanText(data.text);\n\n\tcomboboxEntry.parent = data.parent;\n\n\tif (data.style && data.style.length)\n\t\tL.DomUtil.addClass(comboboxEntry, data.style);\n\n\tcomboboxEntry.addEventListener('click', function () {\n\t\tbuilder.refreshSidebar = true;\n\t\tif (builder.wizard)\n\t\t\tbuilder.wizard.goLevelUp();\n\t\tbuilder.callback('combobox', 'selected', comboboxEntry.parent, data.pos + ';' + comboboxEntry.textContent, builder);\n\t});\n\n\treturn false;\n};\n\nJSDialog.mobileCombobox = function (parentContainer, data, builder) {\n\tvar container = L.DomUtil.create('div', 'ui-explorable-entry level-' + builder._currentDepth + ' ' + builder.options.cssClass + ' ui-widget', parentContainer);\n\tif (data && data.id)\n\t\tcontainer.id = data.id;\n\n\tvar sectionTitle = L.DomUtil.create('div', 'ui-header level-' + builder._currentDepth + ' ' + builder.options.cssClass + ' ui-widget', container);\n\t$(sectionTitle).css('justify-content', 'space-between');\n\n\tvar leftDiv = L.DomUtil.create('div', 'ui-header-left combobox', sectionTitle);\n\n\tvar editCallback = function(value) {\n\t\tbuilder.callback('combobox', 'change', data, value, builder);\n\t};\n\tbuilder._controlHandlers['edit'](leftDiv, data, builder, editCallback);\n\n\tvar rightDiv = L.DomUtil.create('div', 'ui-header-right', sectionTitle);\n\n\tvar arrowSpan = L.DomUtil.create('span', 'sub-menu-arrow', rightDiv);\n\tarrowSpan.textContent = '>';\n\n\tvar contentDiv = L.DomUtil.create('div', 'ui-content level-' + builder._currentDepth + ' ' + builder.options.cssClass, container);\n\tcontentDiv.title = data.text;\n\n\tvar entries = [];\n\tif (data.entries) {\n\t\tfor (var index in data.entries) {\n\t\t\tvar style = 'ui-combobox-text';\n\t\t\tif ((data.selectedEntries && index == data.selectedEntries[0])\n\t\t\t\t|| data.entries[index] == data.text) {\n\t\t\t\tstyle += ' selected';\n\t\t\t}\n\n\t\t\tvar entry = { type: 'comboboxentry', text: data.entries[index], pos: index, parent: data, style: style };\n\t\t\tentries.push(entry);\n\t\t}\n\t}\n\n\tvar contentNode = {type: 'container', children: entries};\n\n\tbuilder._currentDepth++;\n\tbuilder.build(contentDiv, [contentNode]);\n\tbuilder._currentDepth--;\n\n\tif (!data.nosubmenu)\n\t{\n\t\t$(contentDiv).hide();\n\t\tif (builder.wizard) {\n\t\t\t$(container).click(function(event, data) {\n\t\t\t\tbuilder.wizard.goLevelDown(container, data);\n\t\t\t\tif (contentNode && contentNode.onshow)\n\t\t\t\t\tcontentNode.onshow();\n\t\t\t});\n\t\t} else {\n\t\t\twindow.app.console.debug('Builder used outside of mobile wizard: please implement the click handler');\n\t\t}\n\t}\n\telse\n\t\t$(container).hide();\n\n\tcontainer.onSelect = function (pos) {\n\t\tconsole.error('Not implemented: select entry: ' + pos);\n\t};\n\n\tcontainer.onSetText = function (text) {\n\t\tconsole.error('Not implemented: setText: ' + text);\n\t};\n};\n\nfunction _extractPos(selectCommandData) {\n\treturn selectCommandData.substr(0, selectCommandData.indexOf(';'));\n}\n\nfunction _extractText(selectCommandData) {\n\treturn selectCommandData.substr(selectCommandData.indexOf(';') + 1);\n}\n\nJSDialog.combobox = function (parentContainer, data, builder) {\n\tvar container = L.DomUtil.create('div', 'ui-combobox ' + builder.options.cssClass, parentContainer);\n\tcontainer.id = data.id;\n\tcontainer.role = 'listbox';\n\n\tvar content = L.DomUtil.create('input', 'ui-combobox-content ' + builder.options.cssClass, container);\n\tcontent.id = data.id + '-input';\n\tcontent.value = data.text;\n\tcontent.role = 'combobox';\n\tcontent.setAttribute('autocomplete', 'off');\n\n\tif (data.aria) {\n\t\tcontent.setAttribute('aria-label',data.aria.label);\n\t}\n\tcontainer.setAttribute('aria-haspopup', true);\n\tcontainer.setAttribute('aria-expanded', false);\n\n\tvar button = L.DomUtil.create('div', 'ui-combobox-button ' + builder.options.cssClass, container);\n\tbutton.tabIndex = '0';\n\tbutton.role = 'button';\n\n\tvar arrow = L.DomUtil.create('span', builder.options.cssClass + ' ui-listbox-arrow', button);\n\tarrow.id = 'listbox-arrow-' + data.id;\n\n\tif (data.selectedCount > 0)\n\t\tvar selectedEntryPos = parseInt(data.selectedEntries[0]);\n\n\t// convert to dropdown entries\n\tvar entries = [];\n\tfor (var i in data.entries) {\n\t\tentries.push({\n\t\t\ttext: data.entries[i].toString(),\n\t\t\tselected: parseInt(i) === selectedEntryPos,\n\t\t\tcustomRenderer: data.customEntryRenderer\n\t\t});\n\t}\n\n\tvar resetSelection = function () {\n\t\tfor (var i in entries) {\n\t\t\tentries[i].selected = false;\n\t\t}\n\t};\n\n\tif (data.enabled === false) {\n\t\tcontainer.disabled = true;\n\t\tcontent.disabled = true;\n\t}\n\n\tJSDialog.SynchronizeDisabledState(container, [content]);\n\n\t// notebookbar a11y requires main element to have click handler for shortcuts to work\n\tcontainer.addEventListener('click', function () { content.focus(); });\n\n\tcontent.addEventListener('keyup', function (event) {\n\t\tconst shouldTriggerChange = data.changeOnEnterOnly ? event.key === 'Enter' : true;\n\t\tif (shouldTriggerChange) {\n\t\t\tbuilder.callback('combobox', 'change', data, this.value, builder);\n\t\t\tif (data.focusMapOnEnter && event.key === 'Enter') {\n\t\t\t\tbuilder.map.focus();\n\t\t\t}\n\t\t}\n\n\t\tresetSelection();\n\t\tfor (var i in entries) {\n\t\t\tif (entries[i] == this.value || entries[i].text == this.value) {\n\t\t\t\tentries[i].selected = true;\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t\t// check for drop down is in open state or not.\n\t\t// If open then we should make focus in entries field for Arrow key navigation\n\t\tif (event.key === 'ArrowDown' && builder.map.jsdialog.hasDropdownOpened()) {\n\t\t\tconst comboboxEntries =  JSDialog.GetDropdown(data.id);\n\t\t\tconst selectedElement = comboboxEntries.querySelector(\".selected\");\n\t\t\tif (selectedElement) {\n\t\t\t\tselectedElement.focus();\n\t\t\t\treturn;\n\t\t\t}\n\t\t}\n\t});\n\n\tvar comboboxId = data.id;\n\tvar clickFunction = function () {\n\t\tif (container.hasAttribute('disabled'))\n\t\t\treturn;\n\n\t\tvar parentBuilder = builder;\n\t\tvar callback = function(objectType, eventType, object, data) {\n\t\t\t// send command with correct WindowId (from parent, not dropdown)\n\t\t\tif (eventType !== 'close')\n\t\t\t\tparentBuilder.callback(objectType, eventType, object, data, parentBuilder);\n\n\t\t\t// close after selection\n\t\t\tif (eventType === 'selected') {\n\t\t\t\tcontainer.onSelect(_extractPos(data));\n\t\t\t\tcontainer.onSetText(_extractText(data));\n\n\t\t\t\tJSDialog.CloseDropdown(comboboxId);\n\t\t\t}\n\n\t\t\treturn true;\n\t\t};\n\n\t\tJSDialog.OpenDropdown(data.id, container, entries, callback);\n\t};\n\n\tbutton.addEventListener('click', clickFunction);\n\tbutton.addEventListener('keypress', function (event) {\n\t\tif (event.key === 'Enter' || event.key === ' ')\n\t\t\tclickFunction();\n\t});\n\n\tcontainer.updateRenders = function (pos) {\n\t\tvar dropdownRoot = JSDialog.GetDropdown(data.id);\n\t\tif (!dropdownRoot)\n\t\t\treturn;\n\n\t\tvar dropdown = dropdownRoot.querySelectorAll('.ui-combobox-entry');\n\t\tif (dropdown[pos]) {\n\t\t\tdropdown[pos].replaceChildren();\n\t\t\tvar img = L.DomUtil.create('img', '', dropdown[pos]);\n\t\t\timg.src = builder.rendersCache[data.id].images[pos];\n\t\t\timg.alt = entries[pos].text;\n\t\t\timg.title = entries[pos].text;\n\t\t}\n\t};\n\n\tcontainer.onSelect = function (pos) {\n\t\tresetSelection();\n\t\tif (pos >= 0 && entries[pos])\n\t\t\tentries[pos].selected = true;\n\t\telse if (!entries[pos])\n\t\t\tconsole.warn('Cannot find entry with pos: \"' + pos + '\" in \"' + data.id + '\"');\n\t};\n\n\tcontainer.onSetText = function (text) {\n\t\tif (document.activeElement === content)\n\t\t\treturn;\n\t\tcontent.value = text;\n\t};\n\n\treturn false;\n};\n"]}