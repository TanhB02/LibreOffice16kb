{"version":3,"file":"Control.JSDialogBuilder.js","sourceRoot":"","sources":["../../../../../../../../../../TanhX/online/browser/src/control/Control.JSDialogBuilder.js"],"names":[],"mappings":"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","sourcesContent":["/* -*- js-indent-level: 8 -*- */\n/*\n * Copyright the Collabora Online contributors.\n *\n * SPDX-License-Identifier: MPL-2.0\n *\n * This Source Code Form is subject to the terms of the Mozilla Public\n * License, v. 2.0. If a copy of the MPL was not distributed with this\n * file, You can obtain one at http://mozilla.org/MPL/2.0/.\n */\n\n/*\n * L.Control.JSDialogBuilder used for building the native HTML components\n * from the JSON description provided by the server.\n */\n\n/* global app $ _ L JSDialog */\n\nL.Control.JSDialogBuilder = L.Control.extend({\n\n\toptions: {\n\t\t// window id\n\t\twindowId: null,\n\t\t// reference to map\n\t\tmap: null,\n\t\t// reference to the parent container\n\t\tmobileWizard: null,\n\t\t// css class name added to the html nodes\n\t\tcssClass: 'mobile-wizard',\n\t\t// custom tabs placement handled by the parent container\n\t\tuseSetTabs: false,\n\n\t\t// create only icon without label\n\t\tnoLabelsForUnoButtons: false,\n\n\t\t// create labels next to the icon\n\t\tuseInLineLabelsForUnoButtons: false\n\t},\n\n\twindowId: null,\n\n\t/* Handler is a function which takes three parameters:\n\t * parentContainer - place where insert the content\n\t * data - data of a control under process\n\t * builder - current builder reference\n\t *\n\t * returns boolean: true if children should be processed\n\t * and false otherwise\n\t */\n\t_controlHandlers: null,\n\t_toolitemHandlers: null,\n\t_menuItemHandlers: null,\n\t_menus: null,\n\t_colorPickers: null,\n\t_decimal: '.',\n\t_minusSign: '-',\n\n\t// Responses are included in a parent container. While buttons are created, responses need to be checked.\n\t// So we save the button ids and responses to check them later.\n\t_responses: {}, // Button id = response\n\n\t_currentDepth: 0,\n\n\trendersCache: {\n\t\tfontnamecombobox: { persistent: true, images: [] },\n\t\tlayoutpanel_icons: { persistent: true, images: [] },\n\t\ttransitions_icons: { persistent: true, images: [] },\n\t\ticonview_theme_colors: { persistent: true, images: [] },\n\t\tctlFavoriteswin: { persistent: true, images: [] },\n\t}, // eg. custom renders for combobox entries\n\n\tsetWindowId: function (id) {\n\t\tthis.windowId = id;\n\t},\n\n\t_setup: function(options) {\n\t\tthis._clearColorPickers();\n\t\tthis.wizard = options.mobileWizard;\n\t\tthis.map = options.map;\n\t\tthis.windowId = options.windowId;\n\t\tthis.dialogId = null;\n\t\tthis.callback = options.callback ? options.callback : this._defaultCallbackHandler;\n\n\t\tthis._colorPickers = [];\n\n\t\t// list of types which can have multiple children but are not considered as containers\n\t\tthis._nonContainerType = ['buttonbox', 'treelistbox', 'iconview', 'combobox', 'listbox',\n\t\t\t'scrollwindow', 'grid', 'tabcontrol', 'multilineedit', 'formulabaredit', 'frame'];\n\n\t\tthis._controlHandlers = {};\n\t\tthis._controlHandlers['radiobutton'] = this._radiobuttonControl;\n\t\tthis._controlHandlers['progressbar'] = JSDialog.progressbar;\n\t\tthis._controlHandlers['checkbox'] = this._checkboxControl;\n\t\tthis._controlHandlers['basespinfield'] = this.baseSpinField;\n\t\tthis._controlHandlers['spinfield'] = this._spinfieldControl;\n\t\tthis._controlHandlers['metricfield'] = this._metricfieldControl;\n\t\tthis._controlHandlers['time'] = JSDialog.timeField;\n\t\tthis._controlHandlers['formattedfield'] = this._formattedfieldControl;\n\t\tthis._controlHandlers['edit'] = JSDialog.edit;\n\t\tthis._controlHandlers['searchedit'] = JSDialog.searchEdit;\n\t\tthis._controlHandlers['formulabaredit'] = JSDialog.formulabarEdit;\n\t\tthis._controlHandlers['multilineedit'] = JSDialog.multilineEdit;\n\t\tthis._controlHandlers['pushbutton'] = this._pushbuttonControl;\n\t\tthis._controlHandlers['okbutton'] = this._pushbuttonControl;\n\t\tthis._controlHandlers['helpbutton'] = this._pushbuttonControl;\n\t\tthis._controlHandlers['cancelbutton'] = this._pushbuttonControl;\n\t\tthis._controlHandlers['combobox'] = JSDialog.combobox;\n\t\tthis._controlHandlers['comboboxentry'] = JSDialog.comboboxEntry;\n\t\tthis._controlHandlers['listbox'] = this._listboxControl;\n\t\tthis._controlHandlers['valueset'] = this._valuesetControl;\n\t\tthis._controlHandlers['fixedtext'] = this._fixedtextControl;\n\t\tthis._controlHandlers['linkbutton'] = this._linkButtonControl;\n\t\tthis._controlHandlers['htmlcontrol'] = this._htmlControl;\n\t\tthis._controlHandlers['expander'] = this._expanderHandler;\n\t\tthis._controlHandlers['grid'] = JSDialog.grid;\n\t\tthis._controlHandlers['alignment'] = this._alignmentHandler;\n\t\tthis._controlHandlers['buttonbox'] = JSDialog.buttonBox;\n\t\tthis._controlHandlers['frame'] = JSDialog.frame;\n\t\tthis._controlHandlers['deck'] = JSDialog.deck;\n\t\tthis._controlHandlers['panel'] = JSDialog.panel;\n\t\tthis._controlHandlers['calcfuncpanel'] = this._calcFuncListPanelHandler;\n\t\tthis._controlHandlers['tabcontrol'] = this._tabsControlHandler;\n\t\tthis._controlHandlers['tabpage'] = this._tabPageHandler;\n\t\tthis._controlHandlers['singlepanel'] = this._singlePanelHandler;\n\t\tthis._controlHandlers['container'] = JSDialog.container;\n\t\tthis._controlHandlers['dialog'] = JSDialog.container;\n\t\tthis._controlHandlers['messagebox'] = JSDialog.container;\n\t\tthis._controlHandlers['window'] = JSDialog.container;\n\t\tthis._controlHandlers['borderwindow'] = this._borderwindowHandler;\n\t\tthis._controlHandlers['control'] = JSDialog.container;\n\t\tthis._controlHandlers['scrollbar'] = this._ignoreHandler;\n\t\tthis._controlHandlers['toolbox'] = JSDialog.toolbox;\n\t\tthis._controlHandlers['spacer'] = JSDialog.spacer;\n\t\tthis._controlHandlers['toolitem'] = this._toolitemHandler;\n\t\tthis._controlHandlers['colorsample'] = this._colorSampleControl;\n\t\tthis._controlHandlers['divcontainer'] = this._divContainerHandler;\n\t\tthis._controlHandlers['colorlistbox'] = JSDialog.colorPickerButton;\n\t\tthis._controlHandlers['treelistbox'] = JSDialog.treeView;\n\t\tthis._controlHandlers['iconview'] = JSDialog.iconView;\n\t\tthis._controlHandlers['drawingarea'] = JSDialog.drawingArea;\n\t\tthis._controlHandlers['rootcomment'] = this._rootCommentControl;\n\t\tthis._controlHandlers['comment'] = this._commentControl;\n\t\tthis._controlHandlers['emptyCommentWizard'] = this._rootCommentControl;\n\t\tthis._controlHandlers['separator'] = this._separatorControl;\n\t\tthis._controlHandlers['menubutton'] = JSDialog.menubuttonControl;\n\t\tthis._controlHandlers['spinner'] = this._spinnerControl;\n\t\tthis._controlHandlers['spinnerimg'] = this._spinnerImgControl;\n\t\tthis._controlHandlers['image'] = this._imageHandler;\n\t\tthis._controlHandlers['scrollwindow'] = JSDialog.scrolledWindow;\n\t\tthis._controlHandlers['customtoolitem'] = this._mapDispatchToolItem;\n\t\tthis._controlHandlers['bigcustomtoolitem'] = this._mapBigDispatchToolItem;\n\t\tthis._controlHandlers['calendar'] = JSDialog.calendar;\n\t\tthis._controlHandlers['htmlcontent'] = JSDialog.htmlContent;\n\t\tthis._controlHandlers['colorpicker'] = JSDialog.colorPicker;\n\t\tthis._controlHandlers['dropdown'] = JSDialog.Dropdown;\n\t\tthis._controlHandlers['menu'] = JSDialog.treeView;\n\n\t\tthis._controlHandlers['mainmenu'] = JSDialog.container;\n\t\tthis._controlHandlers['submenu'] = this._subMenuHandler;\n\t\tthis._controlHandlers['menuitem'] = this._menuItemHandler;\n\n\t\tthis._menuItemHandlers = {};\n\t\tthis._menuItemHandlers['inserttable'] = this._insertTableMenuItem;\n\n\t\tthis._toolitemHandlers = {};\n\t\tthis._toolitemHandlers['.uno:XLineColor'] = JSDialog.colorPickerButton;\n\t\tthis._toolitemHandlers['.uno:FontColor'] = JSDialog.colorPickerButton;\n\t\tthis._toolitemHandlers['.uno:CharBackColor'] = JSDialog.colorPickerButton;\n\t\tthis._toolitemHandlers['.uno:BackgroundColor'] = JSDialog.colorPickerButton;\n\t\tthis._toolitemHandlers['.uno:TableCellBackgroundColor'] = JSDialog.colorPickerButton;\n\t\tthis._toolitemHandlers['.uno:FrameLineColor'] = JSDialog.colorPickerButton;\n\t\tthis._toolitemHandlers['.uno:Color'] = JSDialog.colorPickerButton;\n\t\tthis._toolitemHandlers['.uno:FillColor'] = JSDialog.colorPickerButton;\n\n\t\tthis._toolitemHandlers['.uno:InsertFormula'] = function () {};\n\n\t\tthis._menus = JSDialog.MenuDefinitions;\n\n\t\tthis._currentDepth = 0;\n\n\t\tapp.localeService.initializeNumberFormatting();\n\t\tthis._decimal = app.localeService.getDecimalSeparator();\n\t\tthis._minusSign = app.localeService.getMinusSign();\n\t},\n\n\treportValidity: function() {\n\t\tvar isValid = true;\n\t\tif (!this._container)\n\t\t\treturn isValid;\n\n\t\tvar inputs = this._container.querySelectorAll('input[type=\"number\"]');\n\t\tfor (var item = 0; item < inputs.length; item++) {\n\t\t\tif (!inputs[item].checkVisibility())\n\t\t\t\tcontinue;\n\n\t\t\tisValid = inputs[item].reportValidity();\n\t\t\tif (!isValid)\n\t\t\t\tbreak;\n\t\t}\n\n\t\treturn isValid;\n\t},\n\n\tisContainerType: function(type) {\n\t\treturn this._nonContainerType.indexOf(type) < 0;\n\t},\n\n\tsetContainer: function(container) {\n\t\tthis._container = container;\n\t},\n\n\t_clearColorPickers: function() {\n\t\tthis._colorPickers = [];\n\t\tL.ColorPicker.ID = 0;\n\t},\n\n\t_preventDocumentLosingFocusOnClick: function(div) {\n\t\t$(div).on('mousedown',function (e) {\n\t\t\te.preventDefault();\n\t\t\te.stopPropagation();\n\t\t});\n\t},\n\n\t_toolitemHandler: function(parentContainer, data, builder) {\n\t\tif (data.command || data.postmessage) {\n\t\t\tvar handler = builder._toolitemHandlers[data.command];\n\t\t\tif (handler)\n\t\t\t\thandler(parentContainer, data, builder);\n\t\t\telse if (data.text || data.command || data.postmessage) {\n\t\t\t\tbuilder._unoToolButton(parentContainer, data, builder);\n\t\t\t} else\n\t\t\t\twindow.app.console.warn('Unsupported toolitem type: \"' + data.command + '\"');\n\t\t}\n\n\t\tbuilder.postProcess(parentContainer, data);\n\n\t\treturn false;\n\t},\n\n\t_preventNonNumericalInput: function(e) {\n\t\te = e || window.event;\n\t\tvar charCode = (typeof e.which == 'undefined') ? e.keyCode : e.which;\n\t\tvar charStr = String.fromCharCode(charCode);\n\t\tvar regex = new RegExp('^[0-9\\\\' + this._decimal + '\\\\' + this._minusSign + ']+$');\n\t\tif (!charStr.match(regex))\n\t\t\treturn e.preventDefault();\n\n\t\tvar value = e.target.value;\n\t\tif (!value)\n\t\t\treturn e.preventDefault();\n\n\t\t// no dup\n\t\tif (this._decimal === charStr || this._minusSign === charStr) {\n\t\t\tif (value.indexOf(charStr) > -1)\n\t\t\t\treturn e.preventDefault();\n\t\t}\n\t},\n\n\t// by default send new state to the core\n\t_defaultCallbackHandler: function(objectType, eventType, object, data, builder) {\n\t\tif (builder.map.uiManager.isUIBlocked())\n\t\t\treturn;\n\n\t\tif (objectType === 'responsebutton' && data === 1 && !builder.reportValidity())\n\t\t\treturn;\n\n\t\twindow.app.console.debug('control: \\'' + objectType + '\\' id:\\'' + object.id + '\\' event: \\'' + eventType + '\\' state: \\'' + data + '\\'');\n\n\t\t// if user does action - enter following own cursor mode\n\t\tvar viewId = builder.map && builder.map._docLayer ? builder.map._docLayer._getViewId() : -1;\n\t\tif (viewId >= 0)\n\t\t\tapp.setFollowingUser(viewId);\n\n\t\tif (builder.wizard.setCurrentScrollPosition)\n\t\t\tbuilder.wizard.setCurrentScrollPosition();\n\n\t\tif (objectType == 'toolbutton' && eventType == 'click' && data.indexOf('.uno:') >= 0) {\n\t\t\t// encode spaces\n\t\t\tvar encodedCommand = data.replace(' ', '%20');\n\t\t\tbuilder.map.sendUnoCommand(encodedCommand);\n\t\t} else if (object) {\n\t\t\t// CSV and Macro Security Warning Dialogs are shown before the document load\n\t\t\t// In that state the document is not really loaded and closing or cancelling it\n\t\t\t// returns docnotloaded error. Instead of this we can return to the integration\n\t\t\tif (!builder.map._docLoaded &&\n\t\t\t\t !window._firstDialogHandled &&\n\t\t\t\t (eventType === 'close' ||\n\t\t\t\t (objectType === 'responsebutton' && data == 7))) {\n\t\t\t\tlet dispatcher = app.dispatcher;\n\t\t\t\tif (!dispatcher)\n\t\t\t\t\tdispatcher = new app.definitions['dispatcher']('global');\n\n\t\t\t\tdispatcher.dispatch('closeapp');\n\t\t\t}\n\t\t\tswitch (typeof data) {\n\t\t\tcase 'string':\n\t\t\t\t// escape backspaces, quotes, newlines, and so on; remove added quotes\n\t\t\t\tdata = JSON.stringify(data).slice(1, -1);\n\t\t\t\tbreak;\n\t\t\tcase 'object':\n\t\t\t\tdata = encodeURIComponent(JSON.stringify(data));\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\tvar windowId = builder.windowId !== null && builder.windowId !== undefined ? builder.windowId :\n\t\t\t\t(window.mobileDialogId !== undefined ? window.mobileDialogId :\n\t\t\t\t\t(window.sidebarId !== undefined ? window.sidebarId : -1));\n\t\t\tvar message = 'dialogevent ' + windowId\n\t\t\t\t\t+ ' {\\\"id\\\":\\\"' + object.id\n\t\t\t\t+ '\\\", \\\"cmd\\\": \\\"' + eventType\n\t\t\t\t+ '\\\", \\\"data\\\": \\\"' + data\n\t\t\t\t+ '\\\", \\\"type\\\": \\\"' + objectType + '\\\"}';\n\t\t\tapp.socket.sendMessage(message);\n\t\t\twindow._firstDialogHandled = true;\n\t\t}\n\t},\n\n\tbaseSpinField: function(parentContainer, data, builder, customCallback) {\n\t\tvar controls = {};\n\t\tif (data.label) {\n\t\t\tvar fixedTextData = { text: data.label };\n\t\t\tbuilder._fixedtextControl(parentContainer, fixedTextData, builder);\n\t\t}\n\n\t\tvar div = L.DomUtil.create('div', builder.options.cssClass + ' spinfieldcontainer', parentContainer);\n\t\tdiv.id = data.id;\n\t\tcontrols['container'] = div;\n\n\t\tvar spinfield = L.DomUtil.create('input', builder.options.cssClass + ' spinfield', div);\n\t\tspinfield.id = data.id + '-input';\n\t\tspinfield.type = 'number';\n\t\tspinfield.dir = document.documentElement.dir;\n\t\tspinfield.tabIndex = '0';\n\t\tspinfield.setAttribute('autocomplete', 'off');\n\t\tbuilder._addAriaLabel(spinfield, data, builder);\n\n\t\tcontrols['spinfield'] = spinfield;\n\n\n\t\tif (data.unit && data.unit !== ':') {\n\t\t\tvar unit = L.DomUtil.create('span', builder.options.cssClass + ' spinfieldunit', div);\n\t\t\tunit.textContent = builder._unitToVisibleString(data.unit);\n\t\t}\n\n\t\tvar getPrecision = function (data) {\n\t\t\tdata = Math.abs(data);\n\t\t\tvar str = '' + data;\n\t\t\tvar dot = str.indexOf('.');\n\t\t\treturn dot > 0 ? 1 / Math.pow(10, str.length - dot - 1) : 1;\n\t\t};\n\n\t\tif (data.min != undefined)\n\t\t\t$(spinfield).attr('min', data.min);\n\n\t\tif (data.max != undefined)\n\t\t\t$(spinfield).attr('max', data.max);\n\n\t\tif (data.step != undefined) {\n\t\t\t// we don't want to show error popups due to browser step validation\n\t\t\t// so be sure all the values will be acceptted, check only precision\n\t\t\tvar step = getPrecision(data.step);\n\t\t\tvar value = data.value ? getPrecision(data.value) : 1;\n\t\t\tvar minStep = getPrecision(data.min);\n\t\t\tvar maxStep = getPrecision(data.max);\n\n\t\t\tstep = Math.min(step, value, minStep, maxStep);\n\n\t\t\t$(spinfield).attr('step', step);\n\t\t}\n\n\t\tconst isDisabled = data.enabled === false;\n\n\t\tif (isDisabled) {\n\t\t\tdiv.disabled = true;\n\t\t\tspinfield.setAttribute('disabled', 'true');\n\t\t}\n\n\t\tspinfield.setAttribute('aria-disabled', isDisabled);\n\n\t\tJSDialog.SynchronizeDisabledState(div, [spinfield]);\n\n\t\tif (data.readOnly === true)\n\t\t\t$(spinfield).attr('readOnly', 'true');\n\n\t\tif (data.hidden)\n\t\t\t$(spinfield).hide();\n\n\t\tspinfield.addEventListener('change', function() {\n\t\t\tconst isCurrentlyDisabled = div.hasAttribute('disabled');\n\t\t\tvar isValid = this.checkValidity();\n\t\t\tif (!isCurrentlyDisabled && isValid) {\n\t\t\t\tif (customCallback)\n\t\t\t\t\tcustomCallback('spinfield', 'change', div, this.value, builder);\n\t\t\t\telse\n\t\t\t\t\tbuilder.callback('spinfield', 'change', div, this.value, builder);\n\t\t\t}\n\t\t});\n\n\t\treturn controls;\n\t},\n\n\tlistenNumericChanges: function (data, builder, controls, customCallback) {\n\t\tcontrols.spinfield.addEventListener('change', function() {\n\t\t\tif (!this.checkValidity())\n\t\t\t\treturn;\n\n\t\t\tif (customCallback)\n\t\t\t\tcustomCallback();\n\t\t\telse\n\t\t\t\tbuilder.callback('spinfield', 'value', controls.container, this.value, builder);\n\t\t});\n\t},\n\n\t_setupHandlers: function (controlElement, handlers) {\n\t\tif (handlers) {\n\t\t\tfor (var i = 0; i < handlers.length; ++i) {\n\t\t\t\tvar event = handlers[i].event;\n\t\t\t\tvar handler = handlers[i].handler;\n\t\t\t\tif (!app.util.isEmpty(event) && handler) {\n\t\t\t\t\tif (event === 'click') {\n\t\t\t\t\t\tvar eventData = {\n\t\t\t\t\t\t\tid: controlElement.id\n\t\t\t\t\t\t};\n\t\t\t\t\t\t$(controlElement).click(\n\t\t\t\t\t\t\t// avoid to access mutable variable (that is `i` dependent) in closure\n\t\t\t\t\t\t\t(function (lhandler, leventData) {\n\t\t\t\t\t\t\t\treturn function() { lhandler(leventData); };\n\t\t\t\t\t\t\t})(handler, eventData)\n\t\t\t\t\t\t);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t},\n\n\t_stressAccessKey: function(element, accessKey) {\n\t\tif (!accessKey || window.mode.isMobile() || window.getAccessibilityState())\n\t\t\treturn;\n\n\t\tvar text = element.textContent;\n\t\tvar index = text.indexOf(accessKey);\n\t\t\tif (index >= 0) {\n\t\t\t\t\tvar title = text.replace(accessKey, '<u class=\"access-key\">' + accessKey.replace('~', '') + '</u>');\n\t\t\t\t\telement.innerHTML = title;\n\t\t}\n\t},\n\n\t_setAccessKey: function(element, key) {\n\t\tif (key)\n\t\t\telement.accessKey = key;\n\t},\n\n\t_getAccessKeyFromText: function(text) {\n\t\tvar nextChar = null;\n\t\tif (text && text.includes('~')) {\n\t\t\tvar index = text.indexOf('~');\n\t\t\tif (index < text.length - 1) {\n\t\t\t\tnextChar = text.charAt(index + 1);\n\t\t\t}\n\t\t}\n\t\treturn nextChar;\n\t},\n\n\t_cleanText: function(text) {\n\t\tif (!text)\n\t\t\treturn '';\n\t\tif (text.endsWith('...'))\n\t\t\ttext = text.slice(0, -3);\n\t\tif (text.endsWith(''))\n\t\t\ttext = text.slice(0, -1);\n\t\treturn text.replace('~', '');\n\t},\n\n\t_extractUnits: function(text) {\n\t\tif (!text)\n\t\t\treturn '';\n\n\t\treturn text.replace(/[\\d.-]/g, '').trim();\n\t},\n\n\t_cleanValueFromUnits: function(text) {\n\t\tif (!text)\n\t\t\treturn '';\n\n\t\treturn text.replace(/[^\\d.-]/g, '').trim();\n\t},\n\n\t_gradientStyleToLabel: function(state) {\n\t\tswitch (state) {\n\t\tcase 'NONE':\n\t\t\treturn _('None');\n\n\t\tcase 'SOLID':\n\t\t\treturn _('Solid');\n\n\t\tcase 'LINEAR':\n\t\t\treturn _('Linear');\n\n\t\tcase 'AXIAL':\n\t\t\treturn _('Axial');\n\n\t\tcase 'RADIAL':\n\t\t\treturn _('Radial');\n\n\t\tcase 'ELLIPTICAL':\n\t\t\treturn _('Ellipsoid');\n\n\t\t// no, not a typo (square - quadratic, rect - square) - same as in the core\n\t\tcase 'SQUARE':\n\t\t\treturn _('Quadratic');\n\n\t\tcase 'RECT':\n\t\t\treturn _('Square');\n\n\t\tcase 'MAKE_FIXED_SIZE':\n\t\t\treturn _('Fixed size');\n\t\t}\n\n\t\treturn '';\n\t},\n\n\t_borderwindowHandler: function(parentContainer, data, builder) {\n\t\tif (data.visible === false) {\n\t\t\tfor (var i in data.children)\n\t\t\t\tdata.children[i].visible = false;\n\t\t}\n\n\t\treturn JSDialog.container(parentContainer, data, builder);\n\t},\n\n\t_handleResponses: function(data, builder) {\n\t\t// Dialogue is a parent container of a buttonbox, so we will save the responses first, then we will check them while creating the buttons.\n\t\tif (data.responses) {\n\t\t\tfor (var i in data.responses) {\n\t\t\t\t// Button id = response\n\t\t\t\tbuilder._responses[data.responses[i].id] = data.responses[i].response;\n\t\t\t}\n\t\t}\n\t},\n\n\t// used inside tab control and assistant (chart wizard, where it should create own container)\n\t_tabPageHandler: function(parentContainer, data, builder) {\n\t\tvar page = L.DomUtil.create('div', builder.options.cssClass + ' ui-tabpage', parentContainer);\n\t\tpage.id = data.id;\n\n\t\tbuilder.build(page, data.children, false);\n\n\t\treturn false;\n\t},\n\n\t_alignmentHandler: function(parentContainer, data, builder) {\n\t\tL.DomUtil.addClass(parentContainer, 'ui-alignment');\n\t\treturn JSDialog.container(parentContainer, data, builder);\n\t},\n\n\t_ignoreHandler: function() {\n\t\treturn false;\n\t},\n\n\t_getGridColumns: function(children) {\n\t\tvar columns = 0;\n\t\tfor (var index in children) {\n\t\t\tif (parseInt(children[index].left) > columns)\n\t\t\t\tcolumns = parseInt(children[index].left);\n\t\t}\n\t\treturn columns + 1;\n\t},\n\n\t_getGridRows: function(children) {\n\t\tvar rows = 0;\n\t\tfor (var index in children) {\n\t\t\tif (parseInt(children[index].top) > rows)\n\t\t\t\trows = parseInt(children[index].top);\n\t\t}\n\t\treturn rows + 1;\n\t},\n\n\t_explorableEntry: function(parentContainer, data, content, builder, valueNode, iconURL, updateCallback) {\n\t\tvar mainContainer = L.DomUtil.create('div', 'ui-explorable-entry level-' + builder._currentDepth + ' ' + builder.options.cssClass, parentContainer);\n\t\tif (data && data.id)\n\t\t\tmainContainer.id = data.id;\n\n\t\tif (data && data.name)\n\t\t\tmainContainer.id = data.name; // use legacy panel id FIXME: convert all CSS and cypress to vcl id\n\n\t\tvar sectionTitle = L.DomUtil.create('div', 'ui-header level-' + builder._currentDepth + ' ' + builder.options.cssClass + ' ui-widget', mainContainer);\n\t\t$(sectionTitle).css('justify-content', 'space-between');\n\n\t\tif (data.enabled === 'false' || data.enabled === false) {\n\t\t\tmainContainer.disabled = true;\n\t\t\t$(mainContainer).addClass('disabled');\n\t\t}\n\n\t\tvar leftDiv = L.DomUtil.create('div', 'ui-header-left', sectionTitle);\n\t\tvar titleClass = '';\n\n\t\tswitch (sectionTitle.id)\n\t\t{\n\t\tcase 'paperformat':\n\t\tcase 'orientation':\n\t\tcase 'masterslide':\n\t\tcase 'SdTableDesignPanel':\n\t\tcase 'ChartTypePanel':\n\t\tcase 'rotation':\n\t\t\ticonURL = 'lc_'+ sectionTitle.id.toLowerCase() +'.svg';\n\t\t\tbreak;\n\t\t}\n\t\tif (iconURL) {\n\t\t\tvar icon = L.DomUtil.create('img', 'menu-entry-icon', leftDiv);\n\t\t\tapp.LOUtil.setImage(icon, iconURL, builder.map);\n\t\t\ticon.alt = '';\n\t\t\ttitleClass = 'menu-entry-with-icon';\n\n\t\t}\n\t\tvar titleSpan = L.DomUtil.create('span', titleClass, leftDiv);\n\n\t\tif (!valueNode && data.command) {\n\t\t\tvar items = builder.map['stateChangeHandler'];\n\t\t\tvar val = items.getItemValue(data.command);\n\t\t\tif (val)\n\t\t\t\tvalueNode = L.DomUtil.create('div', '', null);\n\t\t}\n\n\t\tvar rightDiv = L.DomUtil.create('div', 'ui-header-right', sectionTitle);\n\t\tif (valueNode) {\n\t\t\tvar valueDiv = L.DomUtil.create('div', 'entry-value', rightDiv);\n\t\t\tvalueDiv.appendChild(valueNode);\n\t\t}\n\n\t\tvar arrowSpan = L.DomUtil.create('span', 'sub-menu-arrow', rightDiv);\n\t\tarrowSpan.textContent = '>';\n\n\t\tvar updateFunction = function(titleSpan) {\n\t\t\ttitleSpan.innerHTML = data.text;\n\t\t};\n\n\t\tupdateCallback ? updateCallback(titleSpan) : updateFunction(titleSpan);\n\n\t\tvar contentDiv = L.DomUtil.create('div', 'ui-content level-' + builder._currentDepth + ' ' + builder.options.cssClass, mainContainer);\n\t\tcontentDiv.title = data.text;\n\n\t\tvar contentData = content.length ? content : [content];\n\t\tvar contentNode = contentData.length === 1 ? contentData[0] : null;\n\n\t\tbuilder._currentDepth++;\n\t\tbuilder.build(contentDiv, contentData);\n\t\tbuilder._currentDepth--;\n\n\t\tif (!data.nosubmenu)\n\t\t{\n\t\t\t$(contentDiv).hide();\n\t\t\tif (builder.wizard) {\n\t\t\t\t$(sectionTitle).click(function(event, data) {\n\t\t\t\t\tif (!mainContainer.hasAttribute('disabled')) {\n\t\t\t\t\t\tbuilder.wizard.goLevelDown(mainContainer, data);\n\t\t\t\t\t\tif (contentNode && contentNode.onshow && !builder.wizard._inBuilding)\n\t\t\t\t\t\t\tcontentNode.onshow();\n\t\t\t\t\t}\n\t\t\t\t});\n\n\t\t\t\tif (mainContainer.hasAttribute('disabled')) {\n\t\t\t\t\t$(arrowSpan).hide();\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\twindow.app.console.debug('Builder used outside of mobile wizard: please implement the click handler');\n\t\t\t}\n\t\t}\n\t\telse\n\t\t\t$(sectionTitle).hide();\n\t},\n\n\t_calcFunctionEntry: function(parentContainer, data, contentNode, builder) {\n\t\tvar mainContainer = L.DomUtil.create('div', 'ui-explorable-entry level-' + builder._currentDepth + ' ' + builder.options.cssClass, parentContainer);\n\t\tvar sectionTitle = L.DomUtil.create('div', 'func-entry ui-header level-' + builder._currentDepth + ' ' + builder.options.cssClass + ' ui-widget', mainContainer);\n\t\t$(sectionTitle).css('justify-content', 'space-between');\n\t\tif (data && data.id)\n\t\t\tsectionTitle.id = data.id;\n\n\t\tvar leftDiv = L.DomUtil.create('div', 'ui-header-left', sectionTitle);\n\t\tvar titleClass = 'func-name';\n\t\tvar titleSpan = L.DomUtil.create('span', titleClass, leftDiv);\n\t\ttitleSpan.textContent = data.text;\n\n\t\tvar rightDiv = L.DomUtil.create('div', 'ui-header-right', sectionTitle);\n\t\tvar arrowSpan = L.DomUtil.create('div', 'func-info-icon', rightDiv);\n\t\tarrowSpan.textContent = '';\n\n\t\tvar contentDiv = L.DomUtil.create('div', 'ui-content level-' + builder._currentDepth + ' ' + builder.options.cssClass, mainContainer);\n\t\tcontentDiv.title = data.text;\n\n\t\tbuilder._currentDepth++;\n\t\tbuilder.build(contentDiv, [contentNode]);\n\t\tbuilder._currentDepth--;\n\n\t\t$(contentDiv).hide();\n\t\tif (builder.wizard) {\n\t\t\tvar that = this;\n\t\t\tvar functionName = data.functionName;\n\t\t\t$(rightDiv).click(() => {\n\t\t\t\tbuilder.wizard.goLevelDown(mainContainer);\n\t\t\t\tif (contentNode.onshow)\n\t\t\t\t\tcontentNode.onshow();\n\t\t\t});\n\t\t\t$(leftDiv).click(() => {\n\t\t\t\tif (functionName !== '') {\n\t\t\t\t\tapp.socket.sendMessage('completefunction name=' + functionName);\n\t\t\t\t\tthat.map.fire('closemobilewizard');\n\t\t\t\t}\n\t\t\t});\n\t\t} else {\n\t\t\twindow.app.console.debug('Builder used outside of mobile wizard: please implement the click handler');\n\t\t}\n\t},\n\n\t_expanderHandler: function(parentContainer, data, builder, customCallback) {\n\t\tif (data.children.length > 0) {\n\t\t\tvar container = L.DomUtil.create('div', 'ui-expander-container ' + builder.options.cssClass, parentContainer);\n\t\t\tcontainer.id = data.id;\n\n\t\t\tvar expanded = data.expanded === true || (data.children[0] && data.children[0].checked === true);\n\t\t\tif (data.children[0].text && data.children[0].text !== '') {\n\t\t\t\tvar prefix = data.children[0].id ? data.children[0].id : data.id;\n\t\t\t\tvar expander = L.DomUtil.create('button', 'ui-expander ' + builder.options.cssClass, container);\n\t\t\t\texpander.tabIndex = '0';\n\t\t\t\texpander.setAttribute('aria-controls', prefix + '-children');\n\t\t\t\tvar label = L.DomUtil.create('span', 'ui-expander-label ' + builder.options.cssClass, expander);\n\t\t\t\tlabel.innerText = builder._cleanText(data.children[0].text);\n\t\t\t\tlabel.id = prefix + '-label';\n\t\t\t\tif (data.children[0].visible === false)\n\t\t\t\t\tL.DomUtil.addClass(label, 'hidden');\n\t\t\t\tbuilder.postProcess(expander, data.children[0]);\n\n\t\t\t\tvar state = data.children.length > 1 && expanded;\n\t\t\t\tif (state) {\n\t\t\t\t\tL.DomUtil.addClass(label, 'expanded');\n\t\t\t\t}\n\t\t\t\texpander.setAttribute('aria-expanded', state);\n\n\t\t\t\tvar toggleFunction = function () {\n\t\t\t\t\tif (customCallback)\n\t\t\t\t\t\tcustomCallback();\n\t\t\t\t\telse\n\t\t\t\t\t\tbuilder.callback('expander', 'toggle', data, null, builder);\n\n\t\t\t\t\tvar state = expander.getAttribute('aria-expanded') === 'true';\n\t\t\t\t\texpander.setAttribute('aria-expanded', !state);\n\t\t\t\t\t$(label).toggleClass('expanded');\n\t\t\t\t\t$(expander).siblings().toggleClass('expanded');\n\n\t\t\t\t\t// Toggle aria-expanded attribute\n\t\t\t\t\tconst currentState = expander.getAttribute('aria-expanded') === 'true';\n\t\t\t\t\texpander.setAttribute('aria-expanded', (!currentState).toString());\n\t\t\t\t};\n\n\t\t\t\t$(expander).click(toggleFunction);\n\t\t\t\t$(expander).keypress(function (event) {\n\t\t\t\t\tif (event.which === 13) {\n\t\t\t\t\t\ttoggleFunction();\n\t\t\t\t\t\tevent.preventDefault();\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}\n\n\t\t\tvar expanderChildren = L.DomUtil.create('div', 'ui-expander-content ' + builder.options.cssClass, container);\n\t\t\texpanderChildren.id = prefix + '-children';\n\n\t\t\tif (expanded) {\n\t\t\t\tif (data.children.length > 1) {\n\t\t\t\t\tlabel.classList.add('expanded');\n\t\t\t\t\texpander.setAttribute('aria-expanded', 'true');\n\t\t\t\t}\n\t\t\t\texpanderChildren.classList.add('expanded');\n\t\t\t}\n\t\t\telse {\n\t\t\t\texpander.setAttribute('aria-expanded', 'false');\n\t\t\t}\n\n\t\t\tvar children = [];\n\t\t\tvar startPos = 1;\n\n\t\t\tif (data.children[0].type === 'grid' ||\n\t\t\t\tdata.children[0].type === 'container') {\n\t\t\t\tstartPos = 0;\n\t\t\t}\n\n\t\t\tfor (var i = startPos; i < data.children.length; i++) {\n\t\t\t\tif (data.children[i].visible === false)\n\t\t\t\t\tdata.children[i].visible = true;\n\t\t\t\tchildren.push(data.children[i]);\n\t\t\t}\n\n\t\t\tbuilder.build(expanderChildren, children);\n\t\t} else {\n\t\t\treturn true;\n\t\t}\n\n\t\treturn false;\n\t},\n\n\t_generateMenuIconName: function(commandName) {\n\t\t// command has no parameter\n\t\tif (commandName.indexOf('?') === -1) {\n\t\t\tif (commandName.indexOf('InsertDateContentControl') !== -1)\n\t\t\t\treturn 'insertdatefield';\n\t\t\treturn commandName.toLowerCase();\n\t\t}\n\n\t\tif (commandName.indexOf('SpellCheckIgnoreAll') !== -1)\n\t\t\treturn 'spellcheckignoreall';\n\t\tif (commandName.indexOf('SpellCheckIgnore') !== -1)\n\t\t\treturn 'spellcheckignore';\n\t\tif (commandName === 'LanguageStatus?Language:string=Current_LANGUAGE_NONE')\n\t\t\treturn 'selectionlanugagenone';\n\t\tif (commandName === 'LanguageStatus?Language:string=Current_RESET_LANGUAGES')\n\t\t\treturn 'selectionlanugagedefault';\n\t\tif (commandName === 'LanguageStatus?Language:string=Paragraph_LANGUAGE_NONE')\n\t\t\treturn 'paragraphlanugagenone';\n\t\tif (commandName === 'LanguageStatus?Language:string=Paragraph_RESET_LANGUAGES')\n\t\t\treturn 'paragraphlanugagedefault';\n\t\tif ((this.map.getDocType() === 'spreadsheet' || this.map.getDocType() === 'presentation') &&\n\t\t\t\t\t\tcommandName.indexOf('LanguageStatus?Language:string=Paragraph_') !== -1)\n\t\t\treturn 'paragraphlanugagesuggestion';\n\t\tif ((this.map.getDocType() === 'spreadsheet' || this.map.getDocType() === 'presentation') &&\n\t\t\t\t\t\tcommandName.indexOf('LanguageStatus?Language:string=Current_') !== -1)\n\t\t\treturn 'selectionlanugagesuggestion';\n\t\treturn commandName.toLowerCase();\n\t},\n\n\t_explorableMenu: function(parentContainer, title, children, builder, customContent, dataid) {\n\t\tdataid = dataid || 0;\n\t\tvar icon = null;\n\t\tvar mainContainer = L.DomUtil.create('div', 'ui-explorable-entry level-' + builder._currentDepth + ' ' + builder.options.cssClass, parentContainer);\n\t\tvar sectionTitle = L.DomUtil.create('div', 'ui-header level-' + builder._currentDepth + ' ' + builder.options.cssClass + ' ui-widget', mainContainer);\n\t\t$(sectionTitle).css('justify-content', 'space-between');\n\n\t\tvar commandName = dataid;\n\t\tif (commandName && commandName.length && app.LOUtil.existsIconForCommand(commandName, builder.map.getDocType())) {\n\t\t\tvar iconName = builder._generateMenuIconName(commandName);\n\t\t\tvar iconSpan = L.DomUtil.create('span', 'menu-entry-icon ' + iconName, sectionTitle);\n\t\t\ticonName = app.LOUtil.getIconNameOfCommand(iconName, true);\n\t\t\ticon = L.DomUtil.create('img', '', iconSpan);\n\t\t\tapp.LOUtil.setImage(icon, iconName, builder.map);\n\t\t\ticon.alt = '';\n\t\t\tvar titleSpan2 = L.DomUtil.create('span', 'menu-entry-with-icon flex-fullwidth', sectionTitle);\n\t\t\ttitleSpan2.innerHTML = title;\n\t\t}\n\t\telse {\n\t\t\tvar titleSpan = L.DomUtil.create('span', 'sub-menu-title', sectionTitle);\n\t\t\ttitleSpan.innerHTML = title;\n\t\t}\n\t\tvar arrowSpan = L.DomUtil.create('span', 'sub-menu-arrow', sectionTitle);\n\t\tarrowSpan.textContent = '>';\n\n\t\tvar contentDiv = L.DomUtil.create('div', 'ui-content level-' + builder._currentDepth + ' ' + builder.options.cssClass, mainContainer);\n\t\tcontentDiv.title = title;\n\n\t\tif (customContent) {\n\t\t\tcontentDiv.appendChild(customContent);\n\t\t} else {\n\t\t\tbuilder._currentDepth++;\n\t\t\tfor (var i = 0; i < children.length; i++) {\n\t\t\t\tbuilder.build(contentDiv, [children[i]]);\n\t\t\t}\n\t\t\tbuilder._currentDepth--;\n\t\t}\n\n\t\t$(contentDiv).hide();\n\t\tif (builder.wizard) {\n\t\t\t$(sectionTitle).click(() => { builder.wizard.goLevelDown(mainContainer); });\n\t\t} else {\n\t\t\twindow.app.console.debug('Builder used outside of mobile wizard: please implement the click handler');\n\t\t}\n\t},\n\n\t_calcFuncListPanelHandler: function(parentContainer, data, builder) {\n\t\tvar contentNode = data.children[0];\n\n\t\tbuilder._calcFunctionEntry(parentContainer, data, contentNode, builder);\n\n\t\treturn false;\n\t},\n\n\t_createTabClick: function(builder, t, tabs, contentDivs, tabIds)\n\t{\n\t\treturn function() {\n\t\t\t$(tabs[t]).addClass('selected');\n\t\t\ttabs[t].tabIndex = '0';\n\t\t\ttabs[t].setAttribute('aria-selected', 'true');\n\n\t\t\tfor (var i = 0; i < tabs.length; i++) {\n\t\t\t\tif (i !== t)\n\t\t\t\t{\n\t\t\t\t\t$(tabs[i]).removeClass('selected');\n\t\t\t\t\t$(contentDivs[i]).addClass('hidden');\n\t\t\t\t\ttabs[i].setAttribute('aria-selected', 'false');\n\t\t\t\t\ttabs[i].tabIndex = -1;\n\t\t\t\t}\n\t\t\t}\n\t\t\t$(contentDivs[t]).removeClass('hidden');\n\t\t\tbuilder.wizard.selectedTab(tabIds[t]);\n\t\t};\n\t},\n\n\t_rayCastingSensitivity: 10, // Pixels\n\n\t_findFocusableParent: function(container, currentElement, element, arrowUp) {\n\t\tif (!element)\n\t\t\treturn null;\n\t\telse if (element.tagName === 'NAV' && arrowUp) {\n\t\t\treturn element;\n\t\t}\n\t\telse if (element.tabIndex === -1 || element.tagName == 'A') {\n\t\t\treturn this._findFocusableParent(container, currentElement, element.parentNode, arrowUp);\n\t\t}\n\t\telse if (container.contains(element) && currentElement !== element && !currentElement.contains(element) && !element.disabled) {\n\t\t\treturn element;\n\t\t}\n\t\telse\n\t\t\treturn null;\n\t},\n\n\t_rayCastToNextElement: function(container, currentElement, boundingRectangle, startX, startY, diffX, diffY, arrowUp) {\n\t\tlet count = 0;\n\t\tlet foundElement;\n\t\twhile (count <= 60) {\n\t\t\tcount++;\n\t\t\tstartX += diffX;\n\t\t\tstartY += diffY;\n\n\t\t\tfoundElement = document.elementFromPoint(startX, startY);\n\t\t\tfoundElement = this._findFocusableParent(container, currentElement, foundElement, arrowUp);\n\t\t\tif (foundElement) break;\n\n\t\t\t// If we are here, we'll try secondary and tertiary rays.\n\t\t\tif (diffX === 0) {\n\t\t\t\tfoundElement = document.elementFromPoint(boundingRectangle.left, startY);\n\t\t\t\tfoundElement = this._findFocusableParent(container, currentElement, foundElement, arrowUp);\n\t\t\t\tif (foundElement) break;\n\n\t\t\t\tfoundElement = document.elementFromPoint(boundingRectangle.right, startY);\n\t\t\t\tfoundElement = this._findFocusableParent(container, currentElement, foundElement, arrowUp);\n\t\t\t\tif (foundElement) break;\n\t\t\t}\n\t\t\telse if (diffY === 0) {\n\t\t\t\tfoundElement = document.elementFromPoint(startX, boundingRectangle.top);\n\t\t\t\tfoundElement = this._findFocusableParent(container, currentElement, foundElement, arrowUp);\n\t\t\t\tif (foundElement) break;\n\n\t\t\t\tfoundElement = document.elementFromPoint(startX, boundingRectangle.bottom);\n\t\t\t\tfoundElement = this._findFocusableParent(container, currentElement, foundElement, arrowUp);\n\t\t\t\tif (foundElement) break;\n\t\t\t}\n\t\t}\n\n\t\tif (count === 60)\n\t\t\treturn null;\n\t\telse\n\t\t\treturn foundElement;\n\t},\n\n\t_findNextElementInContainer: function(container, currentElement, direction) {\n\t\tlet boundingRectangle = currentElement.getBoundingClientRect();\n\t\tlet startX = boundingRectangle.left + (boundingRectangle.right - boundingRectangle.left) / 2;\n\t\tlet startY = boundingRectangle.top + (boundingRectangle.bottom - boundingRectangle.top) / 2;\n\n\t\tlet diffX = 0;\n\t\tlet diffY = 0;\n\n\t\tif (direction === 'ArrowLeft' || direction === 'ArrowRight')\n\t\t\tdiffX = direction === 'ArrowRight' ? (this._rayCastingSensitivity) : (this._rayCastingSensitivity * -1);\n\n\t\tif (direction === 'ArrowUp' || direction === 'ArrowDown')\n\t\t\tdiffY = direction === 'ArrowDown' ? (this._rayCastingSensitivity) : (this._rayCastingSensitivity * -1);\n\n\t\treturn this._rayCastToNextElement(container, currentElement, boundingRectangle, startX, startY, diffX, diffY, direction === 'ArrowUp');\n\t},\n\n\t_tabsControlHandler: function(parentContainer, data, builder, tabTooltip) {\n\t\tif (tabTooltip === undefined) {\n\t\t\ttabTooltip = '';\n\t\t}\n\t\tif (data.tabs) {\n\t\t\tvar tabs = 0;\n\t\t\tfor (var tabIdx = 0; data.children && tabIdx < data.children.length; tabIdx++) {\n\t\t\t\tif (data.children[tabIdx].type === 'tabpage' || data.vertical)\n\t\t\t\t\ttabs++;\n\t\t\t}\n\t\t\tvar isMultiTabJSON = tabs > 1;\n\n\t\t\tvar tabWidgetRootContainer = L.DomUtil.create('div', 'ui-tabs-root ' + builder.options.cssClass, parentContainer);\n\t\t\ttabWidgetRootContainer.id = data.id;\n\n\t\t\tvar tabsContainer = L.DomUtil.create('div', 'ui-tabs ' + builder.options.cssClass + ' ui-widget', builder.options.useSetTabs ? undefined : tabWidgetRootContainer);\n\t\t\ttabsContainer.setAttribute('role', 'tablist');\n\n\t\t\tvar contentsContainer = L.DomUtil.create('div', 'ui-tabs-content ' + builder.options.cssClass, tabWidgetRootContainer);\n\n\t\t\tvar tabs = [];\n\t\t\tvar contentDivs = [];\n\t\t\tvar tabIds = [];\n\t\t\tvar singleTabId = null;\n\t\t\tfor (var tabIdx = 0; tabIdx < data.tabs.length; tabIdx++) {\n\t\t\t\tvar item = data.tabs[tabIdx];\n\n\t\t\t\tvar title = builder._cleanText(item.text);\n\n\t\t\t\tvar tab = L.DomUtil.create('button', 'ui-tab ' + builder.options.cssClass, tabsContainer);\n\t\t\t\t// avoid duplicated ids: we receive plain number from core, append prefix\n\t\t\t\ttab.id = Number.isInteger(parseInt(item.id)) ? data.id + '-' + item.id : item.id;\n\t\t\t\ttab.textContent = title;\n\t\t\t\ttab.setAttribute('role', 'tab');\n\t\t\t\tbuilder._addAriaLabel(tab, item, builder);\n\t\t\t\tbuilder._setAccessKey(tab, builder._getAccessKeyFromText(item.text));\n\t\t\t\tbuilder._stressAccessKey(tab, tab.accessKey);\n\n\t\t\t\tvar isSelectedTab = data.selected == item.id;\n\t\t\t\tif (isSelectedTab) {\n\t\t\t\t\t$(tab).addClass('selected');\n\t\t\t\t\ttab.setAttribute('aria-selected', 'true');\n\t\t\t\t\ttab.tabIndex = '0';\n\t\t\t\t\ttab.setAttribute('data-cooltip', tabTooltip);\n\t\t\t\t\tsingleTabId = tabIdx;\n\t\t\t\t} else {\n\t\t\t\t\ttab.setAttribute('aria-selected', 'false');\n\t\t\t\t\ttab.tabIndex = -1;\n\t\t\t\t}\n\n\t\t\t\tvar tabContext = item.context;\n\t\t\t\tif (tabContext) {\n\t\t\t\t\tvar tabHasCurrentContext = builder.map.context.context !== ''\n\t\t\t\t\t\t\t\t\t\t\t&& tabContext.indexOf(builder.map.context.context) !== -1;\n\t\t\t\t\tvar tabHasDefultContext = tabContext.indexOf('default') !== -1;\n\n\t\t\t\t\tif (!tabHasCurrentContext && !tabHasDefultContext) {\n\t\t\t\t\t\t$(tab).addClass('hidden');\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\ttabs[tabIdx] = tab;\n\t\t\t\ttabIds[tabIdx] = item.name;\n\n\t\t\t\tvar contentDiv = L.DomUtil.create('div', 'ui-content level-' + builder._currentDepth + ' ' + builder.options.cssClass, contentsContainer);\n\t\t\t\tcontentDiv.id = item.name;\n\t\t\t\tcontentDiv.setAttribute('role', 'tabpanel');\n\n\t\t\t\tif (!isSelectedTab)\n\t\t\t\t\t$(contentDiv).addClass('hidden');\n\t\t\t\tcontentDivs[tabIdx] = contentDiv;\n\t\t\t}\n\n\t\t\tif (builder.wizard) {\n\t\t\t\tif (builder.options.useSetTabs)\n\t\t\t\t\tbuilder.wizard.setTabs(tabsContainer, builder);\n\n\t\t\t\ttabs.forEach(function (tab, index) {\n\t\t\t\t\tvar eventHandler = builder._createTabClick(builder, index, tabs, contentDivs, tabIds);\n\t\t\t\t\ttab.addEventListener('click', function(event) {\n\t\t\t\t\t\teventHandler(event);\n\t\t\t\t\t\tif (!data.noCoreEvents) {\n\t\t\t\t\t\t\tbuilder.callback('tabcontrol', 'selecttab', tabWidgetRootContainer, index, builder);\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t});\n\n\t\t\t\tvar isTabVisible = function (tab) {\n\t\t\t\t\treturn !$(tab).hasClass('hidden');\n\t\t\t\t};\n\n\t\t\t\tvar findNextVisibleTab = function(tab, backwards) {\n\t\t\t\t\tconst currentIndex = tabs.indexOf(tab);\n\t\t\t\t\tconst diff = backwards ? -1 : 1;\n\t\t\t\t\tconst total = tabs.length;\n\n\t\t\t\t\tfor (let i = 1; i <= total; i++) {\n\t\t\t\t\t\tconst nextIndex = (currentIndex + diff * i + total) % total;\n\t\t\t\t\t\tconst nextTab = tabs[nextIndex];\n\t\t\t\t\t\tif (isTabVisible(nextTab)) {\n\t\t\t\t\t\t\treturn nextTab;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\t// Fallback to current tab if no visible one is found (shouldn't happen)\n\t\t\t\t\treturn tab;\n\t\t\t\t};\n\n\t\t\t\tvar moveFocusToPreviousTab = function(tab) {\n\t\t\t\t\tconst nextTab = findNextVisibleTab(tab, true);\n\t\t\t\t\tnextTab.click();\n\t\t\t\t\tnextTab.focus(); // Prevent document from taking focus\n\t\t\t\t};\n\n\t\t\t\tvar moveFocusToNextTab = function(tab) {\n\t\t\t\t\tconst nextTab = findNextVisibleTab(tab, false);\n\t\t\t\t\tnextTab.click();\n\t\t\t\t\tnextTab.focus(); // Prevent document from taking focus\n\t\t\t\t};\n\n\t\t\t\tvar moveFocusIntoTabPage = function(tab) {\n\t\t\t\t\tvar tabIdx = tabs.indexOf(tab);\n\t\t\t\t\tvar currentElement = contentDivs[tabIdx];\n\n\t\t\t\t\tfunction findFirstFocusableElement(currentNode)\n\t\t\t\t\t{\n\t\t\t\t\t\tvar currentChildNodes = currentNode.childNodes;\n\n\t\t\t\t\t\tif (currentChildNodes.length <= 0) {\n\t\t\t\t\t\t\treturn null;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tfor (var childIndex = 0; childIndex < currentChildNodes.length; childIndex++) {\n\t\t\t\t\t\t\tvar currentChildNode = currentChildNodes[childIndex];\n\n\t\t\t\t\t\t\tif (currentChildNode.tabIndex === undefined) {\n\t\t\t\t\t\t\t\treturn null;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tif (currentChildNode.tabIndex === -1) {\n\t\t\t\t\t\t\t\tvar firstFocusableElement = findFirstFocusableElement(currentChildNode);\n\n\t\t\t\t\t\t\t\tif (firstFocusableElement !== null) {\n\t\t\t\t\t\t\t\t\treturn firstFocusableElement;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\telse\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tvar classListContainsInvalidClass = false;\n\t\t\t\t\t\t\t\tif (currentChildNode.classList !== undefined) {\n\t\t\t\t\t\t\t\t\tclassListContainsInvalidClass = currentChildNode.classList.contains('hidden') ||\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tcurrentChildNode.classList.contains('jsdialog-begin-marker') ||\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tcurrentChildNode.classList.contains('jsdialog-end-marker');\n\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\tif (!currentChildNode.disabled && !currentChildNode.hidden && !classListContainsInvalidClass) {\n\t\t\t\t\t\t\t\t\tvar firstFocusableChild = findFirstFocusableElement(currentChildNode);\n\t\t\t\t\t\t\t\t\tif (firstFocusableChild === null) {\n\t\t\t\t\t\t\t\t\t\treturn currentChildNode;\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\telse {\n\t\t\t\t\t\t\t\t\t\treturn firstFocusableChild;\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\treturn null;\n\t\t\t\t\t}\n\n\t\t\t\t\tvar firstFocusableElement = findFirstFocusableElement(currentElement);\n\n\t\t\t\t\tfirstFocusableElement.focus();\n\t\t\t\t};\n\n\t\t\t\t// We are adding this to distinguish \"enter\" key from real click events.\n\t\t\t\ttabs.forEach(function (tab)\n\t\t\t\t\t{\n\t\t\t\t\t\ttab.addEventListener('keydown', function(e) {\n\t\t\t\t\t\t\tvar currentTab = e.currentTarget;\n\n\t\t\t\t\t\t\tswitch (e.key) {\n\t\t\t\t\t\t\tcase 'ArrowLeft':\n\t\t\t\t\t\t\t\tmoveFocusToPreviousTab(currentTab);\n\t\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\t\tcase 'ArrowRight':\n\t\t\t\t\t\t\t\tmoveFocusToNextTab(currentTab);\n\t\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\t\tcase 'ArrowDown':\n\t\t\t\t\t\t\t\tmoveFocusIntoTabPage(currentTab);\n\t\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\t\tcase 'Home':\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tvar firstTab = tabs[0];\n\t\t\t\t\t\t\t\tif (!isTabVisible(firstTab))\n\t\t\t\t\t\t\t\t\tfirstTab = findNextVisibleTab(firstTab, false);\n\t\t\t\t\t\t\t\tfirstTab.focus();\n\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\tcase 'End':\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tvar lastTab = tabs[tabs.length - 1];\n\t\t\t\t\t\t\t\tif (!isTabVisible(lastTab))\n\t\t\t\t\t\t\t\t\tlastTab = findNextVisibleTab(lastTab, true);\n\t\t\t\t\t\t\t\tlastTab.focus();\n\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\tcase 'Enter':\n\t\t\t\t\t\t\tcase ' ':\n\t\t\t\t\t\t\t\ttab.enterPressed = true;\n\t\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\t\tcase 'Escape':\n\t\t\t\t\t\t\t\tbuilder.map.focus();\n\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t);\n\t\t\t} else {\n\t\t\t\twindow.app.console.debug('Builder used outside of mobile wizard: please implement the click handler');\n\t\t\t}\n\t\t}\n\n\t\tif (isMultiTabJSON) {\n\t\t\tvar tabId = 0;\n\t\t\tfor (var tabIdx = 0; tabIdx < data.children.length; tabIdx++) {\n\t\t\t\tvar tab = data.children[tabIdx];\n\n\t\t\t\tif (tab.type !== 'tabpage' && !data.vertical)\n\t\t\t\t\tcontinue;\n\n\t\t\t\tbuilder.build(contentDivs[tabId], [tab], false, false);\n\t\t\t\ttabId++;\n\t\t\t}\n\t\t} else {\n\t\t\tfor (var tabIdx = 0; tabIdx < data.children.length; tabIdx++) {\n\t\t\t\tvar tab = data.children[tabIdx];\n\n\t\t\t\tif (tab.type !== 'tabpage' && !data.vertical)\n\t\t\t\t\tcontinue;\n\n\t\t\t\tbuilder.build(contentDivs[singleTabId], [tab], false, false);\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\n\t\tif (data.tabs && data.parent.id === 'NotebookBar') {\n\t\t\tlet that = this;\n\t\t\tcontentDivs.forEach(function(tabPage)\n\t\t\t{\n\t\t\t\ttabPage.addEventListener('keydown', function(e) {\n\t\t\t\t\t// Determine key direction\n\t\t\t\t\tlet key;\n\t\t\t\t\tif (e.key === 'Tab') {\n\t\t\t\t\t\tkey = e.shiftKey ? 'ArrowLeft' : 'ArrowRight'; // Reverse if Shift+Tab\n\t\t\t\t\t} else {\n\t\t\t\t\t\tkey = e.key;\n\t\t\t\t\t}\n\t\t\t\t\tif (['ArrowUp', 'ArrowDown', 'ArrowLeft', 'ArrowRight'].includes(key)) {\n\t\t\t\t\t\tvar currentElement = e.srcElement;\n\t\t\t\t\t\tif (!(currentElement.tagName === 'INPUT' || currentElement.tagName === 'TEXTAREA')) {\n\t\t\t\t\t\t\tif (e.key === 'Tab')\n\t\t\t\t\t\t\t\te.preventDefault();\n\t\t\t\t\t\t\tlet container = document.getElementsByClassName('ui-tabs-content notebookbar');\n\t\t\t\t\t\t\tlet elementToFocus = this._findNextElementInContainer(container[0], currentElement, key);\n\t\t\t\t\t\t\tif (elementToFocus && elementToFocus.tagName !== 'NAV')\n\t\t\t\t\t\t\t\telementToFocus.focus();\n\t\t\t\t\t\t\telse if (elementToFocus)\n\t\t\t\t\t\t\t\tdocument.querySelector('.ui-tab.notebookbar.selected').focus();\n\t\t\t\t\t\t\telse {\n\t\t\t\t\t\t\t\t// Nothing found  cycle to first focusable\n\t\t\t\t\t\t\t\tlet visibleContainer = Array.from(container[0].children).find(child =>\n\t\t\t\t\t\t\t\t\t!child.classList.contains('hidden') && child.offsetParent !== null\n\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\tlet focusables = visibleContainer ? Array.from(visibleContainer.querySelectorAll('[tabindex=\"-1\"]:not([disabled])')) : [];\n\t\t\t\t\t\t\t\tif (focusables.length) {\n\t\t\t\t\t\t\t\t\tlet first = focusables[0];\n\t\t\t\t\t\t\t\t\tlet last = focusables[focusables.length - 1];\n\t\t\t\t\t\t\t\t\tif (e.shiftKey && currentElement === first)\n\t\t\t\t\t\t\t\t\t\tlast.focus();\n\t\t\t\t\t\t\t\t\telse if (!e.shiftKey && currentElement === last)\n\t\t\t\t\t\t\t\t\t\tfirst.focus();\n\t\t\t\t\t\t\t\t\telse\n\t\t\t\t\t\t\t\t\t\t(e.shiftKey ? last : first).focus(); // fallback\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}.bind(that));\n\t\t\t});\n\t\t}\n\n\t\treturn false;\n\t},\n\n\t_singlePanelHandler: function(parentContainer, data, builder) {\n\t\tvar item = data[0];\n\t\tif (item.children) {\n\t\t\tvar child = item.children[0];\n\t\t\tbuilder.build(parentContainer, [child]);\n\t\t}\n\t\treturn false;\n\t},\n\n\t_radiobuttonControl: function(parentContainer, data, builder) {\n\t\tvar container = L.DomUtil.createWithId('div', data.id, parentContainer);\n\t\tL.DomUtil.addClass(container, 'radiobutton');\n\t\tL.DomUtil.addClass(container, builder.options.cssClass);\n\n\t\tvar radiobutton = L.DomUtil.create('input', '', container);\n\t\tradiobutton.type = 'radio';\n\t\tradiobutton.id = data.id + '-input';\n\t\tradiobutton.tabIndex = '0';\n\n\t\tif (data.image) {\n\t\t\tvar image = L.DomUtil.create('img', '', radiobutton);\n\t\t\timage.src = data.image;\n\t\t\tL.DomUtil.addClass(container, 'has-image');\n\t\t}\n\n\t\tif (data.group)\n\t\t\tradiobutton.name = data.group;\n\n\t\tvar radiobuttonLabel = L.DomUtil.createWithId('label', data.id + '-label', container);\n\t\tradiobuttonLabel.textContent = builder._cleanText(data.text);\n\t\tradiobuttonLabel.htmlFor = data.id + '-input';\n\n\t\tvar toggleFunction = function() {\n\t\t\tbuilder.callback('radiobutton', 'change', container, this.checked, builder);\n\t\t};\n\n\t\t$(radiobuttonLabel).click(() => {\n\t\t\tif (radiobutton.hasAttribute('disabled')) return;\n\n\t\t\t$(radiobutton).prop('checked', true);\n\t\t\ttoggleFunction.bind({checked: true})();\n\t\t});\n\n\t\tconst isDisabled = data.enabled === false;\n\t\tif (isDisabled) {\n\t\t\tradiobutton.setAttribute('disabled', 'disabled');\n\t\t\tradiobutton.setAttribute('aria-disabled', isDisabled);\n\t\t}\n\n\t\tif (data.checked === 'true' || data.checked === true)\n\t\t\t$(radiobutton).prop('checked', true);\n\n\t\tradiobutton.addEventListener('change', toggleFunction);\n\n\t\tif (data.hidden)\n\t\t\t$(radiobutton).hide();\n\n\t\treturn false;\n\t},\n\n\t_checkboxControl: function(parentContainer, data, builder) {\n\t\tvar div = L.DomUtil.createWithId('div', data.id, parentContainer);\n\t\tL.DomUtil.addClass(div, 'checkbutton');\n\t\tL.DomUtil.addClass(div, builder.options.cssClass);\n\n\t\tvar checkbox = L.DomUtil.create('input', builder.options.cssClass, div);\n\t\tcheckbox.type = 'checkbox';\n\t\tcheckbox.id = data.id + '-input';\n\t\tcheckbox.tabIndex = '0';\n\n\t\tvar checkboxLabel = L.DomUtil.create('label', builder.options.cssClass, div);\n\t\tcheckboxLabel.id = data.id + '-label';\n\t\tcheckboxLabel.textContent = builder._cleanText(data.text);\n\t\tcheckboxLabel.htmlFor = data.id + '-input';\n\n\t\tvar toggleFunction = function() {\n\t\t\tif (div.hasAttribute('disabled'))\n\t\t\t\treturn;\n\n\t\t\tbuilder.callback('checkbox', 'change', div, this.checked, builder);\n\t\t};\n\n\t\tconst isDisabled = data.enabled === false;\n\t\tif (isDisabled) {\n\t\t\tdiv.setAttribute('disabled', 'true');\n\t\t\tdiv.disabled = true;\n\t\t\tcheckbox.setAttribute('disabled', 'true');\n\t\t\tcheckbox.disabled = true;\n\t\t\tcheckbox.setAttribute('aria-disabled', true);\n\t\t}\n\n\t\tJSDialog.SynchronizeDisabledState(div, [checkbox, checkboxLabel]);\n\n\t\tcheckbox.addEventListener('change', toggleFunction);\n\n\t\tvar updateFunction = function() {\n\t\t\tif (div.hasAttribute('disabled'))\n\t\t\t\treturn;\n\n\t\t\tvar state = data.checked;\n\n\t\t\tif (state && state === 'true' || state === true || state === 1 || state === '1')\n\t\t\t\t$(checkbox).prop('checked', true);\n\t\t\telse if (state)\n\t\t\t\t$(checkbox).prop('checked', false);\n\t\t};\n\n\t\tupdateFunction();\n\n\t\tif (data.hidden)\n\t\t\t$(checkbox).hide();\n\n\t\treturn false;\n\t},\n\n\t_unitToVisibleString: function(unit) {\n\t\tif (unit == 'inch') {\n\t\t\treturn '\"';\n\t\t} else if (unit == 'percent') {\n\t\t\treturn '%';\n\t\t} else if (unit == 'degree') {\n\t\t\treturn '';\n\t\t}\n\t\treturn unit;\n\t},\n\n\t_getUnoStateForItemId: function(id, builder) {\n\t\tvar items = builder.map['stateChangeHandler'];\n\t\tvar state = null;\n\n\t\tswitch (id) {\n\t\tcase 'fillattr':\n\t\t\tstate = items.getItemValue('.uno:FillPageColor');\n\t\t\tif (state) {\n\t\t\t\treturn state;\n\t\t\t}\n\t\t\tbreak;\n\n\t\tcase 'fillattr2':\n\t\t\tstate = items.getItemValue('.uno:FillPageGradient');\n\t\t\tif (state) {\n\t\t\t\treturn state.startcolor;\n\t\t\t}\n\t\t\tbreak;\n\n\t\tcase 'fillattr3':\n\t\t\tstate = items.getItemValue('.uno:FillPageGradient');\n\t\t\tif (state) {\n\t\t\t\treturn state.endcolor;\n\t\t\t}\n\t\t\tbreak;\n\n\t\tcase 'gradientstyle':\n\t\t\tstate = items.getItemValue('.uno:FillGradient');\n\t\t\tif (state) {\n\t\t\t\treturn builder._gradientStyleToLabel(state.style);\n\t\t\t}\n\t\t\tbreak;\n\n\t\tcase 'gradangle':\n\t\t\tstate = items.getItemValue('.uno:FillGradient');\n\t\t\tif (state) {\n\t\t\t\treturn state.angle;\n\t\t\t}\n\t\t\tbreak;\n\n\t\tcase 'fillgrad1':\n\t\t\tstate = items.getItemValue('.uno:FillGradient');\n\t\t\tif (state) {\n\t\t\t\treturn state.startcolor;\n\t\t\t}\n\t\t\tbreak;\n\n\t\tcase 'fillgrad2':\n\t\t\tstate = items.getItemValue('.uno:FillGradient');\n\t\t\tif (state) {\n\t\t\t\treturn state.endcolor;\n\t\t\t}\n\t\t\tbreak;\n\n\t\tcase 'LB_SHADOW_COLOR':\n\t\t\tstate = items.getItemValue('.uno:FillShadowColor');\n\t\t\tif (state) {\n\t\t\t\treturn state;\n\t\t\t}\n\t\t\tbreak;\n\t\t}\n\n\t\treturn null;\n\t},\n\n\t_getTitleForControlWithId: function(id) {\n\t\tswitch (id) {\n\n\t\tcase 'fillgrad1':\n\t\t\treturn _('From');\n\n\t\tcase 'fillgrad2':\n\t\t\treturn _('To');\n\n\t\tcase 'LB_SHADOW_COLOR':\n\t\t\treturn _('Color');\n\t\t}\n\n\t\treturn null;\n\t},\n\n\t_spinfieldControl: function(parentContainer, data, builder, customCallback) {\n\t\tvar controls = builder._controlHandlers['basespinfield'](parentContainer, data, builder, customCallback);\n\n\t\tvar updateFunction = function() {\n\t\t\tif (data.text != undefined)\n\t\t\t\tvar value = data.text;\n\t\t\telse if (data.children && data.children.length)\n\t\t\t\tvalue = data.children[0].text;\n\n\t\t\t$(controls.spinfield).val(builder._cleanValueFromUnits(value));\n\t\t};\n\n\t\tcontrols.spinfield.addEventListener('change', function() {\n\t\t\tif (customCallback)\n\t\t\t\tcustomCallback();\n\t\t\telse\n\t\t\t\tbuilder.callback('spinfield', 'set', controls.container, this.value, builder);\n\t\t});\n\n\t\tupdateFunction();\n\n\t\treturn false;\n\t},\n\n\t_formattedfieldControl: function(parentContainer, data, builder, customCallback) {\n\t\tvar value, units, controls;\n\n\t\tif (!data.unit && data.text) {\n\t\t\tvar units = data.text.split(' ');\n\t\t\tif (units.length == 2) {\n\t\t\t\tdata.unit = units[1];\n\t\t\t}\n\t\t}\n\n\t\tif (!data.unit && data.text) {\n\t\t\tdata.unit = builder._extractUnits(data.text.toString());\n\t\t}\n\n\t\tcontrols = builder._controlHandlers['basespinfield'](parentContainer, data, builder, customCallback);\n\t\tif (!L.Browser.cypressTest && !L.Browser.chrome) {\n\t\t\tcontrols.spinfield.onkeypress = L.bind(builder._preventNonNumericalInput, builder);\n\t\t}\n\n\t\tbuilder.listenNumericChanges(data, builder, controls, customCallback);\n\n\t\tvalue = parseFloat(data.value);\n\n\t\t$(controls.spinfield).val(value);\n\n\t\treturn false;\n\t},\n\n\n\t_metricfieldControl: function(parentContainer, data, builder, customCallback) {\n\t\tvar value;\n\t\tvar controls = builder._controlHandlers['basespinfield'](parentContainer, data, builder, customCallback);\n\t\tif (!L.Browser.cypressTest && !L.Browser.chrome) {\n\t\t\tcontrols.spinfield.onkeypress = L.bind(builder._preventNonNumericalInput, builder);\n\t\t}\n\n\t\tbuilder.listenNumericChanges(data, builder, controls, customCallback);\n\n\t\tvalue = parseFloat(data.value);\n\t\t$(controls.spinfield).val(value);\n\n\t\treturn false;\n\t},\n\n\t_customPushButtonTextForId: function(buttonId) {\n\t\tif (buttonId == 'validref')\n\t\t\treturn _('Select range');\n\n\t\treturn '';\n\t},\n\n\t_pushbuttonControl: function(parentContainer, data, builder, customCallback) {\n\t\tif (data.id && data.id === 'changepass' && builder.map['wopi'].IsOwner === false) {\n\t\t\tdata.enabled = false;\n\t\t}\n\t\tvar wrapperClass = window.mode.isMobile() ? '' : 'd-flex justify-content-center';\n\t\tvar wrapper = L.DomUtil.create('div', wrapperClass, parentContainer); // need for locking overlay\n\t\tvar pushbutton = L.DomUtil.create('button', 'ui-pushbutton ' + builder.options.cssClass, wrapper);\n\t\tpushbutton.id = data.id;\n\t\tbuilder._setAccessKey(pushbutton, builder._getAccessKeyFromText(data.text));\n\t\tvar pushbuttonText = builder._customPushButtonTextForId(data.id) !== '' ? builder._customPushButtonTextForId(data.id) : builder._cleanText(data.text);\n\t\tvar image;\n\t\tif (data.image && pushbuttonText !== '') {\n\t\t\tL.DomUtil.addClass(pushbutton, 'has-img d-flex align-content-center justify-content-center align-items-center');\n\t\t\timage = L.DomUtil.create('img', '', pushbutton);\n\t\t\timage.src = data.image;\n\t\t\tvar text = L.DomUtil.create('span', '', pushbutton);\n\t\t\ttext.innerText = pushbuttonText;\n\t\t\tbuilder._stressAccessKey(text, pushbutton.accessKey);\n\t\t} else if (data.image) {\n\t\t\tL.DomUtil.addClass(pushbutton, 'has-img d-flex align-content-center justify-content-center align-items-center');\n\t\t\timage = L.DomUtil.create('img', '', pushbutton);\n\t\t\timage.src = data.image;\n\t\t} else if (data.symbol) {\n\t\t\tL.DomUtil.addClass(pushbutton, 'has-img d-flex align-content-center justify-content-center align-items-center');\n\t\t\timage = L.DomUtil.create('img', '', pushbutton);\n\t\t\tapp.LOUtil.setImage(image, 'symbol_' + data.symbol + '.svg', builder.map);\n\t\t} else {\n\t\t\tpushbutton.innerText = pushbuttonText;\n\t\t\tbuilder._stressAccessKey(pushbutton, pushbutton.accessKey);\n\t\t}\n\t\tif (image)\n\t\t\timage.alt = '';\n\n\t\tconst isDisabled = data.enabled === false;\n\t\tif (isDisabled) {\n\t\t\tpushbutton.setAttribute('disabled', 'disabled');\n\t\t\tpushbutton.setAttribute('aria-disabled', true);\n\t\t}\n\n\t\tif (customCallback)\n\t\t\tpushbutton.onclick = customCallback;\n\t\telse if (builder._responses[pushbutton.id] !== undefined)\n\t\t\tpushbutton.onclick = builder.callback.bind(builder, 'responsebutton', 'click', { id: pushbutton.id }, builder._responses[pushbutton.id], builder);\n\t\telse\n\t\t\tpushbutton.onclick = builder.callback.bind(builder, 'pushbutton', data.isToggle ? 'toggle' : 'click', pushbutton, data.command, builder);\n\n\n\t\tif (data.labelledBy) {\n\t\t\tpushbutton.setAttribute('aria-labelledby', data.labelledBy);\n\t\t} else {\n\t\t\tbuilder._addAriaLabel(pushbutton, data, builder);\n\t\t}\n\n\t\tconst tooltipText = (data.aria && data.aria.label) || data.text;\n\t\tif (!pushbuttonText && tooltipText) {\n\t\t\tpushbutton.setAttribute('data-cooltip', builder._cleanText(tooltipText));\n\t\t\tL.control.attachTooltipEventListener(pushbutton, builder.map);\n\t\t}\n\n\t\tbuilder.map.hideRestrictedItems(data, wrapper, pushbutton);\n\t\tbuilder.map.disableLockedItem(data, wrapper, pushbutton);\n\t\tif (data.hidden)\n\t\t\t$(wrapper).hide(); // Both pushbutton and its wrapper needs to be hidden.\n\n\t\treturn false;\n\t},\n\n\t_linkButtonControl: function(parentContainer, data, builder) {\n\t\tvar textContent = L.DomUtil.create('label', builder.options.cssClass + \" ui-linkbutton\", parentContainer);\n\n\t\tif (data.labelFor)\n\t\t\ttextContent.htmlFor = data.labelFor + '-input';\n\n\t\tif (data.text)\n\t\t\ttextContent.textContent = builder._cleanText(data.text);\n\t\telse if (data.html)\n\t\t\ttextContent.innerHTML = data.html;\n\n\t\tvar accKey = builder._getAccessKeyFromText(data.text);\n\t\tbuilder._stressAccessKey(textContent, accKey);\n\n\t\tapp.layoutingService.appendLayoutingTask(function () {\n\t\t\tvar labelledControl = document.getElementById(data.labelFor);\n\t\t\tif (labelledControl) {\n\t\t\t\tvar target = labelledControl;\n\t\t\t\tvar input = labelledControl.querySelector('input');\n\t\t\t\tif (input)\n\t\t\t\t\ttarget = input;\n\t\t\t\tvar select = labelledControl.querySelector('select');\n\t\t\t\tif (select)\n\t\t\t\t\ttarget = select;\n\n\t\t\t\tbuilder._setAccessKey(target, accKey);\n\t\t\t}\n\t\t});\n\n\t\ttextContent.id = data.id;\n\t\tif (data.style && data.style.length) {\n\t\t\tL.DomUtil.addClass(textContent, data.style);\n\t\t} else {\n\t\t\tL.DomUtil.addClass(textContent, 'ui-text');\n\t\t}\n\t\tif (data.hidden)\n\t\t\t$(textContent).hide();\n\n\t\tvar clickFunction = function () {\n\t\t\t\tbuilder.callback('linkbutton', 'click', data, null, builder);\n\t\t};\n\t\t$(textContent).click(clickFunction);\n\t\treturn false;\n\t},\n\n\t_setIconAndNameForCombobox: function(data) {\n\t\tif (data.command == '.uno:CharFontName') {\n\t\t\tdata.text = _('Font Name');\n\t\t} else if (data.command == '.uno:FontHeight') {\n\t\t\tdata.text = _('Font Size');\n\t\t} else if (data.command == '.uno:StyleApply') {\n\t\t\tdata.text = _('Style');\n\t\t}\n\t},\n\n\t_listboxControl: function(parentContainer, data, builder) {\n\t\tvar title = data.text;\n\t\tvar selectedEntryIsString = false;\n\t\tif (data.selectedEntries) {\n\t\t\tselectedEntryIsString = isNaN(parseInt(data.selectedEntries[0]));\n\t\t\tif (title && title.length) {\n\t\t\t\t// pass\n\t\t\t} else if (selectedEntryIsString)\n\t\t\t\ttitle = builder._cleanText(data.selectedEntries[0]);\n\t\t\telse if (data.entries && data.entries.length > data.selectedEntries[0])\n\t\t\t\ttitle = data.entries[data.selectedEntries[0]];\n\t\t}\n\t\ttitle = builder._cleanText(title);\n\n\t\tvar container = L.DomUtil.create('div', builder.options.cssClass + ' ui-listbox-container ', parentContainer);\n\t\tcontainer.id = data.id;\n\n\t\tvar listbox = L.DomUtil.create('select', builder.options.cssClass + ' ui-listbox ', container);\n\t\tlistbox.id = data.id + '-input';\n\t\tif (data.labelledBy)\n\t\t\tlistbox.setAttribute('aria-labelledby', data.labelledBy);\n\t\tvar listboxArrow = L.DomUtil.create('span', builder.options.cssClass + ' ui-listbox-arrow', container);\n\t\tlistboxArrow.id = 'listbox-arrow-' + data.id;\n\n\n\t\tif (data.enabled === false) {\n\t\t\tcontainer.disabled = true;\n\t\t\tlistbox.disabled = true;\n\t\t\tcontainer.setAttribute('disabled', 'true');\n\t\t}\n\n\t\tJSDialog.SynchronizeDisabledState(container, [listbox]);\n\n\t\t$(listbox).change(() => {\n\t\t\tif ($(listbox).val())\n\t\t\t\tbuilder.callback('combobox', 'selected', data, $(listbox).val()+ ';' + $(listbox).children('option:selected').text(), builder);\n\t\t});\n\t\tvar hasSelectedEntry = false;\n\t\tif (typeof(data.entries) === 'object') {\n\t\t\tfor (var index in data.entries) {\n\t\t\t\tvar isSelected = false;\n\t\t\t\tif ((data.selectedEntries && index == data.selectedEntries[0])\n\t\t\t\t\t|| (data.selectedEntries && selectedEntryIsString && data.entries[index] === data.selectedEntries[0])\n\t\t\t\t\t|| data.entries[index] == title) {\n\t\t\t\t\tisSelected = true;\n\t\t\t\t}\n\n\t\t\t\tvar option = L.DomUtil.create('option', '', listbox);\n\t\t\t\toption.value = index;\n\t\t\t\toption.innerText = data.entries[index];\n\t\t\t\tif (isSelected) {\n\t\t\t\t\toption.selected = true;\n\t\t\t\t\thasSelectedEntry = true;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\t// no selected entry; set the visible value to empty string unless the font is not included in the entries\n\t\tif (!hasSelectedEntry) {\n\t\t\tif (title) {\n\t\t\t\tvar newOption = L.DomUtil.create('option', '', listbox);\n\t\t\t\tnewOption.value = ++index;\n\t\t\t\tnewOption.innerText = title;\n\t\t\t\tnewOption.selected = true;\n\t\t\t} else\n\t\t\t\t$(listbox).val('');\n\t\t}\n\n\t\treturn false;\n\t},\n\n\t_valuesetControl: function (parentContainer, data, builder) {\n\t\tvar elem;\n\t\tvar image;\n\t\tvar image64;\n\n\t\tif (!data.entries || data.entries.length === 0) {\n\t\t\treturn false;\n\t\t}\n\n\t\tfor (var index in data.entries) {\n\t\t\timage = data.entries[index].image;\n\t\t\timage64 = data.entries[index].image64;\n\t\t\tif (image) {\n\t\t\t\timage = image.substr(0, image.lastIndexOf('.'));\n\t\t\t\timage = image.substr(image.lastIndexOf('/') + 1);\n\t\t\t\timage = 'url(\"' + app.LOUtil.getImageURL(image + '.svg') + '\")';\n\t\t\t}\n\n\t\t\tif (image64) {\n\t\t\t\timage = 'url(\"' + image64 + '\")';\n\t\t\t}\n\t\t\tapp.LOUtil.checkIfImageExists(image);\n\t\t\telem = L.DomUtil.create('div', 'layout ' +\n\t\t\t\t(data.entries[index].selected ? ' cool-context-down' : ''), parentContainer);\n\t\t\t$(elem).data('id', data.entries[index].id);\n\t\t\t$(elem).click(function () {\n\t\t\t\tbuilder.callback('valueset', 'selected', { id: data.id }, $(this).data('id'), builder);\n\t\t\t});\n\n\t\t\telem.style.setProperty('background', image + ' no-repeat center', 'important');\n\t\t}\n\n\t\treturn false;\n\t},\n\n\t_fixedtextControl: function(parentContainer, data, builder) {\n\t\tvar fixedtext = L.DomUtil.create('label', builder.options.cssClass, parentContainer);\n\n\t\tif (data.labelFor)\n\t\t\tfixedtext.htmlFor = data.labelFor + '-input';\n\n\t\tif (data.text)\n\t\t\tfixedtext.textContent = builder._cleanText(data.text);\n\t\telse if (data.html)\n\t\t\tfixedtext.innerHTML = data.html;\n\n\t\tvar accKey = builder._getAccessKeyFromText(data.text);\n\t\tbuilder._stressAccessKey(fixedtext, accKey);\n\n\t\tapp.layoutingService.appendLayoutingTask(function () {\n\t\t\tvar labelledControl = document.getElementById(data.labelFor);\n\t\t\tif (labelledControl) {\n\t\t\t\tvar target = labelledControl;\n\t\t\t\tvar input = labelledControl.querySelector('input');\n\t\t\t\tif (input)\n\t\t\t\t\ttarget = input;\n\t\t\t\tvar select = labelledControl.querySelector('select');\n\t\t\t\tif (select)\n\t\t\t\t\ttarget = select;\n\n\t\t\t\tbuilder._setAccessKey(target, accKey);\n\t\t\t}\n\t\t});\n\n\t\tfixedtext.id = data.id;\n\t\tif (data.style && data.style.length) {\n\t\t\tL.DomUtil.addClass(fixedtext, data.style);\n\t\t} else {\n\t\t\tL.DomUtil.addClass(fixedtext, 'ui-text');\n\t\t}\n\n\t\tif (data.hidden)\n\t\t\t$(fixedtext).hide();\n\n\t\treturn false;\n\t},\n\n\t_separatorControl: function(parentContainer, data, builder) {\n\t\tif (data.orientation && data.orientation === 'vertical') {\n\t\t\tvar separator = L.DomUtil.create('div', builder.options.cssClass + ' ui-separator vertical', parentContainer);\n\t\t} else {\n\t\t\tseparator = L.DomUtil.create('hr', builder.options.cssClass + ' ui-separator horizontal', parentContainer);\n\t\t}\n\t\tseparator.id = data.id;\n\n\t\treturn false;\n\t},\n\n\t_spinnerControl: function(parentContainer, data, builder) {\n\t\tvar spinner = L.DomUtil.create('div', builder.options.cssClass + ' spinner', parentContainer);\n\t\tspinner.id = data.id;\n\n\t\treturn false;\n\t},\n\n\t_spinnerImgControl: function(parentContainer, data, builder) {\n\t\tvar svgElement = document.createElementNS('http://www.w3.org/2000/svg', 'svg');\n\t\tsvgElement.setAttribute('xmlns', 'http://www.w3.org/2000/svg');\n\t\tsvgElement.setAttribute('width', '298');\n\t\tsvgElement.setAttribute('height', '192');\n\t\t// todo: change svg paths color depending on document type\n\t\tsvgElement.innerHTML = '<defs> <linearGradient id=\"spinner-shadow-bottom-linearGradient\" x1=\"131.73\" x2=\"184.28\" y1=\"124.94\" y2=\"177.49\" gradientUnits=\"userSpaceOnUse\"> <stop stop-color=\"#e6e6e6\" offset=\"0\"/> <stop stop-color=\"#ccc\" stop-opacity=\"0\" offset=\"1\"/> </linearGradient> <linearGradient id=\"spinner-shadow-top-linearGradient\" x1=\"130.72\" x2=\"203.26\" y1=\"151.3\" y2=\"118.61\" gradientUnits=\"userSpaceOnUse\"> <stop stop-color=\"#e6e6e6\" offset=\"0\"/> <stop stop-color=\"#b3b3b3\" stop-opacity=\"0\" offset=\"1\"/> </linearGradient> <linearGradient id=\"spinner-paper-linearGradient\" x1=\"166.04\" x2=\"106.19\" y1=\"71.233\" y2=\"36.679\" gradientUnits=\"userSpaceOnUse\"> <stop stop-color=\"#b3d3e5\" offset=\"0\"/> <stop stop-color=\"#d9e9f2\" offset=\"1\"/> </linearGradient> <linearGradient id=\"spinner-paper-fold-linearGradient\" x1=\"167.16\" x2=\"175.12\" y1=\"46.783\" y2=\"51.379\" gradientUnits=\"userSpaceOnUse\"> <stop stop-color=\"#68a7ca\" offset=\"0\"/> <stop stop-color=\"#4290bd\" offset=\"1\"/> </linearGradient> <linearGradient id=\"spinner-inner-left-linearGradient\" x1=\"114.56\" x2=\"142.35\" y1=\"103.94\" y2=\"103.94\" gradientUnits=\"userSpaceOnUse\"> <stop stop-color=\"#4290bd\" offset=\"0\"/> <stop stop-color=\"#4290bd\" stop-opacity=\"0\" offset=\"1\"/> </linearGradient> </defs> <g id=\"spinner-box-g\" transform=\"translate(9.8904)\"> <g id=\"spinner-shadow-g\"> <path id=\"spinner-shadow-top\" d=\"m196.39 151.18 16.366-9.4488-81.829-47.244-16.366 9.4488z\" fill=\"url(#spinner-shadow-top-linearGradient)\"/> <path id=\"spinner-shadow-bottom\" d=\"m130.93 188.98 65.463-37.795 16.366 9.4488-65.463 37.795z\" fill=\"url(#spinner-shadow-bottom-linearGradient)\"/> </g> <path id=\"spinner-box-back\" d=\"m130.93 56.693-65.463 37.795 65.463 37.795 65.463-37.795z\" fill=\"#b4d3e4\" fill-opacity=\".97667\"/> <g> <path id=\"spinner-box-f-right-bg\" d=\"m130.93 132.28v56.693l65.463-37.795v-56.693z\" fill=\"white\"/> <path id=\"spinner-box-f-right\" d=\"m130.93 132.28v56.693l65.463-37.795v-56.693z\" fill=\"#8ebdd7\"/> <path id=\"spinner-box-f-left\" d=\"m130.93 132.28v56.693l-65.463-37.795v-56.693z\" fill=\"#d9e9f2\"/> <path id=\"spinner-inner-right-bg\" d=\"m81.829 103.94 49.098-28.346 49.098 28.346-49.098 28.346z\" fill=\"white\"/> <path id=\"spinner-inner-right\" d=\"m81.829 103.94 49.098-28.346 49.098 28.346-49.098 28.346z\" fill=\"#68a7ca\"/> <path id=\"spinner-inner-left-bg\" d=\"m130.93 75.591v56.693l-49.098-28.346z\" fill=\"white\"/> <path id=\"spinner-inner-left\" d=\"m130.93 75.591v56.693l-49.098-28.346z\" fill=\"url(#spinner-inner-left-linearGradient)\"/> </g> <path id=\"spinner-handle\" d=\"m114.56 153.07-6.5463 3.7795-32.732-18.898 6.5463-3.7795\" fill=\"none\" stroke=\"#4290bd\" stroke-linecap=\"round\" stroke-width=\"3\"/> </g> <g id=\"spinner-paper-g\" transform=\"translate(9.8904)\"> <path id=\"spinner-paper-bg\" d=\"m130.93 18.898s-14.524 12.927-49.098 28.346l49.098 28.346c16.428-6.7073 29.159-14.202 37.537-19.8 7.5473-5.0432 6.4305-9.2141 6.4305-9.2141-0.42453-2.5692-4.7288-5.0245-4.7288-5.0245z\" fill=\"white\"/> <path id=\"spinner-paper\" d=\"m130.93 18.898s-14.524 12.927-49.098 28.346l49.098 28.346c16.428-6.7073 29.159-14.202 37.537-19.8 7.5473-5.0432 6.4305-9.2141 6.4305-9.2141-0.42453-2.5692-4.7288-5.0245-4.7288-5.0245z\" fill=\"url(#spinner-paper-linearGradient)\"/> <path id=\"spinner-paper-fold-bg\" d=\"m168.46 55.791c7.5473-5.0432-1.2989-9.0071-1.2989-9.0071-0.42453-2.5692 3.0006-5.2315 3.0006-5.2315 4.4877 2.646 4.7288 5.0245 4.7288 5.0245 1.0076 4.4201-6.4305 9.2141-6.4305 9.2141z\" fill=\"white\"/> <path id=\"spinner-paper-fold\" d=\"m168.46 55.791c7.5473-5.0432-1.2989-9.0071-1.2989-9.0071-0.42453-2.5692 3.0006-5.2315 3.0006-5.2315 4.4877 2.646 4.7288 5.0245 4.7288 5.0245 1.0076 4.4201-6.4305 9.2141-6.4305 9.2141z\" fill=\"url(#spinner-paper-fold-linearGradient)\"/> </g>';\n\t\tvar spinner = L.DomUtil.create('div', builder.options.cssClass + ' spinner-img ', parentContainer);\n\t\tspinner.appendChild(svgElement);\n\t\tspinner.id = data.id;\n\n\t\treturn false;\n\t},\n\n\t_imageHandler: function(parentContainer, data, builder) {\n\t\tif (!data.id)\n\t\t\treturn false;\n\n\t\tvar image = L.DomUtil.create('img', builder.options.cssClass + ' ui-image', parentContainer);\n\t\timage.id = data.id;\n\t\timage.src = data.image ? data.image.replace(/\\\\/g, '') : '';\n\t\timage.alt = data.text;\n\n\t\treturn false;\n\t},\n\n\t_htmlControl: function(parentContainer, data, builder) {\n\t\tvar container = L.DomUtil.create('div', builder.options.cssClass, parentContainer);\n\t\tcontainer.appendChild(data.content);\n\t\tcontainer.id = data.id;\n\t\tif (data.style && data.style.length) {\n\t\t\tL.DomUtil.addClass(container, data.style);\n\t\t}\n\n\t\tif (data.hidden)\n\t\t\t$(container).hide();\n\n\t\treturn false;\n\t},\n\n\t_createComment: function(container, data) {\n\t\t// Create annotation copy and add it into the container.\n\t\tcontainer.appendChild(data.annotation.sectionProperties.container);\n\n\t\tdata.annotation.show();\n\t\tdata.annotation.update();\n\t\tdata.annotation.setExpanded();\n\t},\n\n\t_rootCommentControl: function(parentContainer, data, builder) {\n\n\t\tif (data.type === 'emptyCommentWizard') {\n\t\t\tbuilder._emptyCommentWizard(parentContainer, data, builder);\n\t\t\treturn;\n\t\t}\n\n\t\tvar mainContainer = document.getElementById('explorable-entry level-' + builder._currentDepth + ' ' + data.id);\n\t\tif (!mainContainer)\n\t\t\tmainContainer = L.DomUtil.create('div', 'ui-explorable-entry level-' + builder._currentDepth + ' ' + builder.options.cssClass, parentContainer);\n\n\t\tmainContainer.id = 'explorable-entry level-' + builder._currentDepth + ' ' + data.id;\n\n\t\tvar container = document.getElementById(data.id);\n\t\tif (!container)\n\t\t\tcontainer = L.DomUtil.create('div',  'ui-header cool-annotation-header level-' + builder._currentDepth + ' ' + builder.options.cssClass + ' ui-widget', mainContainer);\n\n\t\tcontainer.annotation = data.annotation;\n\t\tcontainer.id = data.id;\n\t\tbuilder._createComment(container, data);\n\t\tif (data.children.length > 1 && mainContainer.id !== 'comment-thread' + data.id)\n\t\t{\n\t\t\tvar numberOfReplies = data.children.length - 1;\n\t\t\tif (numberOfReplies > 0)\n\t\t\t{\n\t\t\t\tvar replyCountNode = document.getElementById('reply-count-node-' + data.id);\n\n\t\t\t\tif (!replyCountNode)\n\t\t\t\t\treplyCountNode = L.DomUtil.create('div','cool-annotation-reply-count cool-annotation-content', $(container).find('.cool-annotation-content-wrapper')[0]);\n\n\t\t\t\treplyCountNode.id = 'reply-count-node-' + data.id;\n\t\t\t\treplyCountNode.style.display = 'block';\n\n\t\t\t\tvar replyCountText;\n\t\t\t\tif (numberOfReplies === 1) {\n\t\t\t\t\treplyCountText = numberOfReplies + ' ' + _('reply');\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\treplyCountText = numberOfReplies + ' ' + _('replies');\n\t\t\t\t}\n\t\t\t\t$(replyCountNode).text(replyCountText);\n\t\t\t}\n\n\t\t\tvar childContainer = document.getElementById('comment-thread' + data.id);\n\n\t\t\tif (!childContainer)\n\t\t\t\tchildContainer = L.DomUtil.create('div', 'ui-content level-' + builder._currentDepth + ' ' + builder.options.cssClass, mainContainer);\n\n\t\t\tchildContainer.id = 'comment-thread' + data.id;\n\t\t\tchildContainer.title = _('Comment');\n\n\t\t\t$(childContainer).hide();\n\n\t\t\tif (builder.wizard) {\n\t\t\t\tif ($(container).find('.cool-annotation-menubar').length > 0)\n\t\t\t\t\t$(container).find('.cool-annotation-menubar')[0].style.display = 'none';\n\n\t\t\t\tvar arrowSpan = container.querySelector('[id=\\'arrow span ' + data.id + '\\']');\n\n\t\t\t\tif (!arrowSpan)\n\t\t\t\t\tarrowSpan = L.DomUtil.create('span','sub-menu-arrow', $(container).find('.cool-annotation-content-wrapper')[0]);\n\n\t\t\t\tarrowSpan.style.display = 'block';\n\t\t\t\tarrowSpan.textContent = '>';\n\t\t\t\tarrowSpan.style.padding = '0px';\n\t\t\t\tarrowSpan.id = 'arrow span ' + data.id;\n\n\t\t\t\t$(container).find('.cool-annotation')[0].onclick = function() {\n\t\t\t\t\tbuilder.wizard.goLevelDown(mainContainer);\n\t\t\t\t\tchildContainer.style.display = 'block';\n\t\t\t\t\tif (!childContainer.childNodes.length)\n\t\t\t\t\t\tbuilder.build(childContainer, data.children);\n\t\t\t\t};\n\n\t\t\t\tvar backButton = document.getElementById('mobile-wizard-back');\n\n\t\t\t\tbackButton.onclick = function () {\n\t\t\t\t\tif (backButton.className !== 'close-button') {\n\t\t\t\t\t\tif (!mainContainer.childNodes.length)\n\t\t\t\t\t\t\tbuilder.build(mainContainer, data);\n\t\t\t\t\t\tif (data.type === 'rootcomment') {\n\t\t\t\t\t\t\tvar temp = document.getElementById('comment-thread' + data.id);\n\t\t\t\t\t\t\tif (temp)\n\t\t\t\t\t\t\t\ttemp.style.display = 'block';\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t};\n\t\t\t}\n\t\t}\n\n\t\t$(container).find('.cool-annotation')[0].addEventListener('click', function() {\n\t\t\tapp.sectionContainer.getSectionWithName(L.CSections.CommentList.name).highlightComment(data.annotation);\n\t\t});\n\t\treturn false;\n\t},\n\n\t_commentControl: function(parentContainer, data, builder) {\n\t\tbuilder._createComment(parentContainer, data, false);\n\t\treturn false;\n\t},\n\n\t_emptyCommentWizard: function(parentContainer, data, builder) {\n\t\tL.DomUtil.addClass(parentContainer, 'content-has-no-comments');\n\t\tvar emptyCommentWizard = L.DomUtil.create('figure', 'empty-comment-wizard-container', parentContainer);\n\t\tvar imgNode = L.DomUtil.create('img', 'empty-comment-wizard-img', emptyCommentWizard);\n\t\tapp.LOUtil.setImage(imgNode, 'lc_showannotations.svg', builder.map);\n\t\timgNode.alt = data.text;\n\n\t\tvar textNode = L.DomUtil.create('figcaption', 'empty-comment-wizard', emptyCommentWizard);\n\t\ttextNode.innerText = data.text;\n\t\tL.DomUtil.create('br', 'empty-comment-wizard', textNode);\n\t\tif (app.isCommentEditingAllowed()) {\n\t\t\tvar linkNode = L.DomUtil.create('div', 'empty-comment-wizard-link', textNode);\n\t\t\tlinkNode.innerText = _('Insert Comment');\n\t\t\tlinkNode.onclick = builder.map.insertComment.bind(builder.map);\n\t\t}\n\t},\n\n\t// make a class identifier from parent's id by walking up the tree\n\t_getParentId : function(it) {\n\t\twhile (it.parent && !it.id)\n\t\t\tit = it.parent;\n\t\tif (it && it.id)\n\t\t\treturn '-' + it.id;\n\t\telse\n\t\t\treturn '';\n\t},\n\n\t_addAriaLabel(element, data, builder) {\n\t\tif (data.aria)\n\t\t\telement.setAttribute('aria-label', data.aria.label);\n\t\telse if(data.text)\n\t\t\telement.setAttribute('aria-label', builder._cleanText(data.text));\n\t},\n\n\t// Create a DOM node with an identifiable parent class\n\t_createIdentifiable : function(type, classNames, parentContainer, data) {\n\t\treturn L.DomUtil.create(\n\t\t\ttype, classNames + this._getParentId(data),\n\t\t\tparentContainer);\n\t},\n\n\t_isStringCloseToURL : function(str) {\n\t\treturn str.indexOf('http') !== -1;\n\t},\n\n\t_makeIdUnique: function(id) {\n\t\tvar counter = 0;\n\t\tvar found = document.querySelector('[id=\"' + id + '\"]');\n\n\t\twhile (found) {\n\t\t\tcounter++;\n\t\t\tfound = document.querySelector('[id=\"' + id + counter + '\"]');\n\t\t}\n\n\t\tif (counter)\n\t\t\tid = id + counter;\n\n\t\treturn id;\n\t},\n\n\t_unoToolButton: function(parentContainer, data, builder, options) {\n\t\tvar button = null;\n\n\t\tvar controls = {};\n\n\t\tvar div;\n\t\tif (data.command === '.uno:Paste' || data.command === '.uno:Cut' || data.command === '.uno:Copy') {\n\t\t\tvar hyperlink = L.DomUtil.create('a', '', parentContainer);\n\t\t\tdiv = this._createIdentifiable('div', 'unotoolbutton ' + builder.options.cssClass + ' ui-content unospan', hyperlink, data);\n\t\t} else {\n\t\t\tdiv = this._createIdentifiable('div', 'unotoolbutton ' + builder.options.cssClass + ' ui-content unospan', parentContainer, data);\n\t\t}\n\n\t\tcontrols['container'] = div;\n\t\tdiv.tabIndex = -1;\n\t\tif (data.class)\n\t\t\tdiv.classList.add(data.class);\n\n\t\tvar isRealUnoCommand = true;\n\t\tvar hasPopUp = false;\n\t\tvar hasImage = true;\n\n\t\tif (data.text && data.text.endsWith('...')) {\n\t\t\tdata.text = data.text.replace('...', '');\n\t\t\thasPopUp = true;\n\t\t}\n\n\t\tif (data && data.image === false) {\n\t\t\thasImage = false;\n\t\t}\n\n\t\tif (data.command || data.postmessage === true) {\n\t\t\tvar id = data.id ? data.id : (data.command && data.command !== '') ? data.command.replace('.uno:', '') : data.text;\n\t\t\tvar isUnoCommand = data.command && data.command.indexOf('.uno:') >= 0;\n\n\t\t\tisRealUnoCommand = isUnoCommand;\n\n\t\t\tif (id)\n\t\t\t\tid.replace(/\\%/g, '').replace(/\\./g, '-').replace(' ', '');\n\t\t\telse\n\t\t\t\tconsole.warn('_unoToolButton: no id provided');\n\n\t\t\tif (data.command)\n\t\t\t\tL.DomUtil.addClass(div, data.command.replace(':', '').replace('.', ''));\n\n\t\t\tif (isRealUnoCommand)\n\t\t\t\tid = builder._makeIdUnique(id);\n\n\t\t\tdiv.id = id;\n\t\t\tdata.id = id; // change in input data for postprocess\n\n\t\t\tvar buttonId = id + '-button';\n\n\t\t\tbutton = L.DomUtil.create('button', 'ui-content unobutton', div);\n\t\t\tbutton.id = buttonId;\n\n\t\t\tJSDialog.SynchronizeDisabledState(div, [button]);\n\n\t\t\tbuilder._addAriaLabel(button, data, builder);\n\n\t\t\tif (!data.accessKey)\n\t\t\t\tbuilder._setAccessKey(button, builder._getAccessKeyFromText(data.text));\n\t\t\telse\n\t\t\t\tbutton.accessKey = data.accessKey;\n\n\t\t\tif (hasPopUp)\n\t\t\t\tbutton.setAttribute('aria-haspopup', true);\n\n\t\t\tif (data.w2icon) {\n\t\t\t\t// FIXME: DEPRECATED, this is legacy way to setup icon based on CSS class\n\t\t\t\tvar buttonImage = L.DomUtil.create('div', 'w2ui-icon ' + data.w2icon, button);\n\t\t\t}\n\t\t\telse if (hasImage !== false){\n\t\t\t\tif (data.icon) {\n\t\t\t\t\tbuttonImage = L.DomUtil.create('img', '', button);\n\t\t\t\t\tthis._isStringCloseToURL(data.icon) ? buttonImage.src = data.icon : app.LOUtil.setImage(buttonImage, data.icon, builder.map);\n\t\t\t\t}\n\t\t\t\telse if (data.image) {\n\t\t\t\t\tbuttonImage = L.DomUtil.create('img', '', button);\n\t\t\t\t\tbuttonImage.src = data.image;\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\tbuttonImage = L.DomUtil.create('img', '', button);\n\t\t\t\t\tapp.LOUtil.setImage(buttonImage, app.LOUtil.getIconNameOfCommand(data.command), builder.map);\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tbuttonImage = false;\n\t\t\t}\n\n\t\t\tcontrols['button'] = button;\n\t\t\tvar span;\n\t\t\tif (builder.options.noLabelsForUnoButtons !== true && data.text) {\n\t\t\t\tspan = L.DomUtil.create('span', 'ui-content unolabel', button);\n\t\t\t\tspan.textContent = builder._cleanText(data.text);\n\t\t\t\tbuilder._stressAccessKey(span, button.accessKey);\n\t\t\t\tcontrols['label'] = span;\n\t\t\t\t$(div).addClass('has-label');\n\t\t\t} else if (builder.options.useInLineLabelsForUnoButtons === true && data.text) {\n\t\t\t\t$(div).addClass('inline');\n\t\t\t\tspan = L.DomUtil.create('span', 'ui-content unolabel', div);\n\t\t\t\tspan.textContent = builder._cleanText(data.text);\n\n\t\t\t\tcontrols['label'] = span;\n\t\t\t} else {\n\t\t\t\t$(div).addClass('no-label');\n\t\t\t}\n\n\t\t\t// for Accessibility : graphic elements are located within buttons, the img should receive an empty alt\n\t\t\tif(button.getAttribute('aria-label')){ // if we already set the aria-label then do not go for image alt attr\n\t\t\t\tbuttonImage.alt = '';\n\t\t\t}\n\t\t\telse if (buttonImage !== false) {\n\t\t\t\tif(data.aria) {\n\t\t\t\t\tbuttonImage.alt = data.aria.label;\n\t\t\t\t} else {\n\t\t\t\t\tbuttonImage.alt = builder._cleanText(data.text);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tconst tooltip = builder._cleanText(data.tooltip) || builder._cleanText(data.text);\n\t\t\tdiv.setAttribute('data-cooltip', tooltip);\n\n\t\t\tvar isDisabled = data.enabled === false;\n\t\t\tif (data.command) {\n\t\t\t\tvar updateFunction = function() {\n\t\t\t\t\tvar items = builder.map['stateChangeHandler'];\n\t\t\t\t\tvar state = items.getItemValue(data.command);\n\n\t\t\t\t\tif (state && state === 'true') {\n\t\t\t\t\t\t$(button).addClass('selected');\n\t\t\t\t\t\t$(div).addClass('selected');\n\t\t\t\t\t\tbutton.setAttribute('aria-pressed', true);\n\t\t\t\t\t}\n\t\t\t\t\telse {\n\t\t\t\t\t\t$(button).removeClass('selected');\n\t\t\t\t\t\t$(div).removeClass('selected');\n\t\t\t\t\t\tbutton.setAttribute('aria-pressed', false);\n\t\t\t\t\t}\n\n\t\t\t\t\tif (isDisabled) {\n\t\t\t\t\t\tdiv.setAttribute('disabled', 'true');\n\t\t\t\t\t\tdiv.setAttribute('aria-disabled', true);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tdiv.removeAttribute('disabled');\n\t\t\t\t\t\tdiv.removeAttribute('aria-disabled');\n\t\t\t\t\t}\n\t\t\t\t};\n\n\t\t\t\tupdateFunction();\n\n\t\t\t\tbuilder.map.on('commandstatechanged', function(e) {\n\t\t\t\t\tisDisabled = false;\n\t\t\t\t\tif (e.commandName === data.command)\n\t\t\t\t\t{\n\t\t\t\t\t\t// in some cases we will get both property like state and disabled\n\t\t\t\t\t\t// to handle it we will set disable var based on INCOMING info (ex: .uno:ParaRightToLft)\n\t\t\t\t\t\tisDisabled = e.disabled || e.state == 'disabled';\n\t\t\t\t\t\tupdateFunction();\n\t\t\t\t\t}\n\t\t\t\t}, this);\n\t\t\t}\n\n\t\t\tif (isDisabled) {\n\t\t\t\tdiv.setAttribute('disabled', 'true');\n\t\t\t\tdiv.setAttribute('aria-disabled', true);\n\t\t\t}\n\n\t\t\tvar selectFn = function() {\n\t\t\t\tL.DomUtil.addClass(button, 'selected');\n\t\t\t\tL.DomUtil.addClass(div, 'selected');\n\t\t\t\tbutton.setAttribute('aria-pressed', true);\n\t\t\t};\n\n\t\t\tvar unSelectFn = function() {\n\t\t\t\tL.DomUtil.removeClass(button, 'selected');\n\t\t\t\tL.DomUtil.removeClass(div, 'selected');\n\t\t\t\tbutton.setAttribute('aria-pressed', false);\n\t\t\t};\n\n\t\t\tdiv.onSelect = selectFn;\n\t\t\tdiv.onUnSelect = unSelectFn;\n\n\t\t\tif (data.selected === true)\n\t\t\t\tselectFn();\n\t\t} else {\n\t\t\tvar span = L.DomUtil.create('span', 'ui-content unolabel', div);\n\t\t\tspan.textContent = builder._cleanText(data.text);\n\t\t\tcontrols['button'] = button;\n\t\t\tcontrols['label'] = span;\n\t\t}\n\n\t\tif (options && options.hasDropdownArrow) {\n\t\t\t$(div).addClass('has-dropdown');\n\t\t\tif (data.applyCallback) {\n\t\t\t\t// Arrow should be a real button (user can interact with it)\n\t\t\t\tvar arrowbackground = L.DomUtil.create('button', 'arrowbackground', div);\n\t\t\t} else {\n\t\t\t\t// Arrow is just decoration\n\t\t\t\tvar arrowbackground = L.DomUtil.create('div', 'arrowbackground', div);\n\t\t\t\tarrowbackground.setAttribute('aria-hidden', 'true');\n\t\t\t}\n\t\t\tL.DomUtil.create('i', 'unoarrow', arrowbackground);\n\t\t\tcontrols['arrow'] = arrowbackground;\n\t\t} else if (data.dropdown === true) {\n\t\t\t$(div).addClass('has-dropdown');\n\t\t\tvar arrowbackground = L.DomUtil.create('button', 'arrowbackground', div);\n\t\t\tL.DomUtil.create('i', 'unoarrow', arrowbackground);\n\t\t\tcontrols['arrow'] = arrowbackground;\n\n\t\t\t// Attach event listeners for both 'click' and 'keydown'\n\t\t\tarrowbackground.addEventListener('click', function (event) {\n\t\t\t\topenToolBoxMenu(event, div);\n\t\t\t});\n\t\t\tarrowbackground.addEventListener('keydown', function (event) {\n\t\t\t\tswitch (event.key) {\n\t\t\t\t\tcase 'Enter':\n\t\t\t\t\t\topenToolBoxMenu(event, div);\n\t\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t});\n\n\t\t\tdiv.closeDropdown = function() {\n\t\t\t\tdiv.setAttribute('aria-expanded', false);\n\t\t\t\tbuilder.callback('toolbox', 'closemenu', parentContainer, data.command, builder);\n\t\t\t};\n\t\t}\n\n\t\tif (arrowbackground) {\n\t\t\tdiv.setAttribute('aria-expanded', false);\n\t\t\t// if main button element in split button works same as arrowbackground then make sure arrowbackground not focusable due to a11y conflicts\n\t\t\tdata.applyCallback ? arrowbackground.tabIndex = '0' : arrowbackground.tabIndex = '-1';\n\t\t}\n\n\t\tvar openToolBoxMenu = function(event, div) {\n\t\t\tif (!div.hasAttribute('disabled')) {\n\t\t\t\tdiv.setAttribute('aria-expanded', true);\n\t\t\t\tbuilder.callback('toolbox', 'openmenu', parentContainer, data.command, builder);\n\t\t\t\tevent.stopPropagation();\n\t\t\t}\n\t\t};\n\n\t\tvar clickFunction = function (e) {\n\t\t\tif (!div.hasAttribute('disabled')) {\n\t\t\t\tbuilder.refreshSidebar = true;\n\t\t\t\tif (data.postmessage)\n\t\t\t\t\tbuilder.map.fire('postMessage', {msgId: 'Clicked_Button', args: {Id: data.id} });\n\t\t\t\telse if (isRealUnoCommand && data.dropdown !== true)\n\t\t\t\t\tbuilder.callback('toolbutton', 'click', button, data.command, builder);\n\t\t\t\telse {\n\t\t\t\t\tbuilder.callback('toolbox', 'click', parentContainer, data.command, builder);\n\t\t\t\t\tbutton.setAttribute('aria-expanded', true);\n\t\t\t\t}\n\t\t\t}\n\t\t\te.preventDefault();\n\t\t\te.stopPropagation();\n\t\t};\n\n\t\tconst hasLabel = !!controls.label;\n\t\tvar mouseEnterFunction = window.touch.mouseOnly(function () {\n\t\t\tif (builder.map.tooltip)\n\t\t\t\tbuilder.map.tooltip.beginShow(div);\n\t\t});\n\n\t\tvar mouseLeaveFunction = function () {\n\t\t\tif (builder.map.tooltip)\n\t\t\t\tbuilder.map.tooltip.beginHide(div);\n\t\t};\n\n\t\t$(controls.button).on('click', clickFunction);\n\t\t$(controls.label).on('click', clickFunction);\n\t\t// We need a way to also handle the custom tooltip for any tool button like save in shortcut bar\n\t\tif (data.isCustomTooltip) {\n\t\t\tthis._handleCutomTooltip(div, builder);\n\t\t}\n\t\telse if (!hasLabel) {\n\t\t\t$(div).on('mouseenter', mouseEnterFunction);\n\t\t\t$(div).on('mouseleave', mouseLeaveFunction);\n\t\t} else {\n\t\t\tdiv.removeAttribute('data-cooltip'); // If there is a label, we don't need the tooltip\n\t\t}\n\n\t\tdiv.addEventListener('keydown', function(e) {\n\t\t\tswitch (e.key) {\n\t\t\tcase 'Escape':\n\t\t\t\tbuilder.map.focus();\n\t\t\t\tbreak;\n\t\t\t}\n\t\t});\n\n\t\tbuilder._preventDocumentLosingFocusOnClick(div);\n\n\t\tif (isDisabled) {\n\t\t\tdiv.setAttribute('disabled', 'true');\n\t\t\tdiv.setAttribute('aria-disabled', true);\n\t\t}\n\n\t\tbuilder.map.hideRestrictedItems(data, controls['container'], controls['container']);\n\t\tbuilder.map.disableLockedItem(data, controls['container'], controls['container']);\n\n\t\treturn controls;\n\t},\n\n\t_handleCutomTooltip: function(elem, builder) {\n\t\tswitch (elem.id) {\n\t\t\tcase 'save':\n\t\t\t\t$(elem).on('mouseenter', window.touch.mouseOnly(function() {\n\t\t\t\t\tif (builder.map.tooltip)\n\t\t\t\t\t\tbuilder.map.tooltip.show(elem, builder.map.getLastModDateValue()); // Show the tooltip with the correct content\n\t\t\t\t}));\n\n\t\t\t\t$(elem).on('mouseleave', function() {\n\t\t\t\t\tif (builder.map.tooltip)\n\t\t\t\t\t\tbuilder.map.tooltip.hide(elem);\n\t\t\t\t});\n\t\t}\n\t},\n\n\t_mapDispatchToolItem: function (parentContainer, data, builder) {\n\t\tif (!data.command)\n\t\t\tdata.command = data.id;\n\n\t\tif (data.id && data.id !== 'exportas' && data.id.startsWith('export')) {\n\t\t\tvar format = data.id.substring('export'.length);\n\t\t\tapp.registerExportFormat(data.text, format);\n\n\t\t\tif (builder.map['wopi'].HideExportOption)\n\t\t\t\treturn false;\n\t\t}\n\n\t\tif (data.inlineLabel !== undefined) {\n\t\t\tvar backupInlineText = builder.options.useInLineLabelsForUnoButtons;\n\t\t\tbuilder.options.useInLineLabelsForUnoButtons = data.inlineLabel;\n\t\t}\n\n\t\tvar control = builder._unoToolButton(parentContainer, data, builder);\n\n\t\tif (data.inlineLabel !== undefined)\n\t\t\tbuilder.options.useInLineLabelsForUnoButtons = backupInlineText;\n\n\t\t$(control.button).unbind('click');\n\t\t$(control.label).unbind('click');\n\n\t\tif (!builder.map.isLockedItem(data)) {\n\t\t\tvar handlePressAndHold = function(data) {\n\t\t\t\tconst scrollingInterval = setInterval(function () {\n\t\t\t\t\tapp.dispatcher.dispatch(data.command);\n\t\t\t\t}, 100);\n\n\t\t\t\t$(document).one('mouseup', function () {\n\t\t\t\t\tclearInterval(scrollingInterval);\n\t\t\t\t});\n\t\t\t};\n\n\t\t\t// Handle \"Press+Hold\" Event\n\t\t\tif (data.pressAndHold) {\n\t\t\t\t$(control.container).on('mousedown', (e) => {\n\t\t\t\t\tif (e.button !== 0 // Only handle left mouse button\n\t\t\t\t\t\t|| control.container.getAttribute('disabled') !== null)\n\t\t\t\t\t\treturn;\n\n\t\t\t\t\tconst pressAndHoldTimer = setTimeout(() => {\n\t\t\t\t\t\thandlePressAndHold(data);\n\t\t\t\t\t}, 500);\n\n\t\t\t\t\t$(document).one('mouseup', () => {\n\t\t\t\t\t\tclearTimeout(pressAndHoldTimer);\n\t\t\t\t\t});\n\t\t\t\t});\n\t\t\t}\n\n\t\t\t$(control.container).click(function () {\n\t\t\t\tif (control.container.getAttribute('disabled') === null)\n\t\t\t\t\tapp.dispatcher.dispatch(data.command);\n\t\t\t});\n\t\t}\n\n\t\tbuilder._preventDocumentLosingFocusOnClick(control.container);\n\t},\n\n\t_mapBigDispatchToolItem: function (parentContainer, data, builder) {\n\t\tif (!data.command)\n\t\t\tdata.command = data.id;\n\n\t\tvar noLabels = builder.options.noLabelsForUnoButtons;\n\t\tbuilder.options.noLabelsForUnoButtons = false;\n\n\t\tvar control = builder._unoToolButton(parentContainer, data, builder);\n\n\t\tbuilder.options.noLabelsForUnoButtons = noLabels;\n\n\t\t$(control.button).unbind('click');\n\t\t$(control.label).unbind('click');\n\n\t\tif (!builder.map.isLockedItem(data)) {\n\t\t\t$(control.container).click(function (e) {\n\t\t\t\te.preventDefault();\n\t\t\t\tapp.dispatcher.dispatch(data.command);\n\t\t\t});\n\t\t}\n\n\t\tbuilder._preventDocumentLosingFocusOnClick(control.container);\n\t},\n\n\t_divContainerHandler: function (parentContainer, data, builder) {\n\t\tif (!(data.children && data.children.length))\n\t\t\treturn false;\n\n\t\tvar divElem = L.DomUtil.create('div', builder.options.cssClass, parentContainer);\n\t\tif (data.style && data.style.length)\n\t\t\tL.DomUtil.addClass(divElem, data.style);\n\t\tfor (var i = 0; i < data.children.length; ++i) {\n\t\t\tvar entry = data.children[i];\n\t\t\tvar handle = builder._controlHandlers[entry.type];\n\t\t\tif (handle) {\n\t\t\t\thandle(divElem, entry, builder);\n\t\t\t}\n\t\t}\n\t\tbuilder._setupHandlers(divElem, data.handlers);\n\t\treturn false;\n\t},\n\n\t_colorSampleControl: function (parentContainer, data, builder) {\n\t\tvar sampleSizeClass = 'color-sample-small';\n\t\tif (data.size === 'big')\n\t\t\tsampleSizeClass = 'color-sample-big';\n\t\tvar colorSample = L.DomUtil.create('div', builder.options.cssClass + ' ' + sampleSizeClass, parentContainer);\n\t\tcolorSample.id = data.id;\n\t\tcolorSample.style.backgroundColor = data.color;\n\t\tcolorSample.name = data.color.substring(1);\n\n\t\tif (data.size === 'big') {\n\t\t\tvar selectionMarker = L.DomUtil.create('div', 'colors-container-tint-mark', colorSample);\n\t\t\tif (data.selected) {\n\t\t\t\tselectionMarker.style.visibility = 'visible';\n\t\t\t} else {\n\t\t\t\tselectionMarker.style.visibility = 'hidden';\n\t\t\t}\n\t\t} else if (data.selected && data.mark) {\n\t\t\tcolorSample.appendChild(data.mark);\n\t\t\tL.DomUtil.addClass(colorSample, 'colors-container-selected-basic-color');\n\t\t}\n\n\t\t builder._setupHandlers(colorSample, data.handlers);\n\n\t\t return false;\n\t},\n\n\t_subMenuHandler: function(parentContainer, data, builder) {\n\t\tvar title = data.text;\n\t\tbuilder._explorableMenu(parentContainer, title, data.children, builder, undefined, data.id);\n\n\t\treturn false;\n\t},\n\n\t_menuItemHandler: function(parentContainer, data, builder) {\n\t\tvar title = data.text;\n\t\tvar cssClassHeader = 'ui-header';\n\t\t// separator\n\t\tif (title === '') {\n\t\t\treturn false;\n\t\t}\n\n\t\tvar id = data.id;\n\t\tif (id) {\n\t\t\tcssClassHeader += ' ui-header-' + id;\n\t\t\tvar handler = builder._menuItemHandlers[id];\n\t\t\tif (handler) {\n\t\t\t\thandler(parentContainer, data, builder);\n\t\t\t\treturn;\n\t\t\t}\n\t\t}\n\n\t\tvar menuEntry = L.DomUtil.create('div', cssClassHeader + ' level-' + builder._currentDepth + ' ' + builder.options.cssClass + ' ui-widget', parentContainer);\n\n\t\tif (data.hyperlink) {\n\t\t\tmenuEntry = L.DomUtil.create('a', 'context-menu-link', menuEntry);\n\t\t\tmenuEntry.href = '#';\n\t\t}\n\n\t\tvar icon = null;\n\t\tvar commandName = data.command && data.command.startsWith('.uno:') ? data.command.substring('.uno:'.length) : data.id;\n\t\tif (commandName && commandName.length && app.LOUtil.existsIconForCommand(commandName, builder.map.getDocType())) {\n\t\t\tvar iconName = builder._generateMenuIconName(commandName);\n\t\t\tvar iconSpan = L.DomUtil.create('span', 'menu-entry-icon ' + iconName, menuEntry);\n\t\t\ticonName = app.LOUtil.getIconNameOfCommand(iconName, true);\n\t\t\ticon = L.DomUtil.create('img', '', iconSpan);\n\t\t\tapp.LOUtil.setImage(icon, iconName, builder.map);\n\t\t\ticon.alt = '';\n\t\t}\n\t\tif (data.checked && data.checked === true) {\n\t\t\tL.DomUtil.addClass(menuEntry, 'menu-entry-checked');\n\t\t}\n\n\t\tvar titleSpan = L.DomUtil.create('span', '', menuEntry);\n\t\ttitleSpan.innerHTML = title;\n\t\tvar paddingClass = icon ? 'menu-entry-with-icon flex-fullwidth' : 'menu-entry-no-icon';\n\t\tL.DomUtil.addClass(titleSpan, paddingClass);\n\n\t\tif (builder.wizard) {\n\t\t\t$(menuEntry).click(() => {\n\t\t\t\tif (window.insertionMobileWizard)\n\t\t\t\t\tapp.dispatcher.dispatch('insertion_mobile_wizard');\n\t\t\t\telse if (window.mobileMenuWizard)\n\t\t\t\t\t$('#main-menu-state').click();\n\t\t\t\telse if (window.contextMenuWizard) {\n\t\t\t\t\twindow.contextMenuWizard = false;\n\t\t\t\t\tbuilder.map.fire('closemobilewizard');\n\t\t\t\t}\n\n\t\t\t\t// before close the wizard then execute the action\n\t\t\t\tif (data.executionType === 'action') {\n\t\t\t\t\tbuilder.map.menubar._executeAction(undefined, data);\n\t\t\t\t} else if (data.executionType === 'callback') {\n\t\t\t\t\tdata.callback();\n\t\t\t\t} else if (!builder.map._clip || !builder.map._clip.filterExecCopyPaste(data.command)) {\n\t\t\t\t\t// Header / footer is already inserted.\n\t\t\t\t\tif ((data.command.startsWith('.uno:InsertPageHeader') ||\n\t\t\t\t\t\t\t data.command.startsWith('.uno:InsertPageFooter')) &&\n\t\t\t\t\t\t\tdata.checked && data.checked === true) {\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t\tbuilder.map.sendUnoCommand(data.command);\n\t\t\t\t}\n\t\t\t});\n\t\t} else {\n\t\t\twindow.app.console.debug('Builder used outside of mobile wizard: please implement the click handler');\n\t\t}\n\n\t\tbuilder.map.hideRestrictedItems(data, menuEntry, menuEntry);\n\t\tbuilder.map.disableLockedItem(data, menuEntry, menuEntry);\n\n\t\treturn false;\n\t},\n\n\t_insertTableMenuItem: function(parentContainer, data, builder) {\n\t\tvar title = data.text;\n\n\t\tvar content = L.DomUtil.create('div', 'inserttablecontrols');\n\n\t\tvar rowsData = { min: 0, id: 'rows', text: '2', label: _('Rows') };\n\t\tvar colsData = { min: 0, id: 'cols', text: '2', label: _('Columns') };\n\n\t\tvar callbackFunction = function(objectType, eventType, object) {\n\t\t\tif (eventType == 'plus') {\n\t\t\t\t$(object).find('input').val(function(i, oldval) {\n\t\t\t\t\treturn parseInt(oldval, 10) + 1;\n\t\t\t\t});\n\t\t\t} else if (eventType == 'minus') {\n\t\t\t\t$(object).find('input').val(function(i, oldval) {\n\t\t\t\t\tif (oldval > 0)\n\t\t\t\t\t\treturn parseInt(oldval, 10) - 1;\n\t\t\t\t\telse\n\t\t\t\t\t\treturn 0;\n\t\t\t\t});\n\t\t\t}\n\t\t};\n\n\t\tbuilder._spinfieldControl(content, rowsData, builder, callbackFunction);\n\t\tbuilder._spinfieldControl(content, colsData, builder, callbackFunction);\n\n\t\tvar buttonData = { text: _('Insert Table') };\n\t\tbuilder._pushbuttonControl(content, buttonData, builder, function() {\n\t\t\tvar rowsCount = parseInt($('#rows > input.spinfield').get(0).value);\n\t\t\tvar colsCount = parseInt($('#cols > input.spinfield').get(0).value);\n\t\t\tbuilder.map.sendUnoCommand('.uno:InsertTable?Columns=' + colsCount + '&Rows=' + rowsCount);\n\t\t\tbuilder.map.fire('closemobilewizard');\n\t\t});\n\n\t\tbuilder._explorableMenu(parentContainer, title, data.children, builder, content, data.id);\n\t},\n\n\t// link each node to its parent, should do one recursive descent\n\t_parentize: function(data, parent) {\n\t\tif (data.parent)\n\t\t\treturn;\n\t\tif (data.children !== undefined) {\n\t\t\tfor (var idx in data.children) {\n\t\t\t\tthis._parentize(data.children[idx], data);\n\t\t\t}\n\t\t}\n\t\tdata.parent = parent;\n\t},\n\n\t// executes actions like changing the selection without rebuilding the widget\n\texecuteAction: function(container, data) {\n\t\tapp.layoutingService.appendLayoutingTask(() => { this.executeActionImpl(container, data); });\n\t},\n\n\texecuteActionImpl: function(container, data) {\n\t\tvar control = container.querySelector('[id=\\'' + this._removeMenuId(data.control_id) + '\\']');\n\t\tif (!control && data.control)\n\t\t\tcontrol = container.querySelector('[id=\\'' + this._removeMenuId(data.control.id) + '\\']');\n\t\tif (!control) {\n\t\t\twindow.app.console.warn('executeAction: not found control with id: \"' + data.control_id + '\"');\n\t\t\treturn;\n\t\t}\n\n\t\tswitch (data.action_type) {\n\t\tcase 'grab_focus':\n\t\t\tif (typeof control.onFocus === 'function')\n\t\t\t\tcontrol.onFocus();\n\t\t\telse\n\t\t\t\tcontrol.focus();\n\t\t\tbreak;\n\t\tcase 'select':\n\t\t\tif (typeof control.onSelect === 'function')\n\t\t\t\tcontrol.onSelect(parseInt(data.position));\n\t\t\telse\n\t\t\t\twindow.app.console.warn('widget \"' + data.control_id + '\" doesn\\'t support \"select\" action');\n\t\t\tbreak;\n\n\t\tcase 'unselect':\n\t\t\tif (typeof control.onSelect === 'function')\n\t\t\t\tcontrol.onUnSelect(parseInt(data.position));\n\t\t\telse\n\t\t\t\twindow.app.console.warn('widget \"' + data.control_id + '\" doesn\\'t support \"unselect\" action');\n\t\t\tbreak;\n\n\t\tcase 'show':\n\t\t\t$(control).removeClass('hidden');\n\t\t\t$(control).show();\n\t\t\tbreak;\n\n\t\tcase 'hide':\n\t\t\t$(control).addClass('hidden');\n\t\t\tbreak;\n\n\t\tcase 'enable':\n\t\t\tcontrol.disabled = false;\n\t\t\tcontrol.removeAttribute('disabled');\n\t\t\tbreak;\n\n\t\tcase 'disable':\n\t\t\tcontrol.setAttribute('disabled', 'true');\n\t\t\tcontrol.disabled = true;\n\t\t\tbreak;\n\n\t\tcase 'setText':\n\t\t\tif (typeof control.onSetText === 'function') {\n\t\t\t\tcontrol.onSetText(data.text);\n\t\t\t\tbreak;\n\t\t\t}\n\n\t\t\t// eg. in mobile wizard input is inside spin button div\n\t\t\tvar innerInput = control.querySelector('input');\n\t\t\tif (innerInput)\n\t\t\t\tcontrol = innerInput;\n\n\t\t\tvar currentText = this._cleanText(data.text);\n\t\t\tcontrol.value = currentText;\n\t\t\tif (data.selection) {\n\t\t\t\tvar selection = data.selection.split(';');\n\t\t\t\tif (selection.length === 2) {\n\t\t\t\t\tvar start = parseInt(selection[0]);\n\t\t\t\t\tvar end = parseInt(selection[1]);\n\n\t\t\t\t\tif (start > end) {\n\t\t\t\t\t\tvar tmp = start;\n\t\t\t\t\t\tstart = end;\n\t\t\t\t\t\tend = tmp;\n\t\t\t\t\t}\n\n\t\t\t\t\tif (document.activeElement === control) // Safari/Gnome Web compatibility\n\t\t\t\t\t\tcontrol.setSelectionRange(start, end);\n\t\t\t\t} else if (selection.length === 4) {\n\t\t\t\t\tvar startPos = parseInt(selection[0]);\n\t\t\t\t\tvar endPos = parseInt(selection[1]);\n\t\t\t\t\tvar startPara = parseInt(selection[2]);\n\t\t\t\t\tvar endPara = parseInt(selection[3]);\n\t\t\t\t\tvar start = 0;\n\t\t\t\t\tvar end = 0;\n\n\t\t\t\t\tvar row = 0;\n\t\t\t\t\tfor (;row < startPara; row++) {\n\t\t\t\t\t\tvar found = currentText.indexOf('\\n', start);\n\t\t\t\t\t\tif (found === -1)\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\tstart = found + 1;\n\t\t\t\t\t}\n\n\t\t\t\t\tstart += startPos;\n\n\t\t\t\t\trow = 0;\n\t\t\t\t\tfor (;row < endPara; row++) {\n\t\t\t\t\t\tfound = currentText.indexOf('\\n', end);\n\t\t\t\t\t\tif (found === -1)\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\tend = found + 1;\n\t\t\t\t\t}\n\n\t\t\t\t\tend += endPos;\n\n\t\t\t\t\tif (start > end) {\n\t\t\t\t\t\tvar tmp = start;\n\t\t\t\t\t\tstart = end;\n\t\t\t\t\t\tend = tmp;\n\t\t\t\t\t}\n\n\t\t\t\t\tif (document.activeElement === control) // Safari/Gnome Web compatibility\n\t\t\t\t\t\tcontrol.setSelectionRange(start, end);\n\t\t\t\t}\n\t\t\t}\n\t\t\tbreak;\n\n\t\tcase 'rendered_entry':\n\t\tcase 'rendered_combobox_entry':\n\t\t\tif (!this.rendersCache[control.id])\n\t\t\t\tthis.rendersCache[control.id] = { persistent: false, images: [] };\n\n\t\t\tthis.rendersCache[control.id].images[data.pos] = data.image;\n\n\t\t\tif (typeof control.updateRenders == 'function')\n\t\t\t\tcontrol.updateRenders(data.pos);\n\n\t\t\tbreak;\n\n\t\tdefault:\n\t\t\tconsole.error('unknown action: \"' + data.action_type + '\"');\n\t\t\tbreak;\n\t\t}\n\t},\n\n\t_removeMenuId: function (rawId) {\n\t\tvar elementId = rawId;\n\t\tvar separatorPos = elementId.indexOf(':'); // delete menuId\n\t\tif (separatorPos > 0)\n\t\t\telementId = elementId.substr(0, separatorPos);\n\t\treturn elementId;\n\t},\n\n\t_updateWidgetImpl: function (container, data, buildFunc) {\n\t\tvar elementId = this._removeMenuId(data.id);\n\t\tvar control = container.querySelector('[id=\\'' + elementId + '\\']');\n\t\tif (!control) {\n\t\t\twindow.app.console.warn('jsdialogupdate: not found control with id: \"' + elementId + '\"');\n\t\t\treturn;\n\t\t}\n\n\t\tvar parent = control.parentNode;\n\t\tif (!parent)\n\t\t\treturn;\n\n\t\tvar scrollTop = control.scrollTop;\n\t\tvar focusedElement = document.activeElement;\n\t\tvar focusedElementInDialog = focusedElement ? container.querySelector('[id=\\'' + focusedElement.id + '\\']') : null;\n\t\tvar focusedId = focusedElementInDialog ? focusedElementInDialog.id : null;\n\n\t\tvar temporaryParent = new DocumentFragment();\n\n\t\t// Remove the id of the to-be-removed control, so _makeIdUnique() won't rename\n\t\t// data.id to something we can't find later.\n\t\tcontrol.id = '';\n\n\t\tbuildFunc.bind(this)(temporaryParent, [data], false);\n\t\tvar backupGridSpan = control.style.gridColumn;\n\n\t\tcontrol.replaceWith(temporaryParent.firstChild)\n\n\t\tvar newControl = container.querySelector('[id=\\'' + elementId + '\\']');\n\t\tif (newControl) {\n\t\t\tnewControl.scrollTop = scrollTop;\n\t\t\tnewControl.style.gridColumn = backupGridSpan;\n\n\t\t\t// todo: is that needed? should be in widget impl?\n\t\t\tif (data.has_default === true && (data.type === 'pushbutton' || data.type === 'okbutton'))\n\t\t\t\tL.DomUtil.addClass(newControl, 'button-primary');\n\t\t}\n\n\t\tif (focusedId) {\n\t\t\tvar found = container.querySelector('[id=\\'' + focusedId + '\\']');\n\t\t\tif (found)\n\t\t\t\tfound.focus();\n\t\t}\n\t},\n\n\t// replaces widget in-place with new instance with updated data\n\tupdateWidget: function (container, data) {\n\t\tapp.layoutingService.appendLayoutingTask(() => {\n\t\t\tthis._updateWidgetImpl(container, data, this.build);\n\t\t});\n\t},\n\n\tpostProcess: function(parent, data) {\n\t\tif (!parent || !data || !data.id || data.id === '')\n\t\t\treturn;\n\n\t\tvar control = parent.querySelector('[id=\\'' + data.id + '\\']');\n\t\tif (data.visible === 'false' || data.visible === false) {\n\t\t\tif (control)\n\t\t\t\tL.DomUtil.addClass(control, 'hidden');\n\t\t\telse if (parent.id === data.id)\n\t\t\t\tL.DomUtil.addClass(parent, 'hidden');\n\t\t}\n\n\t\tif (control && data.width) {\n\t\t\tcontrol.style.gridColumn = 'span ' + parseInt(data.width);\n\t\t}\n\n\t\t// natural tab-order when using keyboard navigation\n\t\tif (control && !control.hasAttribute('tabIndex')\n\t\t\t&& control.querySelectorAll('[tabindex]').length === 0\n\t\t\t&& data.type !== 'container'\n\t\t\t&& data.type !== 'tabpage'\n\t\t\t&& data.type !== 'tabcontrol'\n\t\t\t&& data.type !== 'drawingarea'\n\t\t\t&& data.type !== 'grid'\n\t\t\t&& data.type !== 'image'\n\t\t\t&& data.type !== 'toolbox'\n\t\t\t&& data.type !== 'listbox'\n\t\t\t&& data.type !== 'combobox'\n\t\t\t&& data.type !== 'radiobutton'\n\t\t\t&& data.type !== 'checkbox'\n\t\t\t&& data.type !== 'spinfield'\n\t\t\t&& data.type !== 'metricfield'\n\t\t\t&& data.type !== 'formattedfield'\n\t\t\t&& data.type !== 'fixedtext'\n\t\t\t&& data.type !== 'frame'\n\t\t\t&& data.type !== 'expander'\n\t\t\t&& data.type !== 'panel'\n\t\t\t&& data.type !== 'buttonbox'\n\t\t\t&& data.type !== 'treelistbox'\n\t\t\t&& data.type !== 'time'\n\t\t\t&& data.type !== 'separator'\n\t\t\t&& data.type !== 'spacer'\n\t\t\t&& data.type !== 'edit'\n\t\t\t&& data.type !== 'deck'\n\t\t\t)\n\t\t\tcontrol.setAttribute('tabIndex', '0');\n\t},\n\n\t// some widgets we want to modify / change\n\tisHyperlinkTarget: function (builder, data) {\n\t\treturn data.type === 'combobox' && (data.id === 'target' || data.id === 'receiver');\n\t},\n\n\trequiresOverwriting: function(builder, data) {\n\t\tif (builder.isHyperlinkTarget(builder, data))\n\t\t\treturn true;\n\n\t\treturn false;\n\t},\n\n\toverwriteHandler: function(parentContainer, data, builder) {\n\t\tif (builder.isHyperlinkTarget(builder, data)) {\n\t\t\t// Replace combobox with edit\n\t\t\tvar callback = function(value) {\n\t\t\t\tbuilder.callback('combobox', 'change', data, value, builder);\n\t\t\t};\n\n\t\t\treturn builder._controlHandlers['edit'](parentContainer, data, builder, callback);\n\t\t}\n\n\t\tconsole.error('It seems widget doesn\\'t require overwriting.');\n\t},\n\n\tbuild: function(parent, data, hasVerticalParent) {\n\n\t\t// TODO: check and probably remove additional containers\n\t\tif (hasVerticalParent === undefined) {\n\t\t\tparent = L.DomUtil.create('div', 'root-container ' + this.options.cssClass, parent);\n\t\t\tparent = L.DomUtil.create('div', 'vertical ' + this.options.cssClass, parent);\n\t\t}\n\n\t\tfor (var childIndex in data) {\n\t\t\tvar childData = data[childIndex];\n\t\t\tif (!childData)\n\t\t\t\tcontinue;\n\n\t\t\tvar childType = childData.type;\n\n\t\t\tthis._handleResponses(childData, this);\n\n\t\t\tvar containerToInsert = parent;\n\n\t\t\tif (childData.dialogid) {\n\t\t\t\tcontainerToInsert.id = childData.dialogid;\n\t\t\t\tthis.dialogId = childData.dialogid;\n\t\t\t}\n\n\t\t\tvar isVertical = childData.vertical === 'true' || childData.vertical === true ? true : false;\n\n\t\t\tthis._parentize(childData);\n\t\t\tvar processChildren = true;\n\n\t\t\tif ((childData.id === undefined || childData.id === '' || childData.id === null)\n\t\t\t\t&& (childType == 'checkbox' || childType == 'radiobutton')) {\n\t\t\t\tcontinue;\n\t\t\t}\n\n\t\t\tvar hasManyChildren = childData.children && childData.children.length > 1;\n\t\t\tvar isContainer = this.isContainerType(childData.type);\n\t\t\tif (hasManyChildren && isContainer) {\n\t\t\t\tvar table = L.DomUtil.createWithId('div', childData.id, containerToInsert);\n\t\t\t\t$(table).addClass(this.options.cssClass);\n\n\t\t\t\tif (!isVertical) {\n\t\t\t\t\tvar rows = this._getGridRows(childData.children);\n\t\t\t\t\tvar cols = this._getGridColumns(childData.children);\n\n\t\t\t\t\tif (rows > 1 && cols > 1) {\n\t\t\t\t\t\tvar gridRowColStyle = 'grid-template-rows: repeat(' + rows  + '); \\\n\t\t\t\t\t\t\tgrid-template-columns: repeat(' + cols  + ');';\n\n\t\t\t\t\t\ttable.style = gridRowColStyle;\n\t\t\t\t\t} else {\n\t\t\t\t\t\t$(table).css('grid-auto-flow', 'column');\n\t\t\t\t\t}\n\n\t\t\t\t\t$(table).css('display', 'grid');\n\t\t\t\t}\n\n\t\t\t\t$(table).addClass('ui-grid-cell');\n\n\t\t\t\t// if 'table' has no id - postprocess won't work...\n\t\t\t\tif (childData.width) {\n\t\t\t\t\ttable.style.gridColumn = 'span ' + parseInt(childData.width);\n\t\t\t\t}\n\n\t\t\t\tvar childObject = table;\n\n\t\t\t\tthis.postProcess(containerToInsert, childData);\n\t\t\t} else {\n\t\t\t\tchildObject = containerToInsert;\n\t\t\t}\n\n\t\t\tvar handler = this._controlHandlers[childType];\n\n\t\t\tif (handler) {\n\t\t\t\tif (this.requiresOverwriting(this, childData))\n\t\t\t\t\tprocessChildren = this.overwriteHandler(childObject, childData, this);\n\t\t\t\telse\n\t\t\t\t\tprocessChildren = handler(childObject, childData, this);\n\t\t\t\tthis.postProcess(childObject, childData);\n\t\t\t} else\n\t\t\t\twindow.app.console.warn('JSDialogBuilder: Unsupported control type: \"' + childType + '\"');\n\n\t\t\tif (processChildren && childData.children != undefined)\n\t\t\t\tthis.build(childObject, childData.children, isVertical);\n\t\t\telse if (childData.visible && (childData.visible === false || childData.visible === 'false')) {\n\t\t\t\t$('#' + childData.id).addClass('hidden-from-event');\n\t\t\t}\n\t\t}\n\t}\n});\n\nL.Control.JSDialogBuilder.getMenuStructureForMobileWizard = function(menu, mainMenu, itemCommand) {\n\tif (itemCommand.indexOf('sep') >= 0)\n\t\treturn null;\n\n\tvar itemText = '';\n\tif (menu.name)\n\t\titemText = menu.name;\n\n\tvar itemType = 'submenu';\n\tvar executionType = 'menu';\n\tif (mainMenu) {\n\t\titemType = 'mainmenu';\n\t\texecutionType = 'menu';\n\t} else if (menu.callback) {\n\t\titemType = 'menuitem';\n\t\texecutionType = 'callback';\n\t} else if (!menu.items) {\n\t\titemType = 'menuitem';\n\t\texecutionType = 'command';\n\t}\n\n\tvar menuStructure = {\n\t\ttype : itemType,\n\t\tenabled : true,\n\t\ttext : itemText,\n\t\texecutionType : executionType,\n\t\tchildren : []\n\t};\n\tif (itemCommand)\n\t\tmenuStructure['command'] = itemCommand;\n\tif (menu.icon)\n\t\tmenuStructure['checked'] = true;\n\tif (menu.callback)\n\t\tmenuStructure['callback'] = menu.callback;\n\tif (menu.isHtmlName)\n\t\tmenuStructure['hyperlink'] = true;\n\n\tif (mainMenu) {\n\t\tfor (var menuItem in menu) {\n\t\t\tvar subItemCommand = menu[menuItem].command ? menu[menuItem].command : menuItem;\n\t\t\tvar element = this.getMenuStructureForMobileWizard(menu[menuItem], false, subItemCommand);\n\t\t\tif (element)\n\t\t\t\tmenuStructure['children'].push(element);\n\t\t}\n\t} else if (itemType == 'submenu') {\n\t\tfor (menuItem in menu.items) {\n\t\t\telement = this.getMenuStructureForMobileWizard(menu.items[menuItem], false, menuItem);\n\t\t\tif (element)\n\t\t\t\tmenuStructure['children'].push(element);\n\t\t}\n\t\tif (menu.command) {\n\t\t\tmenuStructure.id = menu.command.substring(5).toLowerCase();\n\t\t}\n\t}\n\n\treturn menuStructure;\n};\n\nJSDialog._scrollIntoViewBlockOption = function(option) {\n\tif (option === 'nearest' || option === 'center') {\n\t\t// compatibility with older firefox\n\t\tvar match = window.navigator.userAgent.match(/Firefox\\/([0-9]+)\\./);\n\t\tvar firefoxVer = match ? parseInt(match[1]) : 58;\n\t\tvar blockOption = firefoxVer >= 58 ? option : 'start';\n\t\treturn blockOption;\n\t}\n\n\treturn option;\n};\n\nL.control.jsDialogBuilder = function (options) {\n\tvar builder = new L.Control.JSDialogBuilder(options);\n\tbuilder._setup(options);\n\treturn builder;\n};\n"]}