{"version":3,"file":"Control.MobileWizardWindow.js","sourceRoot":"","sources":["../../../../../../../../../../TanhX/online/browser/src/control/Control.MobileWizardWindow.js"],"names":[],"mappings":"AAAA,gCAAgC;AAChC;;;;;;;;GAQG;AAEH;;GAEG;AAEH,kBAAkB;AAClB,CAAC,CAAC,OAAO,CAAC,kBAAkB,GAAG,CAAC,CAAC,OAAO,CAAC,MAAM,CAAC;IAC/C,OAAO,EAAE;QACR,SAAS,EAAE,MAAM;QACjB,eAAe,EAAE,IAAI;KACrB;IAED,+DAA+D;IAC/D,QAAQ,EAAE,IAAI;IACd,WAAW,EAAE,IAAI;IACjB,SAAS,EAAE,KAAK;IAChB,WAAW,EAAE,KAAK;IAClB,aAAa,EAAE,CAAC;IAChB,UAAU,EAAE,EAAE;IACd,YAAY,EAAE,KAAK;IACnB,UAAU,EAAE,KAAK;IACjB,YAAY,EAAE,EAAE;IAChB,sBAAsB,EAAE,CAAC;IAEzB,UAAU,EAAE,UAAU,YAAY,EAAE,EAAE;QACrC,CAAC,CAAC,UAAU,CAAC,IAAI,EAAE,IAAI,CAAC,OAAO,CAAC,CAAC;QACjC,IAAI,CAAC,EAAE,GAAG,EAAE,CAAC,CAAC,qDAAqD;QACnE,IAAI,CAAC,MAAM,GAAG,YAAY,CAAC,CAAC,wCAAwC;QACpE,IAAI,CAAC,IAAI,GAAG,IAAI,CAAC,CAAC,iDAAiD;QACnE,IAAI,CAAC,SAAS,GAAG,KAAK,CAAC,CAAC,qEAAqE;QAC7F,IAAI,CAAC,OAAO,GAAG,KAAK,CAAC,CAAC,gEAAgE;QACtF,IAAI,CAAC,UAAU,GAAG,KAAK,CAAC,CAAC,sCAAsC;QAC/D,IAAI,CAAC,WAAW,GAAG,KAAK,CAAC,CAAC,oBAAoB;QAC9C,IAAI,CAAC,cAAc,GAAG,KAAK,CAAC,CAAC,gDAAgD;QAC7E,IAAI,CAAC,eAAe,GAAG,KAAK,CAAC,CAAC,4CAA4C;QAC1E,IAAI,CAAC,cAAc,GAAG,KAAK,CAAC,CAAC,wCAAwC;QACrE,IAAI,CAAC,KAAK,GAAG,EAAE,CAAC,CAAC,aAAa;QAC9B,IAAI,CAAC,UAAU,GAAG,IAAI,CAAC,CAAC,aAAa;QAErC,IAAI,CAAC,YAAY,GAAG,CAAC,CAAC,gBAAgB,CAAC,CAAC,CAAC,+CAA+C;QACxF,IAAI,CAAC,UAAU,GAAG,CAAC,CAAC,qBAAqB,CAAC,CAAC,CAAC,kDAAkD;QAC9F,IAAI,CAAC,QAAQ,GAAG,CAAC,CAAC,yBAAyB,CAAC,CAAC,CAAC,4CAA4C;QAC1F,IAAI,CAAC,SAAS,GAAG,CAAC,CAAC,sBAAsB,CAAC,CAAC,CAAC,gBAAgB;QAC5D,IAAI,CAAC,aAAa,GAAG,CAAC,CAAC,qBAAqB,CAAC,CAAC,CAAC,mCAAmC;QAClF,IAAI,UAAU,GAAG,QAAQ,CAAC,cAAc,CAAC,uBAAuB,CAAC,CAAC;QAClE,IAAI,CAAC,OAAO,GAAG,CAAC,CAAC,OAAO,CAAC,MAAM,CAAC,KAAK,EAAE,qCAAqC,EAAE,UAAU,CAAC,CAAC;QAC1F,IAAI,CAAC,OAAO,CAAC,EAAE,GAAG,IAAI,CAAC,EAAE,CAAC;QAE1B,IAAI,CAAC,eAAe,GAAG,EAAE,CAAC;IAC3B,CAAC;IAED,KAAK,EAAE,UAAU,GAAG;QACnB,IAAI,CAAC,GAAG,GAAG,GAAG,CAAC;QAEf,yDAAyD;QACzD,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,QAAQ,EAAE;YAC1B,OAAO;QAER,IAAI,CAAC,OAAO,CAAC,eAAe,EAAE,CAAC;QAC/B,IAAI,CAAC,gBAAgB,EAAE,CAAC;IACzB,CAAC;IAED,QAAQ,EAAE;QACT,CAAC,CAAC,OAAO,CAAC,MAAM,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC;QAC/B,IAAI,CAAC,OAAO,GAAG,SAAS,CAAC;IAC1B,CAAC;IAED,gCAAgC;IAChC,qBAAqB,EAAE;QACtB,IAAI,CAAC,YAAY,CAAC,WAAW,CAAC,cAAc,CAAC,CAAC;QAC9C,IAAI,CAAC,YAAY,CAAC,WAAW,CAAC,YAAY,CAAC,CAAC;QAC5C,IAAI,CAAC,YAAY,CAAC,WAAW,CAAC,YAAY,CAAC,CAAC;QAC5C,IAAI,CAAC,YAAY,CAAC,WAAW,CAAC,OAAO,CAAC,CAAC;QACvC,IAAI,CAAC,YAAY,CAAC,WAAW,CAAC,UAAU,CAAC,CAAC;QAC1C,IAAI,CAAC,YAAY,CAAC,WAAW,CAAC,WAAW,CAAC,CAAC;IAC5C,CAAC;IAED,sEAAsE;IACtE,oBAAoB,EAAE;QACrB,IAAI,IAAI,CAAC,cAAc;YACtB,IAAI,CAAC,YAAY,CAAC,QAAQ,CAAC,cAAc,CAAC,CAAC;QAC5C,IAAI,IAAI,CAAC,eAAe;YACvB,IAAI,CAAC,YAAY,CAAC,QAAQ,CAAC,YAAY,CAAC,CAAC;QAC1C,IAAI,IAAI,CAAC,cAAc;YACtB,IAAI,CAAC,YAAY,CAAC,QAAQ,CAAC,YAAY,CAAC,CAAC;QAC1C,IAAI,IAAI,CAAC,OAAO,IAAI,CAAC,IAAI,CAAC,mBAAmB,IAAI,CAAC,IAAI,CAAC,oBAAoB;YAC1E,IAAI,CAAC,YAAY,CAAC,QAAQ,CAAC,OAAO,CAAC,CAAC;QACrC,IAAI,IAAI,CAAC,UAAU;YAClB,IAAI,CAAC,YAAY,CAAC,QAAQ,CAAC,UAAU,CAAC,CAAC;QACxC,IAAI,IAAI,CAAC,WAAW;YACnB,IAAI,CAAC,YAAY,CAAC,QAAQ,CAAC,WAAW,CAAC,CAAC;IAC1C,CAAC;IAED,uEAAuE;IACvE,UAAU,EAAE;QACX,IAAI,CAAC,gBAAgB,EAAE,CAAC;QACxB,IAAI,CAAC,aAAa,CAAC,QAAQ,EAAE,CAAC,MAAM,EAAE,CAAC;QACvC,IAAI,CAAC,aAAa,CAAC,IAAI,EAAE,CAAC;QAC1B,IAAI,CAAC,QAAQ,CAAC,GAAG,CAAC,KAAK,EAAE,KAAK,CAAC,CAAC;QAChC,IAAI,CAAC,QAAQ,CAAC,IAAI,EAAE,CAAC;QACrB,IAAI,CAAC,SAAS,CAAC,CAAC,CAAC,CAAC,eAAe,EAAE,CAAC;QACpC,IAAI,CAAC,qBAAqB,EAAE,CAAC;IAC9B,CAAC;IAED,iCAAiC;IACjC,MAAM,EAAE;QACP,IAAI,CAAC,UAAU,EAAE,CAAC;QAClB,IAAI,CAAC,aAAa,GAAG,CAAC,CAAC;QACvB,IAAI,CAAC,WAAW,GAAG,IAAI,CAAC;QACxB,IAAI,CAAC,OAAO,CAAC,eAAe,EAAE,CAAC;QAC/B,IAAI,CAAC,UAAU,GAAG,KAAK,CAAC;QACxB,IAAI,CAAC,YAAY,GAAG,EAAE,CAAC;QACvB,IAAI,CAAC,IAAI,GAAG,IAAI,CAAC;QACjB,IAAI,CAAC,sBAAsB,GAAG,CAAC,CAAC;QAChC,IAAI,CAAC,OAAO,GAAG,KAAK,CAAC;IACtB,CAAC;IAED,0CAA0C;IAC1C,gBAAgB,EAAE;QACjB,IAAI,CAAC,UAAU,CAAC,IAAI,EAAE,CAAC;QACvB,IAAI,CAAC,UAAU,CAAC,QAAQ,CAAC,cAAc,CAAC,CAAC;IAC1C,CAAC;IAED,oDAAoD;IACpD,UAAU,EAAE;QACX,IAAI,CAAC,SAAS,GAAG,KAAK,CAAC;QACvB,CAAC,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC,IAAI,EAAE,CAAC;QACvB,IAAI,CAAC,qBAAqB,EAAE,CAAC;IAC9B,CAAC;IAED,qDAAqD;IACrD,UAAU,EAAE;QACX,IAAI,CAAC,UAAU,EAAE,CAAC;QAClB,IAAI,CAAC,SAAS,GAAG,IAAI,CAAC;QACtB,CAAC,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC,IAAI,EAAE,CAAC;QACvB,IAAI,CAAC,YAAY,EAAE,CAAC;QACpB,IAAI,CAAC,WAAW,EAAE,CAAC;QACnB,IAAI,CAAC,oBAAoB,EAAE,CAAC;IAC7B,CAAC;IAED,sBAAsB;QACrB,IAAM,SAAS,GAAG,QAAQ,CAAC,aAAa,CAAC,KAAK,CAAC,CAAC;QAChD,SAAS,CAAC,SAAS,GAAG,gCAAgC,CAAC;QACvD,SAAS,CAAC,EAAE,GAAG,iCAAiC,GAAG,IAAI,CAAC,EAAE,CAAC;QAC3D,SAAS,CAAC,KAAK,CAAC,KAAK,GAAG,MAAM,CAAC;QAC/B,SAAS,CAAC,KAAK,CAAC,MAAM,GAAG,KAAK,CAAC;QAC/B,SAAS,CAAC,KAAK,CAAC,QAAQ,GAAG,OAAO,CAAC;QACnC,SAAS,CAAC,KAAK,CAAC,MAAM,GAAG,CAAC,CAAC;QAC3B,SAAS,CAAC,KAAK,CAAC,MAAM,GAAG,MAAM,CAAC;QAChC,SAAS,CAAC,KAAK,CAAC,SAAS,GAAG,mDAAmD,CAAC;QAChF,OAAO,SAAS,CAAC;IAClB,CAAC;IAED,WAAW,EAAE;QACZ,IAAI,IAAI,CAAC,cAAc;YACtB,YAAY,CAAC,IAAI,CAAC,cAAc,CAAC,CAAC;QAEnC,IAAI,CAAC,SAAS,GAAG,IAAI,CAAC;QAEtB,IAAI,CAAC,eAAe,GAAG,IAAI,CAAC,sBAAsB,EAAE,CAAC;QACrD,IAAI,CAAC,OAAO,CAAC,WAAW,CAAC,IAAI,CAAC,eAAe,CAAC,CAAC;QAE/C,IAAI,MAAM,GAAG,CAAC,CAAC,gBAAgB,CAAC,CAAC;QACjC,MAAM,CAAC,IAAI,EAAE,CAAC;QACd,IAAI,IAAI,GAAG,IAAI,CAAC;QAChB,MAAM,CAAC,EAAE,CAAC,QAAQ,EAAE;YACnB,IAAI,oBAAoB,GAAG,MAAM,CAAC,SAAS,EAAE,CAAC;YAC9C,IAAI,MAAM,GAAG,MAAM,CAAC,IAAI,CAAC,cAAc,CAAC,CAAC;YACzC,IAAI,aAAa,GAAG,MAAM,CAAC,IAAI,CAAC,cAAc,CAAC,CAAC;YAChD,IAAI,UAAU,GAAG,MAAM,GAAG,oBAAoB,CAAC;YAC/C,IAAI,UAAU,GAAG,aAAa,GAAG,CAAC,IAAI,CAAC,IAAI,CAAC,SAAS,EAAE;gBAAE,IAAI,CAAC,eAAe,CAAC,KAAK,CAAC,OAAO,GAAG,MAAM,CAAC;aAAE;iBAClG;gBAAE,IAAI,CAAC,eAAe,CAAC,KAAK,CAAC,OAAO,GAAG,OAAO,CAAC;aAAE;QACvD,CAAC,CAAC,CAAC;QACH,CAAC,CAAC,eAAe,CAAC,CAAC,IAAI,EAAE,CAAC;QAC1B,IAAI,MAAM,CAAC,mBAAmB;YAC7B,MAAM,CAAC,iBAAiB,CAAC,mBAAmB,CAAC,CAAC;QAC/C,IAAI,MAAM,CAAC,gBAAgB;YAC1B,IAAI,CAAC,GAAG,CAAC,WAAW,GAAG,KAAK,CAAC;QAE9B,IAAI,IAAI,CAAC,GAAG,CAAC,SAAS,CAAC,SAAS;YAC/B,IAAI,CAAC,GAAG,CAAC,SAAS,CAAC,SAAS,CAAC,IAAI,EAAE,CAAC;QAErC,IAAI,CAAC,QAAQ,CAAC,cAAc,CAAC,oBAAoB,CAAC,CAAC,SAAS,CAAC,QAAQ,CAAC,WAAW,CAAC,EAAE;YACnF,IAAI,GAAG,GAAG,QAAQ,CAAC,cAAc,CAAC,+BAA+B,CAAC,CAAC;YACnE,IAAI,GAAG;gBACN,GAAG,CAAC,KAAK,CAAC,OAAO,GAAG,MAAM,CAAC;SAC5B;IACF,CAAC;IAED,MAAM,EAAE;QACP,OAAO,CAAC,CAAC,gBAAgB,CAAC,CAAC,EAAE,CAAC,UAAU,CAAC,CAAC;IAC3C,CAAC;IAED,aAAa,EAAE;QACd,IAAI,CAAC,GAAG,CAAC,IAAI,EAAE,CAAC;IACjB,CAAC;IAED,eAAe,EAAE;QAChB,OAAO,IAAI,CAAC,aAAa,CAAC;IAC3B,CAAC;IAED,0CAA0C;IAC1C,OAAO,EAAE,UAAS,IAAI;QACrB,IAAI,CAAC,IAAI,GAAG,IAAI,CAAC;QACjB,IAAI,CAAC,aAAa,CAAC,IAAI,EAAE,CAAC;QAC1B,IAAI,CAAC,aAAa,CAAC,QAAQ,EAAE,CAAC,MAAM,EAAE,CAAC;QACvC,IAAI,CAAC,aAAa,CAAC,MAAM,CAAC,IAAI,CAAC,CAAC;QAChC,IAAI,CAAC,QAAQ,CAAC,IAAI,EAAE,CAAC;QACrB,IAAI,CAAC,UAAU,GAAG,IAAI,CAAC;IACxB,CAAC;IAED,qCAAqC;IACrC,WAAW,EAAE;QACZ,IAAI,IAAI,CAAC,IAAI;YACZ,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;IAC1B,CAAC;IAED,wBAAwB,EAAE;QACzB,IAAI,CAAC,sBAAsB,GAAG,CAAC,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC,SAAS,EAAE,CAAC;IAC3D,CAAC;IAED,WAAW,EAAE,UAAS,aAAa,EAAE,OAAO;QAC3C,IAAI,OAAO,GAAG,CAAC,OAAO,IAAI,OAAO,CAAC,OAAO,IAAI,SAAS,CAAC,CAAC,CAAC,CAAC,OAAO,CAAC,OAAO,CAAC,CAAC,CAAC,IAAI,CAAC;QAEjF,IAAI,CAAC,IAAI,CAAC,UAAU,IAAI,IAAI,CAAC,aAAa,GAAG,CAAC;YAC7C,IAAI,CAAC,UAAU,CAAC,WAAW,CAAC,cAAc,CAAC,CAAC;QAE7C,IAAI,IAAI,CAAC,UAAU,IAAI,IAAI,CAAC,aAAa,GAAG,CAAC,EAAE;YAC9C,IAAI,CAAC,QAAQ,CAAC,IAAI,EAAE,CAAC;YACrB,IAAI,CAAC,aAAa,CAAC,IAAI,EAAE,CAAC;SAC1B;QAED,CAAC,CAAC,wCAAwC,CAAC,CAAC,IAAI,EAAE,CAAC;QAEnD,oDAAoD;QACpD,IAAI,WAAW,GAAG,CAAC,CAAC,aAAa,CAAC,CAAC,QAAQ,CAAC,UAAU,CAAC,CAAC,GAAG,CAAC,iCAAiC,CAAC,CAAC;QAE/F,IAAI,MAAM,GAAG,CAAC,CAAC,aAAa,CAAC,CAAC,MAAM,EAAE,CAAC;QACvC,IAAI,MAAM,CAAC,QAAQ,CAAC,SAAS,CAAC;YAC7B,WAAW,GAAG,WAAW,CAAC,GAAG,CAAC,MAAM,CAAC,QAAQ,CAAC,+CAA+C,CAAC,CAAC,CAAC;QACjG,IAAI,QAAQ,GAAG,EAAE,CAAC;QAClB,IAAI,OAAO,EAAE;YACZ,WAAW,CAAC,IAAI,CAAC,OAAO,EAAE,EAAE,SAAS,EAAE,MAAM,EAAE,EAAE,QAAQ,CAAC,CAAC;YAC3D,gEAAgE;YAChE,gFAAgF;YAChF,UAAU,CAAC,cAAa,WAAW,CAAC,IAAI,EAAE,CAAC,CAAC,CAAC,EAAE,QAAQ,GAAG,CAAC,CAAC,CAAC;SAC7D;;YAEA,WAAW,CAAC,IAAI,EAAE,CAAC;QAEpB,CAAC,CAAC,aAAa,CAAC,CAAC,QAAQ,CAAC,YAAY,CAAC,CAAC,IAAI,EAAE,CAAC;QAE/C,CAAC,CAAC,qDAAqD,CAAC,CAAC,WAAW,CAAC,YAAY,CAAC,CAAC;QACnF,CAAC,CAAC,qDAAqD,CAAC,CAAC,QAAQ,CAAC,YAAY,CAAC,CAAC;QAEhF,IAAI,OAAO;YACV,CAAC,CAAC,aAAa,CAAC,CAAC,QAAQ,CAAC,aAAa,CAAC,CAAC,KAAK,EAAE,CAAC,IAAI,CAAC,OAAO,EAAE,EAAE,SAAS,EAAE,OAAO,EAAE,EAAE,MAAM,CAAC,CAAC;;YAE/F,CAAC,CAAC,aAAa,CAAC,CAAC,QAAQ,CAAC,aAAa,CAAC,CAAC,KAAK,EAAE,CAAC,IAAI,EAAE,CAAC;QAEzD,IAAM,aAAa,GAAG,IAAI,CAAC,YAAY,CAAC,SAAS,EAAE,CAAC;QACpD,IAAI,CAAC,eAAe,CAAC,IAAI,CAAC,aAAa,CAAC,CAAC;QACzC,IAAI,CAAC,YAAY,CAAC,SAAS,CAAC,CAAC,CAAC,CAAC;QAE/B,IAAI,CAAC,aAAa,EAAE,CAAC;QACrB,IAAI,CAAC,IAAI,CAAC,WAAW;YACpB,OAAO,CAAC,SAAS,CAAC,EAAC,OAAO,EAAE,eAAe,EAAE,KAAK,EAAE,IAAI,CAAC,aAAa,EAAC,EAAE,sBAAsB,GAAG,IAAI,CAAC,aAAa,CAAC,CAAC;QAEvH,IAAI,OAAO,GAAG,CAAC,CAAC,aAAa,CAAC,CAAC,QAAQ,CAAC,aAAa,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC;QAC9D,IAAI,KAAK,GAAG,OAAO,CAAC,CAAC,CAAC,OAAO,CAAC,KAAK,CAAC,CAAC,CAAC,EAAE,CAAC;QAEzC,IAAI,IAAI,CAAC,YAAY;YACpB,IAAI,CAAC,eAAe,CAAC,IAAI,CAAC,YAAY,CAAC,CAAC;;YAExC,IAAI,CAAC,SAAS,CAAC,KAAK,CAAC,CAAC;QAEvB,IAAI,CAAC,WAAW,GAAG,KAAK,CAAC;QAEzB,IAAI,CAAC,YAAY,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;IAC/B,CAAC;IAED,SAAS,EAAE;QACV,IAAI,CAAC,YAAY,CAAC,GAAG,EAAE,CAAC;QACxB,IAAI,IAAI,CAAC,WAAW,IAAI,CAAC,IAAI,CAAC,UAAU,IAAI,IAAI,CAAC,aAAa,IAAI,CAAC;eAC/D,CAAC,IAAI,CAAC,GAAG,CAAC,MAAM,CAAC,4BAA4B,CAAC,EAAE;YACnD,IAAI,CAAC,MAAM,CAAC,YAAY,CAAC,IAAI,CAAC,CAAC;YAC/B,IAAI,CAAC,aAAa,GAAG,CAAC,CAAC;YACvB,IAAI,MAAM,CAAC,YAAY,KAAK,IAAI,EAAE;gBACjC,GAAG,CAAC,UAAU,CAAC,QAAQ,CAAC,eAAe,CAAC,CAAC;aACzC;iBAAM,IAAI,MAAM,CAAC,qBAAqB,KAAK,IAAI,EAAE;gBACjD,GAAG,CAAC,UAAU,CAAC,QAAQ,CAAC,yBAAyB,CAAC,CAAC;aACnD;iBAAM,IAAI,MAAM,CAAC,gBAAgB,KAAK,IAAI,EAAE;gBAC5C,CAAC,CAAC,kBAAkB,CAAC,CAAC,KAAK,EAAE,CAAC;aAC9B;iBAAM,IAAI,MAAM,CAAC,aAAa,KAAK,IAAI,EAAE;gBACzC,GAAG,CAAC,UAAU,CAAC,QAAQ,CAAC,gBAAgB,CAAC,CAAC;aAC1C;iBAAM,IAAI,MAAM,CAAC,iBAAiB,EAAE;gBACpC,MAAM,CAAC,iBAAiB,GAAG,KAAK,CAAC;gBACjC,IAAI,CAAC,GAAG,CAAC,IAAI,CAAC,mBAAmB,CAAC,CAAC;aACnC;SACD;aAAM;YACN,IAAI,CAAC,aAAa,EAAE,CAAC;YAErB,IAAI,MAAM,GAAG,CAAC,CAAC,mCAAmC,CAAC,CAAC;YACpD,IAAI,IAAI,CAAC,aAAa,GAAG,CAAC,IAAI,MAAM;gBACnC,IAAI,CAAC,YAAY,CAAC,CAAC,CAAC,IAAI,CAAC,eAAe,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,cAAc,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,SAAS,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,KAAK,CAAC,CAAC;;gBAE7G,IAAI,CAAC,YAAY,CAAC,CAAC,CAAC,IAAI,CAAC,eAAe,CAAC,IAAI,CAAC,YAAY,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,UAAU,CAAC,CAAC;YAE/F,IAAI,WAAW,GAAG,CAAC,CAAC,6BAA6B,GAAG,IAAI,CAAC,aAAa,GAAG,wBAAwB,CAAC,CAAC;YACnG,0DAA0D;YAC1D,IAAI,OAAO,GAAG,WAAW,CAAC,QAAQ,EAAE,CAAC,MAAM,CAAC;gBAC3C,IAAI,mBAAmB,GAAG,CAAC,CAAC,IAAI,CAAC,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC;gBAChD,OAAO,mBAAmB,IAAI,mBAAmB,CAAC,QAAQ,CAAC,gBAAgB,CAAC,CAAC;YAC9E,CAAC,CAAC,CAAC;YACH,IAAI,aAAa,GAAG,WAAW,CAAC,QAAQ,CAAC,YAAY,CAAC,CAAC;YACvD,OAAO,GAAG,OAAO,CAAC,GAAG,CAAC,aAAa,CAAC,CAAC;YAErC,IAAI,MAAM,GAAG,WAAW,CAAC,MAAM,EAAE,CAAC;YAClC,IAAI,MAAM,CAAC,QAAQ,CAAC,SAAS,CAAC;gBAC7B,MAAM,CAAC,QAAQ,EAAE,CAAC,IAAI,CAAC;oBACtB,IAAI,mBAAmB,GAAG,CAAC,CAAC,IAAI,CAAC,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC;oBAChD,0DAA0D;oBAC1D,IAAI,mBAAmB,IAAI,mBAAmB,CAAC,QAAQ,CAAC,gBAAgB,CAAC,EAAE;wBAC1E,OAAO,GAAG,OAAO,CAAC,GAAG,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC;qBAC/B;gBACF,CAAC,CAAC,CAAC;YAEJ,OAAO,GAAG,OAAO,CAAC,GAAG,CAAC,SAAS,CAAC,CAAC;YAEjC,CAAC,CAAC,oBAAoB,GAAG,IAAI,CAAC,aAAa,GAAG,wBAAwB,CAAC,CAAC,IAAI,EAAE,CAAC;YAC/E,CAAC,CAAC,qDAAqD,CAAC,CAAC,WAAW,CAAC,YAAY,CAAC,CAAC;YACnF,CAAC,CAAC,qDAAqD,CAAC,CAAC,QAAQ,CAAC,YAAY,CAAC,CAAC;YAChF,OAAO,CAAC,IAAI,CAAC,OAAO,EAAE,EAAE,SAAS,EAAE,MAAM,EAAE,EAAE,MAAM,CAAC,CAAC;YAErD,IAAM,UAAU,GAAG,IAAI,CAAC,eAAe,CAAC,GAAG,EAAE,CAAC;YAC9C,IAAI,CAAC,YAAY,CAAC,SAAS,CAAC,UAAU,CAAC,CAAC;YAExC,IAAI,IAAI,CAAC,aAAa,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,UAAU,IAAI,IAAI,CAAC,aAAa,IAAI,CAAC,CAAC,EAAE;gBAC5E,IAAI,CAAC,WAAW,GAAG,IAAI,CAAC;gBACxB,IAAI,CAAC,UAAU,CAAC,QAAQ,CAAC,cAAc,CAAC,CAAC;gBACzC,IAAI,IAAI,CAAC,UAAU,EAAE;oBACpB,IAAI,CAAC,QAAQ,CAAC,IAAI,EAAE,CAAC;oBACrB,IAAI,CAAC,aAAa,CAAC,IAAI,EAAE,CAAC;iBAC1B;aACD;YACD,IAAI,MAAM,CAAC,aAAa,KAAK,IAAI,EAAE;gBAClC,GAAG,CAAC,gBAAgB,CAAC,kBAAkB,CAAC,CAAC,CAAC,SAAS,CAAC,WAAW,CAAC,IAAI,CAAC,CAAC,kBAAkB,EAAE,CAAC;aAC3F;SACD;IACF,CAAC;IAED,4CAA4C;IAC5C,YAAY,EAAE;QACb,IAAI,IAAI,CAAC,UAAU;YAClB,IAAI,CAAC,eAAe,CAAC,IAAI,CAAC,UAAU,CAAC,CAAC;;YAEtC,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;IAC7B,CAAC;IAED,qBAAqB;IACrB,SAAS,EAAE,UAAS,KAAK;QACxB,IAAI,CAAC,KAAK,GAAG,KAAK,CAAC;QACnB,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;IACjC,CAAC;IAED,+BAA+B;IAC/B,eAAe,EAAE,UAAS,KAAK;QAC9B,IAAI,CAAC,UAAU,GAAG,KAAK,CAAC;QACxB,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,IAAI,CAAC,UAAU,CAAC,CAAC;IACtC,CAAC;IAED,iBAAiB,EAAE,UAAS,QAAQ;QACnC,IAAI,IAAI,CAAC,sBAAsB,EAAE;YAChC,CAAC,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC,OAAO,CAAC,EAAE,SAAS,EAAE,QAAQ,EAAE,EAAE,CAAC,CAAC,CAAC;SACpD;IACF,CAAC;IAED,WAAW,EAAE,UAAS,OAAO;QAC5B,IAAI,IAAI,CAAC,YAAY,IAAI,IAAI,CAAC,YAAY,CAAC,MAAM,EAAE;YAClD,IAAI,CAAC,YAAY,GAAG,CAAC,OAAO,CAAC,CAAC;SAC9B;IACF,CAAC;IAED,UAAU,EAAE,UAAS,KAAK;QACzB,IAAI,IAAI,CAAC,IAAI,IAAI,KAAK,EAAE;YACvB,KAAK,IAAI,KAAK,IAAI,IAAI,CAAC,IAAI,CAAC,QAAQ,EAAE;gBACrC,IAAI,IAAI,CAAC,IAAI,CAAC,QAAQ,CAAC,KAAK,CAAC,CAAC,EAAE,KAAK,KAAK,EAAE;oBAC3C,CAAC,CAAC,IAAI,CAAC,IAAI,CAAC,QAAQ,CAAC,KAAK,CAAC,CAAC,CAAC,OAAO,CAAC,OAAO,EAAE,EAAC,OAAO,EAAE,KAAK,EAAC,CAAC,CAAC;oBAChE,MAAM;iBACN;aACD;SACD;IACF,CAAC;IAED,SAAS,EAAE,UAAS,IAAI;QACvB,6FAA6F;QAC7F,IAAI,IAAI,CAAC,IAAI,IAAI,IAAI,IAAI,IAAI,CAAC,MAAM,IAAI,CAAC,IAAI,CAAC,GAAG,CAAC,MAAM,CAAC,4BAA4B,EAAE;YACtF,IAAI,CAAC,UAAU,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,CAAC;QAE1B,IAAI,KAAK,GAAG,EAAE,CAAC;QACf,IAAI,MAAM,GAAG,KAAK,CAAC;QAEnB,KAAK,IAAI,KAAK,IAAI,IAAI,EAAE;YACvB,IAAI,IAAI,GAAG,CAAC,CAAC,WAAW,GAAG,IAAI,CAAC,KAAK,CAAC,GAAG,IAAI,CAAC,CAAC,IAAI,EAAE,CAAC;YACtD,IAAI,IAAI,CAAC,MAAM,EAAE;gBAChB,CAAC,CAAC,IAAI,CAAC,CAAC,OAAO,CAAC,OAAO,EAAE,EAAC,OAAO,EAAE,KAAK,EAAC,CAAC,CAAC;gBAC3C,KAAK,CAAC,IAAI,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC,CAAC;aACxB;;gBAEA,MAAM,GAAG,IAAI,CAAC;SACf;QAED,IAAI,MAAM,EAAE;YACX,IAAI,CAAC,sBAAsB,GAAG,CAAC,CAAC;YAChC,CAAC,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC,OAAO,CAAC,EAAE,SAAS,EAAE,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC;SAC7C;QAED,IAAI,CAAC,YAAY,GAAG,KAAK,CAAC;IAC3B,CAAC;IAED,eAAe,EAAE,UAAS,IAAI,EAAE,QAAQ;QACvC,IAAI,IAAI,EAAE;YACT,IAAI,IAAI,CAAC,QAAQ,KAAK,QAAQ,IAAI,IAAI,CAAC,MAAM,KAAK,OAAO,EAAE;gBAC1D,IAAI,CAAC,MAAM,CAAC,YAAY,CAAC,IAAI,EAAE,KAAK,CAAC,CAAC;gBACtC,OAAO;aACP;YAED,IAAI,CAAC,WAAW,GAAG,IAAI,CAAC;YAExB,IAAI,mBAAmB,GAAG,IAAI,CAAC,WAAW,KAAK,WAAW;mBACtD,IAAI,CAAC,IAAI,KAAK,SAAS,IAAI,IAAI,CAAC,IAAI,KAAK,SAAS,CAAC;YACvD,IAAI,MAAM,GAAG,IAAI,CAAC,GAAG,CAAC,SAAS,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,GAAG,CAAC,SAAS,CAAC,QAAQ,KAAK,aAAa,CAAC,CAAC,CAAC,CAAC,KAAK,CAAC;YAC1F,IAAI,YAAY,GAAG,mBAAmB,IAAI,MAAM,CAAC;YAEjD,IAAI,WAAW,GAAG,CAAC,IAAI,CAAC,QAAQ,KAAK,OAAO,IAAI,IAAI,CAAC,IAAI,KAAK,YAAY,IAAI,IAAI,CAAC,IAAI,KAAK,UAAU,CAAC,CAAC;YACxG,gFAAgF;YAChF,IAAI,OAAO,GAAG,CAAC,YAAY,IAAI,WAAW,CAAC;YAC3C,IAAI,SAAS,GAAG,KAAK,CAAC;YACtB,IAAI,IAAI,CAAC,QAAQ,EAAE;gBAClB,KAAK,IAAI,CAAC,IAAI,IAAI,CAAC,QAAQ,EAAE;oBAC5B,IAAI,IAAI,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC,IAAI,IAAI,MAAM;wBAClC,SAAS,GAAG,IAAI,CAAC;iBAClB;aACD;YAED,IAAI,CAAC,IAAI,CAAC,SAAS,IAAI,SAAS,EAAE;gBACjC,IAAI,IAAI,CAAC,GAAG,CAAC,WAAW,IAAI,KAAK;oBAChC,OAAO;aACR;YACD,IAAI,SAAS,IAAI,CAAC,IAAI,CAAC,GAAG,CAAC,WAAW,EAAE;gBACvC,OAAO;aACP;YAED,IAAI,cAAc,GAAG,IAAI,CAAC,EAAE,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,EAAE,CAAC,IAAI,CAAC,SAAS,CAAC;YAC9D,IAAI,cAAc,EAAE;gBACnB,sDAAsD;gBACtD,MAAM,CAAC,cAAc,GAAG,IAAI,CAAC,EAAE,CAAC;gBAChC,iDAAiD;gBACjD,IAAI,IAAI,CAAC,QAAQ;oBAChB,IAAI,CAAC,SAAS,GAAG,IAAI,CAAC,QAAQ,CAAC;aAChC;YAED,IAAI,CAAC,SAAS,GAAG,IAAI,CAAC;YACtB,IAAI,WAAW,GAAG,IAAI,CAAC;YACvB,IAAI,kBAAkB,GAAG,IAAI,CAAC;YAC9B,IAAI,WAAW,GAAG,IAAI,CAAC,MAAM,EAAE,CAAC;YAEhC,IAAI,IAAI,CAAC,YAAY;gBACpB,WAAW,GAAG,IAAI,CAAC,YAAY,CAAC;YACjC,IAAI,IAAI,CAAC,sBAAsB;gBAC9B,kBAAkB,GAAG,IAAI,CAAC,sBAAsB,CAAC;YAElD,IAAI,OAAO,EAAE;gBACZ,IAAI,cAAc,GAAG,CAAC,CAAC,iCAAiC,CAAC,CAAC;gBAC1D,IAAI,cAAc,CAAC,MAAM,EAAE;oBAC1B,qDAAqD;oBACrD,IAAI,IAAI,CAAC,MAAM,KAAK,OAAO,IAAI,IAAI,CAAC,MAAM,KAAK,SAAS,EAAE;wBACzD,IAAI,CAAC,SAAS,EAAE,CAAC;wBACjB,cAAc,CAAC,KAAK,EAAE,CAAC;qBACvB;yBAAM;wBACN,IAAI,CAAC,UAAU,CAAC,IAAI,EAAE,CAAC;wBACvB,cAAc,CAAC,KAAK,EAAE,CAAC;wBACvB,IAAI,CAAC,IAAI,CAAC,QAAQ,EAAE;4BACnB,IAAI,CAAC,QAAQ,GAAG,CAAC,CAAC,OAAO,CAAC,mBAAmB,CAC5C;gCACC,QAAQ,EAAE,IAAI,CAAC,EAAE;gCACjB,YAAY,EAAE,IAAI;gCAClB,GAAG,EAAE,IAAI,CAAC,GAAG;gCACb,QAAQ,EAAE,eAAe;gCACzB,UAAU,EAAE,IAAI;6BAChB,CAAC,CAAC;yBACJ;wBACD,IAAI,CAAC,QAAQ,CAAC,KAAK,CAAC,cAAc,CAAC,GAAG,CAAC,CAAC,CAAC,EAAE,CAAC,IAAI,CAAC,CAAC,CAAC;qBACnD;oBAED,IAAI,CAAC,WAAW,GAAG,KAAK,CAAC;oBACzB,OAAO;iBACP;qBAAM,IAAI,IAAI,CAAC,MAAM,KAAK,OAAO,IAAI,IAAI,CAAC,MAAM,KAAK,SAAS,EAAE;oBAChE,IAAI,CAAC,MAAM,CAAC,YAAY,CAAC,IAAI,CAAC,CAAC;oBAC/B,OAAO;iBACP;qBAAM;oBACN,gDAAgD;oBAChD,IAAI,OAAO,GAAG,CAAC,CAAC,OAAO,CAAC,MAAM,CAAC,KAAK,EAAE,iCAAiC,GAAG,CAAC,IAAI,CAAC,WAAW,CAAC,CAAC,CAAC,aAAa,CAAC,CAAC,CAAC,EAAE,CAAC,EAAE,QAAQ,CAAC,IAAI,CAAC,CAAC;oBAClI,IAAI,IAAI,GAAG,IAAI,CAAC;oBAChB,IAAI,IAAI,CAAC,WAAW,EAAE;wBACrB,OAAO,CAAC,OAAO,GAAG;4BACjB,IAAI,CAAC,MAAM,CAAC,YAAY,CAAC,IAAI,CAAC,CAAC;4BAC/B,IAAI,CAAC,QAAQ,CAAC,QAAQ,CAAC,SAAS,EAAE,OAAO,EAAE,EAAC,EAAE,EAAE,aAAa,EAAC,EAAE,IAAI,EAAE,IAAI,CAAC,QAAQ,CAAC,CAAC;wBACtF,CAAC,CAAC;qBACF;iBACD;aACD;YAED,IAAI,CAAC,MAAM,EAAE,CAAC;YACd,IAAI,CAAC,OAAO,GAAG,WAAW,CAAC;YAC3B,IAAI,CAAC,mBAAmB,GAAG,IAAI,CAAC,mBAAmB,CAAC;YACpD,IAAI,CAAC,oBAAoB,GAAG,IAAI,CAAC,oBAAoB,CAAC;YACtD,IAAI,CAAC,eAAe,GAAG,IAAI,CAAC,eAAe,CAAC;YAE5C,IAAI,CAAC,WAAW,EAAE,CAAC;YACnB,IAAI,IAAI,CAAC,GAAG,CAAC,SAAS,IAAI,CAAC,IAAI,CAAC,GAAG,CAAC,SAAS,CAAC,MAAM,EAAE,IAAI,CAAC,IAAI,CAAC,eAAe,EAAE;gBAChF,gDAAgD;gBAChD,8CAA8C;gBAC9C,oDAAoD;gBACpD,IAAI,CAAC,aAAa,EAAE,CAAC;aACrB;YAED,4CAA4C;YAC5C,IAAI,SAAS;gBACZ,IAAI,CAAC,oBAAoB,CAAC,IAAI,CAAC,CAAC;YAEjC,IAAI,CAAC,WAAW,EAAE;gBACjB,OAAO,CAAC,SAAS,CAAC,EAAC,OAAO,EAAE,eAAe,EAAC,EAAE,sBAAsB,CAAC,CAAC;gBACtE,OAAO,CAAC,SAAS,CAAC,EAAC,OAAO,EAAE,eAAe,EAAE,KAAK,EAAE,CAAC,EAAC,EAAE,uBAAuB,CAAC,CAAC;gBACjF,IAAI,CAAC,YAAY,CAAC,SAAS,CAAC,CAAC,CAAC,CAAC;aAC/B;YAED,IAAI,CAAC,IAAI,CAAC,QAAQ,EAAE;gBACnB,IAAI,CAAC,QAAQ,GAAG,CAAC,CAAC,OAAO,CAAC,mBAAmB,CAC5C;oBACC,QAAQ,EAAE,IAAI,CAAC,EAAE;oBACjB,YAAY,EAAE,IAAI;oBAClB,GAAG,EAAE,IAAI,CAAC,GAAG;oBACb,QAAQ,EAAE,eAAe;oBACzB,QAAQ,EAAE,QAAQ;oBAClB,UAAU,EAAE,IAAI;iBAChB,CAAC,CAAC;aACJ;YACD,IAAI,CAAC,QAAQ,CAAC,KAAK,CAAC,IAAI,CAAC,OAAO,EAAE,CAAC,IAAI,CAAC,CAAC,CAAC;YAC1C,IAAI,MAAM,CAAC,mBAAmB;gBAC7B,MAAM,CAAC,iBAAiB,CAAC,iBAAiB,CAAC,CAAC;YAE7C,IAAI,CAAC,UAAU,GAAG,IAAI,CAAC,IAAI,CAAC,CAAC,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,CAAC,EAAE,CAAC;YAC7C,IAAI,CAAC,YAAY,GAAG,IAAI,CAAC,WAAW,CAAC;YAErC,IAAI,CAAC,YAAY,CAAC,CAAC,CAAC,IAAI,CAAC,eAAe,CAAC,IAAI,CAAC,YAAY,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,UAAU,CAAC,CAAC;YAE9F,IAAI,IAAI,CAAC,EAAE,KAAK,SAAS,IAAI,IAAI,CAAC,EAAE,KAAK,aAAa,EAAE;gBACvD,QAAQ,CAAC,cAAc,CAAC,eAAe,CAAC,CAAC,KAAK,CAAC,MAAM,GAAG,OAAO,CAAC;gBAChE,IAAI,IAAI,CAAC,EAAE,KAAK,SAAS;oBACxB,IAAI,CAAC,eAAe,GAAG,IAAI,CAAC;qBACxB,IAAI,IAAI,CAAC,EAAE,KAAK,aAAa,EAAE;oBACnC,IAAI,CAAC,cAAc,GAAG,IAAI,CAAC;iBAC3B;gBACD,CAAC,CAAC,gBAAgB,CAAC,CAAC,GAAG,CAAC,KAAK,EAAE,CAAC,CAAC,qBAAqB,CAAC,CAAC,GAAG,CAAC,KAAK,CAAC,CAAC,CAAC;aACpE;iBAAM,IAAI,IAAI,CAAC,EAAE,KAAK,UAAU,EAAE;gBAClC,QAAQ,CAAC,cAAc,CAAC,eAAe,CAAC,CAAC,KAAK,CAAC,MAAM,GAAG,OAAO,CAAC;gBAChE,CAAC,CAAC,gBAAgB,CAAC,CAAC,GAAG,CAAC,KAAK,EAAE,CAAC,CAAC,qBAAqB,CAAC,CAAC,GAAG,CAAC,KAAK,CAAC,CAAC,CAAC;gBACpE,IAAI,CAAC,cAAc,GAAG,IAAI,CAAC;aAC3B;iBACI,IAAI,IAAI,CAAC,EAAE,KAAK,+BAA+B,IAAI,IAAI,CAAC,EAAE,KAAK,oCAAoC,EAAE;gBACzG,OAAO,GAAG,IAAI,CAAC;aACf;iBAAM;gBACN,QAAQ,CAAC,cAAc,CAAC,eAAe,CAAC,CAAC,KAAK,CAAC,MAAM,GAAG,IAAI,CAAC,OAAO,CAAC,SAAS,CAAC;gBAC/E,CAAC,CAAC,gBAAgB,CAAC,CAAC,GAAG,CAAC,KAAK,EAAE,EAAE,CAAC,CAAC;aACnC;YACD,IAAI,CAAC,IAAI,CAAC,GAAG,CAAC,UAAU,IAAI,CAAC,OAAO,EAAE;gBACrC,CAAC,CAAC,gBAAgB,CAAC,CAAC,MAAM,CAAC,MAAM,CAAC,CAAC;gBACnC,kDAAkD;gBAClD,+DAA+D;gBAC/D,IAAI,CAAC,UAAU,CAAC,WAAW,CAAC,cAAc,CAAC,CAAC;aAC5C;YACD,IAAI,IAAI,CAAC,SAAS,IAAI,WAAW,CAAC,MAAM,EAAE;gBACzC,IAAI,CAAC,SAAS,CAAC,WAAW,CAAC,CAAC;gBAC5B,IAAI,CAAC,iBAAiB,CAAC,kBAAkB,CAAC,CAAC;aAC3C;YAED,IAAI,OAAO,EAAE;gBACZ,qEAAqE;gBACrE,CAAC,CAAC,iCAAiC,CAAC,CAAC,IAAI,EAAE,CAAC;gBAE5C,IAAI,CAAC,QAAQ,CAAC,IAAI,EAAE,CAAC;gBAErB,IAAI,IAAI,CAAC,IAAI,KAAK,UAAU,EAAE;oBAC7B,IAAI,IAAI,GAAG,IAAI,CAAC;oBAChB,IAAI,CAAC,UAAU,GAAG,IAAI,CAAC;oBACvB,IAAI,CAAC,cAAc,GAAG,UAAU,CAAC,cAAc,IAAI,CAAC,MAAM,CAAC,YAAY,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,EAAE,IAAI,CAAC,OAAO,CAAC,CAAC,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC,CAAC,IAAI,CAAC,OAAO,CAAC,eAAe,CAAC,CAAC;iBAC9I;qBACI,IAAI,IAAI,CAAC,EAAE,KAAK,WAAW,EAAE;oBACjC,IAAI,IAAI,GAAG,IAAI,CAAC;oBAChB,IAAI,CAAC,WAAW,GAAG,IAAI,CAAC;iBACxB;aACD;YAED,IAAI,CAAC,oBAAoB,EAAE,CAAC;YAC5B,IAAI,CAAC,WAAW,GAAG,KAAK,CAAC;SACzB;IACF,CAAC;IAED,qBAAqB,EAAE,UAAS,IAAI;QACnC,IAAI,eAAe,GAAG,GAAG,CAAC,MAAM,CAAC,8BAA8B,CAAC,IAAI,EAAE,IAAI,EAAE,sBAAsB,CAAC,CAAC;QACpG,IAAI,WAAW,GAAG,GAAG,CAAC,MAAM,CAAC,8BAA8B,CAAC,IAAI,EAAE,IAAI,EAAE,gBAAgB,CAAC,CAAC;QAC1F,OAAO,eAAe,IAAI,WAAW,CAAC;IACvC,CAAC;IAED,kBAAkB,EAAE,UAAS,IAAI;QAChC,IAAI,SAAS,GAAG,GAAG,CAAC,MAAM,CAAC,8BAA8B,CAAC,IAAI,EAAE,IAAI,EAAE,gBAAgB,CAAC,CAAC;QACxF,IAAI,SAAS,EAAE;YACd,SAAS,CAAC,EAAE,GAAG,aAAa,CAAC;YAC7B,SAAS,CAAC,IAAI,GAAG,aAAa,CAAC;YAC/B,SAAS,CAAC,IAAI,GAAG,EAAE,CAAC;YACpB,SAAS,CAAC,OAAO,GAAG,MAAM,CAAC;YAC3B,SAAS,CAAC,QAAQ,GAAG,EAAE,CAAC;SACxB;IACF,CAAC;IAED,oBAAoB,EAAE,UAAU,IAAI;QACnC,IAAI,IAAI,CAAC,QAAQ,IAAI,IAAI,CAAC,QAAQ,CAAC,MAAM,IAAI,IAAI,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC,IAAI,KAAK,MAAM;YAC5E,IAAI,CAAC,QAAQ,CAAC,MAAM,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;QAE5B,IAAI,IAAI,GAAG,GAAG,CAAC,MAAM,CAAC,8BAA8B,CAAC,IAAI,EAAE,MAAM,EAAE,MAAM,CAAC,CAAC;QAC3E,IAAI,IAAI,EACR;YACC,4CAA4C;YAC5C,IAAI,SAAS,GAAG,GAAG,CAAC,MAAM,CAAC,4BAA4B,CAAC,IAAI,EAAE,MAAM,EAAE,qBAAqB,CAAC,CAAC;YAC7F,IAAI,OAAO,GAAG,GAAG,CAAC,MAAM,CAAC,4BAA4B,CAAC,IAAI,EAAE,MAAM,EAAE,mBAAmB,CAAC,CAAC;YAEzF,IAAI,SAAS,IAAI,CAAC,IAAI,IAAI,CAAC,GAAG,CAAC,UAAU,EAAE,KAAK,aAAa,EAC7D,EAAQ,0CAA0C;gBACjD,IAAI,CAAC,QAAQ,CAAC,MAAM,CAAC,SAAS,EAAE,CAAC,CAAC,CAAC;aACnC;iBACI,IAAI,SAAS,IAAI,CAAC,IAAI,OAAO,IAAI,CAAC,EACvC;gBACC,IAAI,WAAW,GAAG,IAAI,CAAC,QAAQ,CAAC,SAAS,CAAC,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC,QAAQ,CAAC;gBAChE,IAAI,CAAC,QAAQ,CAAC,OAAO,CAAC,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC,QAAQ,GAAG,WAAW,CAAC,MAAM,CAAC,IAAI,CAAC,QAAQ,CAAC,OAAO,CAAC,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC,QAAQ,CAAC,CAAC;gBAC9G,IAAI,CAAC,QAAQ,CAAC,MAAM,CAAC,SAAS,EAAE,CAAC,CAAC,CAAC,CAAC,4BAA4B;aAChE;YACD,IAAI,WAAW,GAAG,CAAC,iBAAiB,EAAE,aAAa,EAAE,YAAY;gBAC5D,aAAa,EAAE,UAAU,EAAE,aAAa;gBACxC,iBAAiB,EAAE,eAAe,CAAC,CAAC;YAEzC,IAAI,IAAI,CAAC,GAAG,CAAC,UAAU,EAAE,KAAK,cAAc;gBAC3C,WAAW,CAAC,IAAI,CAAC,gBAAgB,CAAC,CAAC;YAEpC,IAAI,CAAC,YAAY,CAAC,IAAI,EAAE,WAAW,CAAC,CAAC;YAErC,IAAI,CAAC,kBAAkB,CAAC,IAAI,CAAC,CAAC;SAC9B;IACF,CAAC;IAED,YAAY,EAAE,UAAU,IAAI,EAAE,KAAK;QAClC,IAAI,IAAI,CAAC,QAAQ,EAAE;YAClB,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,IAAI,CAAC,QAAQ,CAAC,MAAM,GAAG;gBAC1C,IAAI,YAAY,GAAG,KAAK,CAAC;gBACzB,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,KAAK,CAAC,MAAM,EAAE,CAAC,EAAE,EAAE;oBACtC,IAAI,IAAI,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC,EAAE,KAAK,KAAK,CAAC,CAAC,CAAC,EAAE;wBACrC,IAAI,CAAC,QAAQ,CAAC,MAAM,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;wBAC3B,YAAY,GAAG,IAAI,CAAC;wBACpB,MAAM;qBACN;iBACD;gBACD,IAAI,CAAC,YAAY,EACjB;oBACC,IAAI,IAAI,CAAC,QAAQ,CAAC,CAAC,CAAC;wBACnB,IAAI,CAAC,YAAY,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC,CAAC,EAAE,KAAK,CAAC,CAAC;oBAC5C,CAAC,EAAE,CAAC;iBACJ;aACD;SACD;IACF,CAAC;IAED,UAAU,EAAE,UAAU,CAAC;QACtB,IAAI,IAAI,GAAG,CAAC,CAAC,IAAI,CAAC;QAElB,IAAI,IAAI,CAAC,QAAQ,KAAK,aAAa;YAClC,OAAO;QAER,IAAI,SAAS,GAAG,IAAI,CAAC,OAAO,CAAC;QAC7B,IAAI,CAAC,SAAS;YACb,OAAO;QAER,IAAI,OAAO,GAAG,SAAS,CAAC,aAAa,CAAC,QAAQ,GAAG,IAAI,CAAC,OAAO,CAAC,EAAE,GAAG,KAAK,CAAC,CAAC;QAC1E,IAAI,CAAC,OAAO,EAAE;YACb,MAAM,CAAC,GAAG,CAAC,OAAO,CAAC,IAAI,CAAC,8CAA8C,GAAG,IAAI,CAAC,OAAO,CAAC,EAAE,GAAG,GAAG,CAAC,CAAC;YAChG,OAAO;SACP;QAED,IAAI,MAAM,GAAG,OAAO,CAAC,UAAU,CAAC;QAChC,IAAI,CAAC,MAAM;YACV,OAAO;QAER,IAAI,SAAS,GAAG,OAAO,CAAC,SAAS,CAAC;QAClC,IAAI,SAAS,GAAG,OAAO,CAAC,KAAK,CAAC,OAAO,KAAK,MAAM,CAAC;QAEjD,OAAO,CAAC,KAAK,CAAC,UAAU,GAAG,QAAQ,CAAC;QACpC,IAAI,CAAC,IAAI,CAAC,QAAQ;YACjB,OAAO;QAER,IAAI,CAAC,WAAW,GAAG,IAAI,CAAC;QAExB,sCAAsC;QACtC,IAAI,SAAS,GAAG,OAAO,CAAC,SAAS,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC;QAC7C,IAAI,YAAY,GAAG,IAAI,CAAC;QACxB,KAAK,IAAI,CAAC,IAAI,SAAS,EAAE;YACxB,IAAI,SAAS,CAAC,CAAC,CAAC,CAAC,OAAO,CAAC,QAAQ,CAAC,IAAI,CAAC,EAAE;gBACxC,YAAY,GAAG,SAAS,CAAC,CAAC,CAAC,CAAC;gBAC5B,MAAM;aACN;SACD;QAED,IAAI,YAAY,EAAE;YACjB,YAAY,GAAG,QAAQ,CAAC,YAAY,CAAC,SAAS,CAAC,QAAQ,CAAC,MAAM,CAAC,CAAC,CAAC;YACjE,IAAI,CAAC,QAAQ,CAAC,aAAa,GAAG,YAAY,CAAC;SAC3C;QAED,IAAI,eAAe,GAAG,CAAC,CAAC,OAAO,CAAC,MAAM,CAAC,KAAK,CAAC,CAAC;QAC9C,IAAI,CAAC,QAAQ,CAAC,KAAK,CAAC,eAAe,EAAE,CAAC,IAAI,CAAC,OAAO,CAAC,EAAE,KAAK,CAAC,CAAC;QAC5D,MAAM,CAAC,YAAY,CAAC,eAAe,CAAC,UAAU,EAAE,OAAO,CAAC,WAAW,CAAC,CAAC;QACrE,IAAI,cAAc,GAAG,OAAO,CAAC,KAAK,CAAC,UAAU,CAAC;QAC9C,CAAC,CAAC,OAAO,CAAC,MAAM,CAAC,OAAO,CAAC,CAAC;QAE1B,+BAA+B;QAC/B,IAAI,CAAC,QAAQ,CAAC,aAAa,GAAG,CAAC,CAAC;QAEhC,2EAA2E;QAC3E,kEAAkE;QAClE,IAAI,IAAI,CAAC,YAAY,CAAC,MAAM,EAAE;YAC7B,IAAI,IAAI,GAAG,CAAC,CAAC,WAAW,GAAG,IAAI,CAAC,YAAY,CAAC,IAAI,CAAC,YAAY,CAAC,MAAM,GAAG,CAAC,CAAC,GAAG,IAAI,CAAC,CAAC,IAAI,CAAC,UAAU,CAAC,CAAC;YACpG,IAAI,IAAI,CAAC,MAAM,EAAE;gBAChB,oEAAoE;gBACpE,IAAI,CAAC,YAAY,CAAC,GAAG,EAAE,CAAC;gBACxB,IAAI,CAAC,aAAa,EAAE,CAAC;gBACrB,CAAC,CAAC,IAAI,CAAC,CAAC,OAAO,CAAC,OAAO,EAAE,EAAC,OAAO,EAAE,KAAK,EAAC,CAAC,CAAC;aAC3C;SACD;QAED,IAAI,UAAU,GAAG,SAAS,CAAC,aAAa,CAAC,QAAQ,GAAG,IAAI,CAAC,OAAO,CAAC,EAAE,GAAG,KAAK,CAAC,CAAC;QAC7E,IAAI,UAAU,EAAE;YACf,IAAI,SAAS;gBACZ,UAAU,CAAC,KAAK,CAAC,OAAO,GAAG,MAAM,CAAC;YAEnC,UAAU,CAAC,SAAS,GAAG,SAAS,CAAC;YACjC,UAAU,CAAC,KAAK,CAAC,UAAU,GAAG,cAAc,CAAC;SAC7C;QAED,8DAA8D;QAC9D,CAAC,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC,OAAO,CAAC,EAAE,SAAS,EAAE,IAAI,CAAC,sBAAsB,EAAE,EAAE,CAAC,CAAC,CAAC;QAEvE,IAAI,CAAC,WAAW,GAAG,KAAK,CAAC;IAC1B,CAAC;IAED,UAAU,EAAE,UAAU,CAAC;QACtB,IAAI,IAAI,GAAG,CAAC,CAAC,IAAI,CAAC;QAElB,IAAI,IAAI,CAAC,QAAQ,KAAK,aAAa;YAClC,OAAO;QAER,IAAI,CAAC,IAAI,CAAC,QAAQ;YACjB,OAAO;QAER,IAAI,CAAC,IAAI,CAAC,OAAO;YAChB,OAAO;QAER,kFAAkF;QAClF,8DAA8D;QAC9D,IAAI,IAAI,CAAC,IAAI,IAAI,IAAI,CAAC,QAAQ,KAAK,SAAS;YAC3C,CAAC,IAAI,CAAC,IAAI,CAAC,UAAU,KAAK,UAAU;gBACpC,IAAI,CAAC,IAAI,CAAC,UAAU,KAAK,OAAO;gBAChC,IAAI,CAAC,IAAI,CAAC,UAAU,KAAK,UAAU,CAAC,EAAE;YACtC,MAAM,CAAC,GAAG,CAAC,OAAO,CAAC,GAAG,CAAC,kBAAkB,GAAG,IAAI,CAAC,IAAI,CAAC,WAAW,GAAG,gBAAgB,GAAG,IAAI,CAAC,IAAI,CAAC,UAAU,CAAC,CAAC;YAC7G,OAAO;SACP;QAED,IAAI,CAAC,QAAQ,CAAC,aAAa,CAAC,IAAI,CAAC,OAAO,EAAE,IAAI,CAAC,IAAI,CAAC,CAAC;IACtD,CAAC;CACD,CAAC,CAAC;AAEH,CAAC,CAAC,OAAO,CAAC,kBAAkB,GAAG,UAAU,YAAY,EAAE,EAAE;IACxD,OAAO,IAAI,CAAC,CAAC,OAAO,CAAC,kBAAkB,CAAC,YAAY,EAAE,EAAE,CAAC,CAAC;AAC3D,CAAC,CAAC","sourcesContent":["/* -*- js-indent-level: 8 -*- */\n/*\n * Copyright the Collabora Online contributors.\n *\n * SPDX-License-Identifier: MPL-2.0\n *\n * This Source Code Form is subject to the terms of the Mozilla Public\n * License, v. 2.0. If a copy of the MPL was not distributed with this\n * file, You can obtain one at http://mozilla.org/MPL/2.0/.\n */\n\n/*\n * L.Control.MobileWizardWindow - contains one unique window instance inside mobile-wizard\n */\n\n/* global app $ */\nL.Control.MobileWizardWindow = L.Control.extend({\n\toptions: {\n\t\tmaxHeight: '45vh',\n\t\tsnackbarTimeout: 6000\n\t},\n\n\t// TODO: review if used and move to initialize with description\n\t_builder: null,\n\t_inMainMenu: true,\n\t_isActive: false,\n\t_inBuilding: false,\n\t_currentDepth: 0,\n\t_mainTitle: '',\n\t_customTitle: false,\n\t_isTabMode: false,\n\t_currentPath: [],\n\t_currentScrollPosition: 0,\n\n\tinitialize: function (mobileWizard, id) {\n\t\tL.setOptions(this, this.options);\n\t\tthis.id = id; // unique id of this window \"mobile-wizard-content-N\"\n\t\tthis.parent = mobileWizard; // reference to the parent mobile-wizard\n\t\tthis.tabs = null; // tabs we can later restore if dialog was hidden\n\t\tthis.isVisible = false; // indicates if this window is currently visible inside mobile-wizard\n\t\tthis.isPopup = false; // indicates that current window is a popup, uses different look\n\t\tthis.isSnackBar = false; // shows as little popup at the bottom\n\t\tthis.isBusyPopUp = false; // show a busy popup\n\t\tthis.isFunctionMenu = false; // shows full screen with list of calc functions\n\t\tthis.isHamburgerMenu = false; // shows full screen with items from menubar\n\t\tthis.isShapesWizard = false; // shows full screen shape type selector\n\t\tthis.title = ''; // text title\n\t\tthis.cusomTitle = null; // HTML title\n\n\t\tthis.mobileWizard = $('#mobile-wizard'); // reference to main container of mobile wizard\n\t\tthis.backButton = $('#mobile-wizard-back'); // reference to the button for going back or close\n\t\tthis.titleBar = $('#mobile-wizard-titlebar'); // titlebar containing title and back button\n\t\tthis.titleNode = $('#mobile-wizard-title'); // title content\n\t\tthis.tabsContainer = $('#mobile-wizard-tabs'); // can be shown instead of titlebar\n\t\tvar parentNode = document.getElementById('mobile-wizard-content');\n\t\tthis.content = L.DomUtil.create('div', 'mobile-wizard mobile-wizard-content', parentNode);\n\t\tthis.content.id = this.id;\n\n\t\tthis.scrollPositions = [];\n\t},\n\n\tonAdd: function (map) {\n\t\tthis.map = map;\n\n\t\t// for the moment, the mobile-wizard is mobile phone only\n\t\tif (!window.mode.isMobile())\n\t\t\treturn;\n\n\t\tthis.content.replaceChildren();\n\t\tthis._setupBackButton();\n\t},\n\n\tonRemove: function() {\n\t\tL.DomUtil.remove(this.content);\n\t\tthis.content = undefined;\n\t},\n\n\t/// this removes special styling\n\t_removeSpecialClasses: function() {\n\t\tthis.mobileWizard.removeClass('shapeswizard');\n\t\tthis.mobileWizard.removeClass('menuwizard');\n\t\tthis.mobileWizard.removeClass('funcwizard');\n\t\tthis.mobileWizard.removeClass('popup');\n\t\tthis.mobileWizard.removeClass('snackbar');\n\t\tthis.mobileWizard.removeClass('busypopup');\n\t},\n\n\t/// this applies special styling for different types of mobile-wizards\n\t_applySpecialClasses: function() {\n\t\tif (this.isShapesWizard)\n\t\t\tthis.mobileWizard.addClass('shapeswizard');\n\t\tif (this.isHamburgerMenu)\n\t\t\tthis.mobileWizard.addClass('menuwizard');\n\t\tif (this.isFunctionMenu)\n\t\t\tthis.mobileWizard.addClass('funcwizard');\n\t\tif (this.isPopup && !this.isAutoCompletePopup && !this.isPopupPartialScreen)\n\t\t\tthis.mobileWizard.addClass('popup');\n\t\tif (this.isSnackBar)\n\t\t\tthis.mobileWizard.addClass('snackbar');\n\t\tif (this.isBusyPopUp)\n\t\t\tthis.mobileWizard.addClass('busypopup');\n\t},\n\n\t/// resets all classes which can modify the look to the original values\n\t_softReset: function() {\n\t\tthis._setupBackButton();\n\t\tthis.tabsContainer.children().detach();\n\t\tthis.tabsContainer.hide();\n\t\tthis.titleBar.css('top', '0px');\n\t\tthis.titleBar.show();\n\t\tthis.titleNode[0].replaceChildren();\n\t\tthis._removeSpecialClasses();\n\t},\n\n\t/// resets all, including content\n\t_reset: function() {\n\t\tthis._softReset();\n\t\tthis._currentDepth = 0;\n\t\tthis._inMainMenu = true;\n\t\tthis.content.replaceChildren();\n\t\tthis._isTabMode = false;\n\t\tthis._currentPath = [];\n\t\tthis.tabs = null;\n\t\tthis._currentScrollPosition = 0;\n\t\tthis.isPopup = false;\n\t},\n\n\t// reset back button to the original state\n\t_setupBackButton: function() {\n\t\tthis.backButton.show();\n\t\tthis.backButton.addClass('close-button');\n\t},\n\n\t/// for hiding the window by manager (mobile-wizard)\n\thideWindow: function() {\n\t\tthis.isVisible = false;\n\t\t$(this.content).hide();\n\t\tthis._removeSpecialClasses();\n\t},\n\n\t/// for showing the window by manager (mobile-wizard)\n\tshowWindow: function() {\n\t\tthis._softReset();\n\t\tthis.isVisible = true;\n\t\t$(this.content).show();\n\t\tthis.restoreTitle();\n\t\tthis.restoreTabs();\n\t\tthis._applySpecialClasses();\n\t},\n\n\t_createScrollIndicator() {\n\t\tconst container = document.createElement('div');\n\t\tcontainer.className = 'mobile-wizard-scroll-indicator';\n\t\tcontainer.id = 'mobile-wizard-scroll-indicator-' + this.id;\n\t\tcontainer.style.width = '100%';\n\t\tcontainer.style.height = '0px';\n\t\tcontainer.style.position = 'fixed';\n\t\tcontainer.style.zIndex = 2;\n\t\tcontainer.style.bottom = '-7px';\n\t\tcontainer.style.boxShadow = '0 -8px 20px 4px #0b87e770, 0 1px 10px 6px #0b87e7';\n\t\treturn container;\n\t},\n\n\t_showWizard: function() {\n\t\tif (this.snackBarTimout)\n\t\t\tclearTimeout(this.snackBarTimout);\n\n\t\tthis.isVisible = true;\n\n\t\tthis.scrollIndicator = this._createScrollIndicator();\n\t\tthis.content.appendChild(this.scrollIndicator);\n\n\t\tvar wizard = $('#mobile-wizard');\n\t\twizard.show();\n\t\tvar that = this;\n\t\twizard.on('scroll', function() {\n\t\t\tvar mWizardContentScroll = wizard.scrollTop();\n\t\t\tvar height = wizard.prop('scrollHeight');\n\t\t\tvar contentHeight = wizard.prop('clientHeight');\n\t\t\tvar scrollLeft = height - mWizardContentScroll;\n\t\t\tif (scrollLeft < contentHeight + 1 || !that.isVisible) { that.scrollIndicator.style.display = 'none'; }\n\t\t\telse { that.scrollIndicator.style.display = 'block'; }\n\t\t});\n\t\t$('#toolbar-down').hide();\n\t\tif (window.ThisIsTheAndroidApp)\n\t\t\twindow.postMobileMessage('MOBILEWIZARD show');\n\t\tif (window.mobileMenuWizard)\n\t\t\tthis.map.showSidebar = false;\n\n\t\tif (this.map.uiManager.sheetsBar)\n\t\t\tthis.map.uiManager.sheetsBar.hide();\n\n\t\tif (!document.getElementById('document-container').classList.contains('landscape')) {\n\t\t\tvar pcw = document.getElementById('presentation-controls-wrapper');\n\t\t\tif (pcw)\n\t\t\t\tpcw.style.display = 'none';\n\t\t}\n\t},\n\n\tisOpen: function() {\n\t\treturn $('#mobile-wizard').is(':visible');\n\t},\n\n\t_hideKeyboard: function() {\n\t\tthis.map.blur();\n\t},\n\n\tgetCurrentLevel: function() {\n\t\treturn this._currentDepth;\n\t},\n\n\t/// setups the tab bar and hides title bar\n\tsetTabs: function(tabs) {\n\t\tthis.tabs = tabs;\n\t\tthis.tabsContainer.show();\n\t\tthis.tabsContainer.children().detach();\n\t\tthis.tabsContainer.append(tabs);\n\t\tthis.titleBar.hide();\n\t\tthis._isTabMode = true;\n\t},\n\n\t/// for restoring the tabs by manager\n\trestoreTabs: function() {\n\t\tif (this.tabs)\n\t\t\tthis.setTabs(this.tabs);\n\t},\n\n\tsetCurrentScrollPosition: function() {\n\t\tthis._currentScrollPosition = $(this.content).scrollTop();\n\t},\n\n\tgoLevelDown: function(contentToShow, options) {\n\t\tvar animate = (options && options.animate != undefined) ? options.animate : true;\n\n\t\tif (!this._isTabMode || this._currentDepth > 0)\n\t\t\tthis.backButton.removeClass('close-button');\n\n\t\tif (this._isTabMode && this._currentDepth > 0) {\n\t\t\tthis.titleBar.show();\n\t\t\tthis.tabsContainer.hide();\n\t\t}\n\n\t\t$('#mobile-wizard .ui-effects-placeholder').hide();\n\n\t\t// do not select already hidden nodes at first place\n\t\tvar nodesToHide = $(contentToShow).siblings(':visible').not('.mobile-wizard-scroll-indicator');\n\n\t\tvar parent = $(contentToShow).parent();\n\t\tif (parent.hasClass('toolbox'))\n\t\t\tnodesToHide = nodesToHide.add(parent.siblings(':visible:not(.mobile-wizard-scroll-indicator)'));\n\t\tvar duration = 10;\n\t\tif (animate) {\n\t\t\tnodesToHide.hide('slide', { direction: 'left' }, duration);\n\t\t\t// be sure all is hidden, sometimes jQuery doesn't work here ...\n\t\t\t// restoreStyle is called in some jQuery cleanup what causes showing nodes again\n\t\t\tsetTimeout(function() { nodesToHide.hide(); }, duration + 5);\n\t\t}\n\t\telse\n\t\t\tnodesToHide.hide();\n\n\t\t$(contentToShow).children('.ui-header').hide();\n\n\t\t$('#mobile-wizard.funcwizard div#mobile-wizard-content').removeClass('hideHelpBG');\n\t\t$('#mobile-wizard.funcwizard div#mobile-wizard-content').addClass('showHelpBG');\n\n\t\tif (animate)\n\t\t\t$(contentToShow).children('.ui-content').first().show('slide', { direction: 'right' }, 'fast');\n\t\telse\n\t\t\t$(contentToShow).children('.ui-content').first().show();\n\n\t\tconst currentScroll = this.mobileWizard.scrollTop();\n\t\tthis.scrollPositions.push(currentScroll);\n\t\tthis.mobileWizard.scrollTop(0);\n\n\t\tthis._currentDepth++;\n\t\tif (!this._inBuilding)\n\t\t\thistory.pushState({context: 'mobile-wizard', level: this._currentDepth}, 'mobile-wizard-level-' + this._currentDepth);\n\n\t\tvar content = $(contentToShow).children('.ui-content').get(0);\n\t\tvar title = content ? content.title : '';\n\n\t\tif (this._customTitle)\n\t\t\tthis._setCustomTitle(this._customTitle);\n\t\telse\n\t\t\tthis._setTitle(title);\n\n\t\tthis._inMainMenu = false;\n\n\t\tthis._currentPath.push(title);\n\t},\n\n\tgoLevelUp: function() {\n\t\tthis._currentPath.pop();\n\t\tif (this._inMainMenu || (this._isTabMode && this._currentDepth == 1\n\t\t\t&& !this.map.dialog.hasDialogInMobilePanelOpened)) {\n\t\t\tthis.parent.removeWindow(this);\n\t\t\tthis._currentDepth = 0;\n\t\t\tif (window.mobileWizard === true) {\n\t\t\t\tapp.dispatcher.dispatch('mobile_wizard');\n\t\t\t} else if (window.insertionMobileWizard === true) {\n\t\t\t\tapp.dispatcher.dispatch('insertion_mobile_wizard');\n\t\t\t} else if (window.mobileMenuWizard === true) {\n\t\t\t\t$('#main-menu-state').click();\n\t\t\t} else if (window.commentWizard === true) {\n\t\t\t\tapp.dispatcher.dispatch('comment_wizard');\n\t\t\t} else if (window.contextMenuWizard) {\n\t\t\t\twindow.contextMenuWizard = false;\n\t\t\t\tthis.map.fire('closemobilewizard');\n\t\t\t}\n\t\t} else {\n\t\t\tthis._currentDepth--;\n\n\t\t\tvar parent = $('.ui-content.mobile-wizard:visible');\n\t\t\tif (this._currentDepth > 0 && parent)\n\t\t\t\tthis._customTitle ? this._setCustomTitle(parent.get(0).customTitleBar) : this._setTitle(parent.get(0).title);\n\t\t\telse\n\t\t\t\tthis._customTitle ? this._setCustomTitle(this._customTitle) : this._setTitle(this._mainTitle);\n\n\t\t\tvar currentNode = $('.ui-explorable-entry.level-' + this._currentDepth + '.mobile-wizard:visible');\n\t\t\t// select only those nodes which are updated on Level down\n\t\t\tvar headers = currentNode.siblings().filter(function() {\n\t\t\t\tvar styleAttributeValue = $(this).attr('style');\n\t\t\t\treturn styleAttributeValue && styleAttributeValue.includes('display: none;');\n\t\t\t});\n\t\t\tvar currentHeader = currentNode.children('.ui-header');\n\t\t\theaders = headers.add(currentHeader);\n\n\t\t\tvar parent = currentNode.parent();\n\t\t\tif (parent.hasClass('toolbox'))\n\t\t\t\tparent.siblings().each(function() {\n\t\t\t\t\tvar styleAttributeValue = $(this).attr('style');\n\t\t\t\t\t// select only those nodes which are updated on Level down\n\t\t\t\t\tif (styleAttributeValue && styleAttributeValue.includes('display: none;')) {\n\t\t\t\t\t\theaders = headers.add($(this));\n\t\t\t\t\t}\n\t\t\t\t});\n\n\t\t\theaders = headers.not('.hidden');\n\n\t\t\t$('.ui-content.level-' + this._currentDepth + '.mobile-wizard:visible').hide();\n\t\t\t$('#mobile-wizard.funcwizard div#mobile-wizard-content').removeClass('showHelpBG');\n\t\t\t$('#mobile-wizard.funcwizard div#mobile-wizard-content').addClass('hideHelpBG');\n\t\t\theaders.show('slide', { direction: 'left' }, 'fast');\n\n\t\t\tconst prevScroll = this.scrollPositions.pop();\n\t\t\tthis.mobileWizard.scrollTop(prevScroll);\n\n\t\t\tif (this._currentDepth == 0 || (this._isTabMode && this._currentDepth == 1)) {\n\t\t\t\tthis._inMainMenu = true;\n\t\t\t\tthis.backButton.addClass('close-button');\n\t\t\t\tif (this._isTabMode) {\n\t\t\t\t\tthis.titleBar.hide();\n\t\t\t\t\tthis.tabsContainer.show();\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (window.commentWizard === true) {\n\t\t\t\tapp.sectionContainer.getSectionWithName(L.CSections.CommentList.name).removeHighlighters();\n\t\t\t}\n\t\t}\n\t},\n\n\t/// for restoring title on windows switching\n\trestoreTitle: function() {\n\t\tif (this.cusomTitle)\n\t\t\tthis._setCustomTitle(this.cusomTitle);\n\t\telse\n\t\t\tthis._setTitle(this.title);\n\t},\n\n\t/// setups text title\n\t_setTitle: function(title) {\n\t\tthis.title = title;\n\t\tthis.titleNode.text(this.title);\n\t},\n\n\t/// setups custom HTML titlebar\n\t_setCustomTitle: function(title) {\n\t\tthis.cusomTitle = title;\n\t\tthis.titleNode.html(this.cusomTitle);\n\t},\n\n\t_scrollToPosition: function(position) {\n\t\tif (this._currentScrollPosition) {\n\t\t\t$(this.content).animate({ scrollTop: position }, 0);\n\t\t}\n\t},\n\n\tselectedTab: function(tabText) {\n\t\tif (this._currentPath && this._currentPath.length) {\n\t\t\tthis._currentPath = [tabText];\n\t\t}\n\t},\n\n\t_selectTab: function(tabId) {\n\t\tif (this.tabs && tabId) {\n\t\t\tfor (var index in this.tabs.children) {\n\t\t\t\tif (this.tabs.children[index].id === tabId) {\n\t\t\t\t\t$(this.tabs.children[index]).trigger('click', {animate: false});\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t},\n\n\t_goToPath: function(path) {\n\t\t// when dialog has tabs, tab selection triggers the callback, causes infinite regenetate loop\n\t\tif (this.tabs && path && path.length && !this.map.dialog.hasDialogInMobilePanelOpened())\n\t\t\tthis._selectTab(path[0]);\n\n\t\tvar _path = [];\n\t\tvar goBack = false;\n\n\t\tfor (var index in path) {\n\t\t\tvar elem = $('[title=\\'' + path[index] + '\\'').prev();\n\t\t\tif (elem.length) {\n\t\t\t\t$(elem).trigger('click', {animate: false});\n\t\t\t\t_path.push(path[index]);\n\t\t\t}\n\t\t\telse\n\t\t\t\tgoBack = true;\n\t\t}\n\n\t\tif (goBack) {\n\t\t\tthis._currentScrollPosition = 0;\n\t\t\t$(this.content).animate({ scrollTop: 0 }, 0);\n\t\t}\n\n\t\tthis._currentPath = _path;\n\t},\n\n\t_onMobileWizard: function(data, callback) {\n\t\tif (data) {\n\t\t\tif (data.jsontype === 'dialog' && data.action === 'close') {\n\t\t\t\tthis.parent.removeWindow(this, false);\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tthis._inBuilding = true;\n\n\t\t\tvar isDocumentAreaPopup = data.popupParent === '_POPOVER_'\n\t\t\t\t&& data.posx !== undefined && data.posy !== undefined;\n\t\t\tvar isCalc = this.map._docLayer ? (this.map._docLayer._docType === 'spreadsheet') : false;\n\t\t\tvar isAutofilter = isDocumentAreaPopup && isCalc;\n\n\t\t\tvar isPopupJson = (data.jsontype === 'popup' || data.type === 'modalpopup' || data.type === 'snackbar');\n\t\t\t// show autofilter as regular mobile wizard for compatibility with older version\n\t\t\tvar isPopup = !isAutofilter && isPopupJson;\n\t\t\tvar isSidebar = false;\n\t\t\tif (data.children) {\n\t\t\t\tfor (var i in data.children) {\n\t\t\t\t\tif (data.children[i].type == 'deck')\n\t\t\t\t\t\tisSidebar = true;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (!this._isActive && isSidebar) {\n\t\t\t\tif (this.map.showSidebar == false)\n\t\t\t\t\treturn;\n\t\t\t}\n\t\t\tif (isSidebar && !this.map.showSidebar) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tvar isMobileDialog = data.id && !isNaN(data.id) && !isSidebar;\n\t\t\tif (isMobileDialog) {\n\t\t\t\t// id is a number - remember window id for interaction\n\t\t\t\twindow.mobileDialogId = data.id;\n\t\t\t\t//dialogid is string - name of the dialog in json\n\t\t\t\tif (data.dialogid)\n\t\t\t\t\tthis._dialogid = data.dialogid;\n\t\t\t}\n\n\t\t\tthis._isActive = true;\n\t\t\tvar currentPath = null;\n\t\t\tvar lastScrollPosition = null;\n\t\t\tvar alreadyOpen = this.isOpen();\n\n\t\t\tif (this._currentPath)\n\t\t\t\tcurrentPath = this._currentPath;\n\t\t\tif (this._currentScrollPosition)\n\t\t\t\tlastScrollPosition = this._currentScrollPosition;\n\n\t\t\tif (isPopup) {\n\t\t\t\tvar popupContainer = $('.mobile-popup-container:visible');\n\t\t\t\tif (popupContainer.length) {\n\t\t\t\t\t// for menubutton we inject popup into menu structure\n\t\t\t\t\tif (data.action === 'close' || data.action === 'fadeout') {\n\t\t\t\t\t\tthis.goLevelUp();\n\t\t\t\t\t\tpopupContainer.empty();\n\t\t\t\t\t} else {\n\t\t\t\t\t\tthis.backButton.hide();\n\t\t\t\t\t\tpopupContainer.empty();\n\t\t\t\t\t\tif (!this._builder) {\n\t\t\t\t\t\t\tthis._builder = L.control.mobileWizardBuilder(\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\twindowId: data.id,\n\t\t\t\t\t\t\t\t\tmobileWizard: this,\n\t\t\t\t\t\t\t\t\tmap: this.map,\n\t\t\t\t\t\t\t\t\tcssClass: 'mobile-wizard',\n\t\t\t\t\t\t\t\t\tuseSetTabs: true\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t}\n\t\t\t\t\t\tthis._builder.build(popupContainer.get(0), [data]);\n\t\t\t\t\t}\n\n\t\t\t\t\tthis._inBuilding = false;\n\t\t\t\t\treturn;\n\t\t\t\t} else if (data.action === 'close' || data.action === 'fadeout') {\n\t\t\t\t\tthis.parent.removeWindow(this);\n\t\t\t\t\treturn;\n\t\t\t\t} else {\n\t\t\t\t\t// normal popup - continue to open mobile wizard\n\t\t\t\t\tvar overlay = L.DomUtil.create('div', 'mobile-wizard jsdialog-overlay ' + (data.cancellable ? 'cancellable' : ''), document.body);\n\t\t\t\t\tvar that = this;\n\t\t\t\t\tif (data.cancellable) {\n\t\t\t\t\t\toverlay.onclick = function () {\n\t\t\t\t\t\t\tthat.parent.removeWindow(that);\n\t\t\t\t\t\t\tthat._builder.callback('popover', 'close', {id: '__POPOVER__'}, null, that._builder);\n\t\t\t\t\t\t};\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tthis._reset();\n\t\t\tthis.isPopup = isPopupJson;\n\t\t\tthis.isAutoCompletePopup = data.isAutoCompletePopup;\n\t\t\tthis.isPopupPartialScreen = data.isPopupPartialScreen;\n\t\t\tthis.persistKeyboard = data.persistKeyboard;\n\n\t\t\tthis._showWizard();\n\t\t\tif (this.map._docLayer && !this.map._docLayer.isCalc() && !this.persistKeyboard) {\n\t\t\t\t// In Calc, the wizard is used for the formulas,\n\t\t\t\t// and it's easier to allow the user to search\n\t\t\t\t// for a formula by typing the first few characters.\n\t\t\t\tthis._hideKeyboard();\n\t\t\t}\n\n\t\t\t// Morph the sidebar into something prettier\n\t\t\tif (isSidebar)\n\t\t\t\tthis._modifySidebarLayout(data);\n\n\t\t\tif (!alreadyOpen) {\n\t\t\t\thistory.pushState({context: 'mobile-wizard'}, 'mobile-wizard-opened');\n\t\t\t\thistory.pushState({context: 'mobile-wizard', level: 0}, 'mobile-wizard-level-0');\n\t\t\t\tthis.mobileWizard.scrollTop(0);\n\t\t\t}\n\n\t\t\tif (!this._builder) {\n\t\t\t\tthis._builder = L.control.mobileWizardBuilder(\n\t\t\t\t\t{\n\t\t\t\t\t\twindowId: data.id,\n\t\t\t\t\t\tmobileWizard: this,\n\t\t\t\t\t\tmap: this.map,\n\t\t\t\t\t\tcssClass: 'mobile-wizard',\n\t\t\t\t\t\tcallback: callback,\n\t\t\t\t\t\tuseSetTabs: true\n\t\t\t\t\t});\n\t\t\t}\n\t\t\tthis._builder.build(this.content, [data]);\n\t\t\tif (window.ThisIsTheAndroidApp)\n\t\t\t\twindow.postMobileMessage('hideProgressbar');\n\n\t\t\tthis._mainTitle = data.text ? data.text : '';\n\t\t\tthis._customTitle = data.customTitle;\n\n\t\t\tthis._customTitle ? this._setCustomTitle(this._customTitle) : this._setTitle(this._mainTitle);\n\n\t\t\tif (data.id === 'menubar' || data.id === 'insertshape') {\n\t\t\t\tdocument.getElementById('mobile-wizard').style.height = '100vh';\n\t\t\t\tif (data.id === 'menubar')\n\t\t\t\t\tthis.isHamburgerMenu = true;\n\t\t\t\telse if (data.id === 'insertshape') {\n\t\t\t\t\tthis.isShapesWizard = true;\n\t\t\t\t}\n\t\t\t\t$('#mobile-wizard').css('top', $('#document-container').css('top'));\n\t\t\t} else if (data.id === 'funclist') {\n\t\t\t\tdocument.getElementById('mobile-wizard').style.height = '100vh';\n\t\t\t\t$('#mobile-wizard').css('top', $('#document-container').css('top'));\n\t\t\t\tthis.isFunctionMenu = true;\n\t\t\t}\n\t\t\telse if (data.id === 'modal-dialog-about-dialog-box' || data.id === 'modal-dialog-unlock-features-popup') {\n\t\t\t\tisPopup = true;\n\t\t\t} else {\n\t\t\t\tdocument.getElementById('mobile-wizard').style.height = this.options.maxHeight;\n\t\t\t\t$('#mobile-wizard').css('top', '');\n\t\t\t}\n\t\t\tif (!this.map._docLoaded && !isPopup) {\n\t\t\t\t$('#mobile-wizard').height('100%');\n\t\t\t\t// Turn backButton icon from down to actually back\n\t\t\t\t// since it does not hide it, instead it goes back in this case\n\t\t\t\tthis.backButton.removeClass('close-button');\n\t\t\t}\n\t\t\tif (this._isActive && currentPath.length) {\n\t\t\t\tthis._goToPath(currentPath);\n\t\t\t\tthis._scrollToPosition(lastScrollPosition);\n\t\t\t}\n\n\t\t\tif (isPopup) {\n\t\t\t\t// force hide scroll indicator while its showing/hidding is not fixed\n\t\t\t\t$('.mobile-wizard-scroll-indicator').hide();\n\n\t\t\t\tthis.titleBar.hide();\n\n\t\t\t\tif (data.type === 'snackbar') {\n\t\t\t\t\tvar that = this;\n\t\t\t\t\tthis.isSnackBar = true;\n\t\t\t\t\tthis.snackBarTimout = setTimeout(function () { that.parent.removeWindow(that); }, data.timeout ? data.timeout : this.options.snackbarTimeout);\n\t\t\t\t}\n\t\t\t\telse if (data.id === 'busypopup') {\n\t\t\t\t\tvar that = this;\n\t\t\t\t\tthis.isBusyPopUp = true;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tthis._applySpecialClasses();\n\t\t\tthis._inBuilding = false;\n\t\t}\n\t},\n\n\t_isSlidePropertyPanel: function(data) {\n\t\tvar backgroundPanel = app.LOUtil.findItemWithAttributeRecursive(data, 'id', 'SlideBackgroundPanel');\n\t\tvar layoutPanel = app.LOUtil.findItemWithAttributeRecursive(data, 'id', 'SdLayoutsPanel');\n\t\treturn backgroundPanel && layoutPanel;\n\t},\n\n\t_insertCalcBorders: function(deck) {\n\t\tvar replaceMe = app.LOUtil.findItemWithAttributeRecursive(deck, 'id', 'cellbordertype');\n\t\tif (replaceMe) {\n\t\t\treplaceMe.id = 'borderstyle';\n\t\t\treplaceMe.type = 'borderstyle';\n\t\t\treplaceMe.text = '';\n\t\t\treplaceMe.enabled = 'true';\n\t\t\treplaceMe.children = [];\n\t\t}\n\t},\n\n\t_modifySidebarLayout: function (data) {\n\t\tif (data.children && data.children.length && data.children[0].type !== 'deck')\n\t\t\tdata.children.splice(0, 1);\n\n\t\tvar deck = app.LOUtil.findItemWithAttributeRecursive(data, 'type', 'deck');\n\t\tif (deck)\n\t\t{\n\t\t\t// merge styles into text-panel for elegance\n\t\t\tvar stylesIdx = app.LOUtil.findIndexInParentByAttribute(deck, 'name', 'StylesPropertyPanel');\n\t\t\tvar textIdx = app.LOUtil.findIndexInParentByAttribute(deck, 'name', 'TextPropertyPanel');\n\n\t\t\tif (stylesIdx >= 0 && this.map.getDocType() === 'spreadsheet')\n\t\t\t{       // remove rather useless calc styles panel\n\t\t\t\tdeck.children.splice(stylesIdx, 1);\n\t\t\t}\n\t\t\telse if (stylesIdx >= 0 && textIdx >= 0)\n\t\t\t{\n\t\t\t\tvar moveContent = deck.children[stylesIdx].children[0].children;\n\t\t\t\tdeck.children[textIdx].children[0].children = moveContent.concat(deck.children[textIdx].children[0].children);\n\t\t\t\tdeck.children.splice(stylesIdx, 1); //remove the styles property\n\t\t\t}\n\t\t\tvar removeItems = ['borderlinestyle', 'editcontour', 'spacingbar',\n\t\t\t\t\t   'linespacing', 'stylenew', 'styleupdate',\n\t\t\t\t\t   'beginarrowstyle', 'endarrowstyle'];\n\n\t\t\tif (this.map.getDocType() === 'presentation')\n\t\t\t\tremoveItems.push('indentfieldbox');\n\n\t\t\tthis._removeItems(deck, removeItems);\n\n\t\t\tthis._insertCalcBorders(deck);\n\t\t}\n\t},\n\n\t_removeItems: function (data, items) {\n\t\tif (data.children) {\n\t\t\tfor (var i = 0; i < data.children.length;) {\n\t\t\t\tvar childRemoved = false;\n\t\t\t\tfor (var j = 0; j < items.length; j++) {\n\t\t\t\t\tif (data.children[i].id === items[j]) {\n\t\t\t\t\t\tdata.children.splice(i, 1);\n\t\t\t\t\t\tchildRemoved = true;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tif (!childRemoved)\n\t\t\t\t{\n\t\t\t\t\tif (data.children[i])\n\t\t\t\t\t\tthis._removeItems(data.children[i], items);\n\t\t\t\t\ti++;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t},\n\n\tonJSUpdate: function (e) {\n\t\tvar data = e.data;\n\n\t\tif (data.jsontype === 'notebookbar')\n\t\t\treturn;\n\n\t\tvar container = this.content;\n\t\tif (!container)\n\t\t\treturn;\n\n\t\tvar control = container.querySelector('[id=\\'' + data.control.id + '\\']');\n\t\tif (!control) {\n\t\t\twindow.app.console.warn('jsdialogupdate: not found control with id: \"' + data.control.id + '\"');\n\t\t\treturn;\n\t\t}\n\n\t\tvar parent = control.parentNode;\n\t\tif (!parent)\n\t\t\treturn;\n\n\t\tvar scrollTop = control.scrollTop;\n\t\tvar wasHidden = control.style.display === 'none';\n\n\t\tcontrol.style.visibility = 'hidden';\n\t\tif (!this._builder)\n\t\t\treturn;\n\n\t\tthis._inBuilding = true;\n\n\t\t// preserve the same level for control\n\t\tvar classList = control.className.split(' ');\n\t\tvar currentLevel = null;\n\t\tfor (var i in classList) {\n\t\t\tif (classList[i].indexOf('level-') >= 0) {\n\t\t\t\tcurrentLevel = classList[i];\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\n\t\tif (currentLevel) {\n\t\t\tcurrentLevel = parseInt(currentLevel.substring('level-'.length));\n\t\t\tthis._builder._currentDepth = currentLevel;\n\t\t}\n\n\t\tvar temporaryParent = L.DomUtil.create('div');\n\t\tthis._builder.build(temporaryParent, [data.control], false);\n\t\tparent.insertBefore(temporaryParent.firstChild, control.nextSibling);\n\t\tvar backupGridSpan = control.style.gridColumn;\n\t\tL.DomUtil.remove(control);\n\n\t\t// reset _builder._currentDepth\n\t\tthis._builder._currentDepth = 0;\n\n\t\t// when we updated toolbox or menubutton with color picker we need to leave\n\t\t// mobile wizard at the same level (opened color picker) on update\n\t\tif (this._currentPath.length) {\n\t\t\tvar elem = $('[title=\\'' + this._currentPath[this._currentPath.length - 1] + '\\'').prev(':visible');\n\t\t\tif (elem.length) {\n\t\t\t\t// we already were at this level so go back one step and enter again\n\t\t\t\tthis._currentPath.pop();\n\t\t\t\tthis._currentDepth--;\n\t\t\t\t$(elem).trigger('click', {animate: false});\n\t\t\t}\n\t\t}\n\n\t\tvar newControl = container.querySelector('[id=\\'' + data.control.id + '\\']');\n\t\tif (newControl) {\n\t\t\tif (wasHidden)\n\t\t\t\tnewControl.style.display = 'none';\n\n\t\t\tnewControl.scrollTop = scrollTop;\n\t\t\tnewControl.style.gridColumn = backupGridSpan;\n\t\t}\n\n\t\t// avoid scrolling when adding new bigger elements to the view\n\t\t$(this.content).animate({ scrollTop: this._currentScrollPosition }, 0);\n\n\t\tthis._inBuilding = false;\n\t},\n\n\tonJSAction: function (e) {\n\t\tvar data = e.data;\n\n\t\tif (data.jsontype === 'notebookbar')\n\t\t\treturn;\n\n\t\tif (!this._builder)\n\t\t\treturn;\n\n\t\tif (!this.content)\n\t\t\treturn;\n\n\t\t// Panels share the same name for main containers, do not execute actions for them\n\t\t// if panel has to be shown or hidden, full update will appear\n\t\tif (data.data && data.jsontype === 'sidebar' &&\n\t\t\t(data.data.control_id === 'contents' ||\n\t\t\tdata.data.control_id === 'Panel' ||\n\t\t\tdata.data.control_id === 'titlebar')) {\n\t\t\twindow.app.console.log('Ignored action: ' + data.data.action_type + ' for control: ' + data.data.control_id);\n\t\t\treturn;\n\t\t}\n\n\t\tthis._builder.executeAction(this.content, data.data);\n\t},\n});\n\nL.control.mobileWizardWindow = function (mobileWizard, id) {\n\treturn new L.Control.MobileWizardWindow(mobileWizard, id);\n};\n"]}