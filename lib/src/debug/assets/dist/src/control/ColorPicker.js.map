{"version":3,"file":"ColorPicker.js","sourceRoot":"","sources":["../../../../../../../../../../TanhX/online/browser/src/control/ColorPicker.ts"],"names":[],"mappings":"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","sourcesContent":["// @ts-strict-ignore\n/* -*- js-indent-level: 8 -*- */\n/*\n * Copyright the Collabora Online contributors.\n *\n * SPDX-License-Identifier: MPL-2.0\n *\n * This Source Code Form is subject to the terms of the Mozilla Public\n * License, v. 2.0. If a copy of the MPL was not distributed with this\n * file, You can obtain one at http://mozilla.org/MPL/2.0/.\n */\n/*\n * L.ColorPicker is used for building a native HTML color picker\n * panel to be used by the properties mobile wizard.\n */\n\n/* global _ */\n\ntype ColorTypes = 'BASIC_COLOR' | 'TINT';\n\ninterface ColorPickerOptions {\n\tselectedColor: string;\n\tnoColorControl: boolean;\n\tautoColorControl: boolean;\n\tselectionCallback: (color: string) => unknown;\n}\n\ninterface ColorEvent {\n\tid: string;\n}\n\nclass ColorPicker {\n\toptions: ColorPickerOptions;\n\n\t_selectedBasicColorIndex: number;\n\t_selectedTintIndex: number;\n\n\tstatics = {\n\t\tID: 0,\n\t\tID_TAG: 'color-picker-',\n\n\t\t// we need a tight layout in order to be able to show 11 colors as in gdoc\n\t\tBASIC_COLORS: [\n\t\t\t'#000000',\n\t\t\t'#980000',\n\t\t\t'#ff0000',\n\t\t\t'#ff9900',\n\t\t\t'#ffff00',\n\t\t\t'#00ff00',\n\t\t\t'#00ffff' /*'#4a86e8',*/,\n\t\t\t'#0000ff',\n\t\t\t'#9900ff',\n\t\t\t'#ff00ff',\n\t\t] as const,\n\t\tTINTS: {\n\t\t\t'#000000': [\n\t\t\t\t'#000000',\n\t\t\t\t'#434343',\n\t\t\t\t'#666666',\n\t\t\t\t'#888888',\n\t\t\t\t'#bbbbbb',\n\t\t\t\t'#dddddd',\n\t\t\t\t'#eeeeee',\n\t\t\t\t'#ffffff',\n\t\t\t],\n\t\t\t'#980000': [\n\t\t\t\t'#5b0f00',\n\t\t\t\t'#85200c',\n\t\t\t\t'#a61c00',\n\t\t\t\t'#980000',\n\t\t\t\t'#cc4125',\n\t\t\t\t'#dd7e6b',\n\t\t\t\t'#e6b8af',\n\t\t\t\t'#ffffff',\n\t\t\t],\n\t\t\t'#ff0000': [\n\t\t\t\t'#660000',\n\t\t\t\t'#990000',\n\t\t\t\t'#cc0000',\n\t\t\t\t'#ff0000',\n\t\t\t\t'#e06666',\n\t\t\t\t'#ea9999',\n\t\t\t\t'#f4cccc',\n\t\t\t\t'#ffffff',\n\t\t\t],\n\t\t\t'#ff9900': [\n\t\t\t\t'#783f04',\n\t\t\t\t'#b45f06',\n\t\t\t\t'#e69138',\n\t\t\t\t'#ff9900',\n\t\t\t\t'#f6b26b',\n\t\t\t\t'#f9cb9c',\n\t\t\t\t'#fce5cd',\n\t\t\t\t'#ffffff',\n\t\t\t],\n\t\t\t'#ffff00': [\n\t\t\t\t'#7f6000',\n\t\t\t\t'#bf9000',\n\t\t\t\t'#f1c232',\n\t\t\t\t'#ffff00',\n\t\t\t\t'#ffd966',\n\t\t\t\t'#ffe599',\n\t\t\t\t'#fff2cc',\n\t\t\t\t'#ffffff',\n\t\t\t],\n\t\t\t'#00ff00': [\n\t\t\t\t'#274e13',\n\t\t\t\t'#38761d',\n\t\t\t\t'#6aa84f',\n\t\t\t\t'#00ff00',\n\t\t\t\t'#93c47d',\n\t\t\t\t'#b6d7a8',\n\t\t\t\t'#d9ead3',\n\t\t\t\t'#ffffff',\n\t\t\t],\n\t\t\t'#00ffff': [\n\t\t\t\t'#0c343d',\n\t\t\t\t'#134f5c',\n\t\t\t\t'#45818e',\n\t\t\t\t'#00ffff',\n\t\t\t\t'#76a5af',\n\t\t\t\t'#a2c4c9',\n\t\t\t\t'#d0e0e3',\n\t\t\t\t'#ffffff',\n\t\t\t],\n\t\t\t// '#4a86e8': ['#1c4587', '#1155cc', '#3c78d8', '#4a86e8',\n\t\t\t// \t'#6d9eeb', '#a4c2f4', '#c9daf8', '#ffffff'],\n\t\t\t'#0000ff': [\n\t\t\t\t'#073763',\n\t\t\t\t'#0b5394',\n\t\t\t\t'#3d85c6',\n\t\t\t\t'#0000ff',\n\t\t\t\t'#6fa8dc',\n\t\t\t\t'#9fc5e8',\n\t\t\t\t'#cfe2f3',\n\t\t\t\t'#ffffff',\n\t\t\t],\n\t\t\t'#9900ff': [\n\t\t\t\t'#20124d',\n\t\t\t\t'#351c75',\n\t\t\t\t'#674ea7',\n\t\t\t\t'#9900ff',\n\t\t\t\t'#8e7cc3',\n\t\t\t\t'#b4a7d6',\n\t\t\t\t'#d9d2e9',\n\t\t\t\t'#ffffff',\n\t\t\t],\n\t\t\t'#ff00ff': [\n\t\t\t\t'#4c1130',\n\t\t\t\t'#741b47',\n\t\t\t\t'#a64d79',\n\t\t\t\t'#ff00ff',\n\t\t\t\t'#c27ba0',\n\t\t\t\t'#d5a6bd',\n\t\t\t\t'#ead1dc',\n\t\t\t\t'#ffffff',\n\t\t\t],\n\t\t} as const,\n\t};\n\n\t_pickerID: number;\n\t_basicColorSampleIdTag: string;\n\t_tintSampleIdTag: string;\n\t_noColorControlId: string;\n\t_autoColorControlId: string;\n\n\t_selectedColorElement: HTMLElement | undefined;\n\n\t_selectedColor: ColorPickerOptions['selectedColor'];\n\t_selectionCallback: ColorPickerOptions['selectionCallback'];\n\t_container: ReturnType<ColorPicker['_createControl']>;\n\n\t_initialized: boolean;\n\n\t_basicColorSelectionMark: HTMLElement;\n\n\tconstructor(\n\t\tselectedColorSample: HTMLElement | undefined,\n\t\toptions: ColorPickerOptions,\n\t) {\n\t\tthis.options = Object.assign(\n\t\t\t{\n\t\t\t\tselectedColor: '#ff0000',\n\t\t\t\tnoColorControl: true,\n\t\t\t\tautoColorControl: false,\n\t\t\t\tselectionCallback: (_: string) => {\n\t\t\t\t\t/* no-op */\n\t\t\t\t},\n\t\t\t},\n\t\t\toptions,\n\t\t);\n\n\t\tif (this.options.noColorControl && this.options.autoColorControl) {\n\t\t\tthis.options.autoColorControl = false;\n\t\t\twindow.app.console.warn(\n\t\t\t\t'L.ColorPicker: requested both no color and auto color control',\n\t\t\t);\n\t\t}\n\n\t\tthis._selectedBasicColorIndex = 0;\n\t\tthis._selectedTintIndex = 0;\n\n\t\tconst pickerID = this.statics.ID++;\n\n\t\tthis._basicColorSampleIdTag =\n\t\t\tthis.statics.ID_TAG + pickerID + '-basic-color-';\n\t\tthis._tintSampleIdTag = this.statics.ID_TAG + pickerID + '-tint-';\n\t\tthis._noColorControlId = this.statics.ID_TAG + pickerID + '-no-color';\n\t\tthis._autoColorControlId = this.statics.ID_TAG + pickerID + '-auto-color';\n\t\tthis._createBasicColorSelectionMark();\n\t\tthis._selectedColorElement = selectedColorSample;\n\t\tthis._selectedColor = this.options.selectedColor;\n\t\tthis._selectionCallback = this.options.selectionCallback;\n\t\tthis._initIndexes();\n\t\tthis._container = this._createControl();\n\t\tthis._initialized = true;\n\t}\n\n\tgetContainer() {\n\t\treturn this._container;\n\t}\n\n\tonShow = () => {\n\t\tif (!this._initialized || this._selectedColor === '#') return;\n\t\tthis._initIndexes();\n\t\tthis._updateTintsView();\n\t};\n\n\t_initIndexes() {\n\t\tfor (var i = 0; i < this._getBasicColorCount(); ++i) {\n\t\t\tvar tintSet = this._getTintSet(i);\n\t\t\tif (!tintSet) return;\n\t\t\tfor (var j = 0; j < tintSet.length; ++j) {\n\t\t\t\tvar tint = tintSet[j];\n\t\t\t\tif (tint === this._selectedColor) {\n\t\t\t\t\tthis._selectedBasicColorIndex = i;\n\t\t\t\t\tthis._selectedTintIndex = j;\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\t_createControl() {\n\t\tvar children = [];\n\t\tif (this.options.noColorControl || this.options.autoColorControl)\n\t\t\tchildren.push(this._createPseudoColorControl());\n\t\tchildren.push(this._createBasicColorSamples());\n\t\tchildren.push(this._createTintSamples());\n\t\treturn {\n\t\t\ttype: 'divcontainer',\n\t\t\tstyle: 'colors-container',\n\t\t\tchildren: children,\n\t\t};\n\t}\n\n\t_createPseudoColorControl() {\n\t\tvar noColorControl = this.options.noColorControl;\n\t\tvar icon = {\n\t\t\ttype: 'fixedtext',\n\t\t\ttext: '',\n\t\t\tstyle: noColorControl\n\t\t\t\t? 'no-color-control-icon'\n\t\t\t\t: 'auto-color-control-icon',\n\t\t};\n\t\tvar label = noColorControl\n\t\t\t? {\n\t\t\t\t\ttype: 'fixedtext',\n\t\t\t\t\tstyle: 'no-color-control-label',\n\t\t\t\t\ttext: _('No color'),\n\t\t\t\t}\n\t\t\t: {\n\t\t\t\t\ttype: 'fixedtext',\n\t\t\t\t\tstyle: 'auto-color-control-label',\n\t\t\t\t\ttext: _('Automatic color'),\n\t\t\t\t};\n\t\tvar description = { type: 'divcontainer', children: [icon, label] };\n\t\tvar checked = noColorControl\n\t\t\t? {\n\t\t\t\t\ttype: 'fixedtext',\n\t\t\t\t\tid: this._noColorControlId,\n\t\t\t\t\tstyle: 'no-color-control-mark',\n\t\t\t\t\ttext: '',\n\t\t\t\t}\n\t\t\t: {\n\t\t\t\t\ttype: 'fixedtext',\n\t\t\t\t\tid: this._autoColorControlId,\n\t\t\t\t\tstyle: 'auto-color-control-mark',\n\t\t\t\t\ttext: '',\n\t\t\t\t};\n\t\tvar container = {\n\t\t\ttype: 'divcontainer',\n\t\t\tstyle: noColorControl\n\t\t\t\t? 'colors-container-no-color-row'\n\t\t\t\t: 'colors-container-auto-color-row',\n\t\t\thandlers: [\n\t\t\t\t{ event: 'click', handler: L.bind(this.onClickPseudoColor, this) },\n\t\t\t],\n\t\t\tchildren: [description, checked],\n\t\t};\n\t\treturn container;\n\t}\n\n\t_createBasicColorSamples() {\n\t\tvar colorEntries = [];\n\t\tfor (var k = 0; k < this._getBasicColorCount(); ++k) {\n\t\t\tvar selected = k === this._selectedBasicColorIndex;\n\t\t\tvar entry: {\n\t\t\t\ttype: 'colorsample';\n\t\t\t\tid: string;\n\t\t\t\tselected: boolean;\n\t\t\t\tcolor: string;\n\t\t\t\tsize: 'small';\n\t\t\t\thandlers: [{ event: 'click'; handler: (event: ColorEvent) => void }];\n\t\t\t\tmark?: HTMLElement;\n\t\t\t} = {\n\t\t\t\ttype: 'colorsample',\n\t\t\t\tid: this._basicColorSampleIdTag + k,\n\t\t\t\tselected: selected,\n\t\t\t\tcolor: this._getBasicColor(k),\n\t\t\t\tsize: 'small',\n\t\t\t\thandlers: [\n\t\t\t\t\t{\n\t\t\t\t\t\tevent: 'click',\n\t\t\t\t\t\thandler: L.bind(this.onClickBasicColorSample, this),\n\t\t\t\t\t},\n\t\t\t\t],\n\t\t\t};\n\t\t\tif (selected) {\n\t\t\t\tentry.mark = this._basicColorSelectionMark;\n\t\t\t}\n\t\t\tcolorEntries.push(entry);\n\t\t}\n\t\treturn {\n\t\t\ttype: 'divcontainer',\n\t\t\tstyle: 'colors-container-basic-colors-row',\n\t\t\tchildren: colorEntries,\n\t\t};\n\t}\n\n\t_createTintSamples() {\n\t\tvar tints = this._getTintSet(this._selectedBasicColorIndex);\n\t\tvar k,\n\t\t\tselected,\n\t\t\tentry,\n\t\t\ttintRowLength = tints.length / 2;\n\n\t\t// first tints row\n\t\tvar tintsEntries1 = [];\n\t\tfor (k = 0; k < tintRowLength; ++k) {\n\t\t\tselected = tints[k] === this._selectedColor;\n\t\t\tentry = {\n\t\t\t\ttype: 'colorsample',\n\t\t\t\tid: this._tintSampleIdTag + k,\n\t\t\t\tselected: selected,\n\t\t\t\tcolor: tints[k],\n\t\t\t\tsize: 'big',\n\t\t\t\thandlers: [\n\t\t\t\t\t{ event: 'click', handler: L.bind(this.onClickTintSample, this) },\n\t\t\t\t],\n\t\t\t};\n\t\t\ttintsEntries1.push(entry);\n\t\t}\n\t\tvar tintsRow1 = {\n\t\t\ttype: 'divcontainer',\n\t\t\tstyle: 'colors-container-tints',\n\t\t\tchildren: tintsEntries1,\n\t\t};\n\n\t\t// second tints row\n\t\tvar tintsEntries2 = [];\n\t\tfor (k = tintRowLength; k < tints.length; ++k) {\n\t\t\tselected = tints[k] === this._selectedColor;\n\t\t\tentry = {\n\t\t\t\ttype: 'colorsample',\n\t\t\t\tid: this._tintSampleIdTag + k,\n\t\t\t\tselected: selected,\n\t\t\t\tcolor: tints[k],\n\t\t\t\tsize: 'big',\n\t\t\t\thandlers: [\n\t\t\t\t\t{ event: 'click', handler: L.bind(this.onClickTintSample, this) },\n\t\t\t\t],\n\t\t\t};\n\t\t\ttintsEntries2.push(entry);\n\t\t}\n\t\tvar tintsRow2 = {\n\t\t\ttype: 'divcontainer',\n\t\t\tstyle: 'colors-container-tints',\n\t\t\tchildren: tintsEntries2,\n\t\t};\n\n\t\treturn { type: 'divcontainer', children: [tintsRow1, tintsRow2] };\n\t}\n\n\t_createBasicColorSelectionMark() {\n\t\tthis._basicColorSelectionMark = L.DomUtil.create(\n\t\t\t'div',\n\t\t\t'colors-container-basic-color-mark',\n\t\t\tnull,\n\t\t);\n\t}\n\n\t_getBasicColorCount() {\n\t\treturn this.statics.BASIC_COLORS.length;\n\t}\n\n\t_getBasicColor(\n\t\tindex: number,\n\t): (typeof this.statics.BASIC_COLORS)[number] | '' {\n\t\tif (!(index >= 0 && index < this.statics.BASIC_COLORS.length)) {\n\t\t\treturn '';\n\t\t}\n\t\treturn this.statics.BASIC_COLORS[index];\n\t}\n\n\t_getTintSet(basicColorIndex: number) {\n\t\tconst basicColor = this._getBasicColor(basicColorIndex);\n\n\t\tif (basicColor === '') return [] as const;\n\n\t\treturn this.statics.TINTS[basicColor];\n\t}\n\n\t_extractBasicColorIndex(sampleId: string) {\n\t\tif (!sampleId.startsWith(this._basicColorSampleIdTag)) return -1;\n\t\tvar index = parseInt(\n\t\t\tsampleId.substring(this._basicColorSampleIdTag.length),\n\t\t);\n\t\tif (index < 0 || index >= this._getBasicColorCount()) return -1;\n\t\treturn index;\n\t}\n\n\t_extractTintIndex(sampleId: string) {\n\t\tif (!sampleId.startsWith(this._tintSampleIdTag)) return -1;\n\t\tvar index = parseInt(sampleId.substring(this._tintSampleIdTag.length));\n\t\tif (\n\t\t\tindex < 0 ||\n\t\t\tindex >= this._getTintSet(this._selectedBasicColorIndex).length\n\t\t)\n\t\t\treturn -1;\n\t\treturn index;\n\t}\n\n\t_getColorCode(colorIndex: number, colorType: ColorTypes): string {\n\t\tvar sampleElem = this._getSampleElement(colorIndex, colorType);\n\t\treturn sampleElem.name;\n\t}\n\n\tonClickPseudoColor() {\n\t\tthis._selectedColor = '#';\n\t\tthis._unselectSample(this._selectedTintIndex, 'TINT');\n\t\tthis._updatePseudoColorControl(true);\n\t\t// transparent is fine for both no color and automatic color\n\t\tthis._selectionCallback('transparent');\n\t}\n\n\tonClickBasicColorSample(e: ColorEvent) {\n\t\tvar basicColorIndex = this._extractBasicColorIndex(e.id);\n\t\tif (basicColorIndex < 0) return;\n\t\tthis._selectedBasicColorIndex = this._updateSelectedSample(\n\t\t\tbasicColorIndex,\n\t\t\tthis._selectedBasicColorIndex,\n\t\t\t'BASIC_COLOR',\n\t\t);\n\t\tthis._updateTintsView();\n\t\tthis._selectTintIndex(3);\n\t}\n\n\tonClickTintSample(e: ColorEvent) {\n\t\tvar tintIndex = this._extractTintIndex(e.id);\n\t\tif (tintIndex < 0) return;\n\t\tthis._selectTintIndex(tintIndex);\n\t}\n\n\t_selectTintIndex(tintIndex: number) {\n\t\tthis._selectedTintIndex = this._updateSelectedSample(\n\t\t\ttintIndex,\n\t\t\tthis._selectedTintIndex,\n\t\t\t'TINT',\n\t\t);\n\t\tthis._selectedColor =\n\t\t\t'#' + this._getColorCode(this._selectedTintIndex, 'TINT');\n\t\tthis._updatePseudoColorControl(false);\n\t\tthis._updateSelectedColorElement();\n\t\tthis._selectionCallback(\n\t\t\tthis._getColorCode(this._selectedTintIndex, 'TINT'),\n\t\t);\n\t}\n\n\t_updateSelectedSample(\n\t\tcolorIndex: number,\n\t\tselectedColorIndex: number,\n\t\tcolorType: ColorTypes,\n\t) {\n\t\tthis._unselectSample(selectedColorIndex, colorType);\n\t\tthis._selectSample(colorIndex, colorType);\n\t\treturn colorIndex;\n\t}\n\n\t_unselectSample(colorIndex: number, colorType: ColorTypes) {\n\t\tvar sampleElem = this._getSampleElement(colorIndex, colorType);\n\t\tif (sampleElem && sampleElem.firstChild) {\n\t\t\tif (colorType === 'BASIC_COLOR') {\n\t\t\t\tsampleElem.removeChild(sampleElem.firstChild);\n\t\t\t\tL.DomUtil.removeClass(\n\t\t\t\t\tsampleElem,\n\t\t\t\t\t'colors-container-selected-basic-color',\n\t\t\t\t);\n\t\t\t} else if (colorType === 'TINT') {\n\t\t\t\tconst child: ChildNode & { style?: HTMLElement['style'] } =\n\t\t\t\t\tsampleElem.firstChild;\n\n\t\t\t\tif (!('style' in child)) {\n\t\t\t\t\tthrow new Error(\n\t\t\t\t\t\t'Assertion failed: sampleElem.firstChild is not a HTMLElement',\n\t\t\t\t\t);\n\t\t\t\t}\n\n\t\t\t\tchild.style.visibility = 'hidden';\n\t\t\t}\n\t\t}\n\t}\n\n\t_selectSample(colorIndex: number, colorType: ColorTypes) {\n\t\tvar sampleElem = this._getSampleElement(colorIndex, colorType);\n\t\tif (sampleElem) {\n\t\t\tif (colorType === 'BASIC_COLOR') {\n\t\t\t\tsampleElem.appendChild(this._basicColorSelectionMark);\n\t\t\t\tL.DomUtil.addClass(sampleElem, 'colors-container-selected-basic-color');\n\t\t\t} else if (colorType === 'TINT' && sampleElem.firstChild) {\n\t\t\t\tconst child: ChildNode & { style?: HTMLElement['style'] } =\n\t\t\t\t\tsampleElem.firstChild;\n\n\t\t\t\tif (!('style' in child)) {\n\t\t\t\t\tthrow new Error(\n\t\t\t\t\t\t'Assertion failed: sampleElem.firstChild is not a HTMLElement',\n\t\t\t\t\t);\n\t\t\t\t}\n\n\t\t\t\tchild.style.visibility = 'visible';\n\t\t\t}\n\t\t}\n\t}\n\n\t_updateTintsView() {\n\t\tvar tintSet = this._getTintSet(this._selectedBasicColorIndex);\n\t\tif (!tintSet) return;\n\t\tfor (var i = 0; i < tintSet.length; ++i) {\n\t\t\tvar tint = tintSet[i];\n\t\t\tvar sampleElem = this._getSampleElement(i, 'TINT');\n\t\t\tif (sampleElem) {\n\t\t\t\tsampleElem.style.backgroundColor = tint;\n\t\t\t\tsampleElem.name = tint.substring(1);\n\t\t\t\tif (sampleElem.firstChild) {\n\t\t\t\t\tconst child: ChildNode & { style?: HTMLElement['style'] } =\n\t\t\t\t\t\tsampleElem.firstChild;\n\n\t\t\t\t\tif (!('style' in child)) {\n\t\t\t\t\t\tthrow new Error(\n\t\t\t\t\t\t\t'Assertion failed: sampleElem.firstChild is not a HTMLElement',\n\t\t\t\t\t\t);\n\t\t\t\t\t}\n\n\t\t\t\t\tif (tint === this._selectedColor) {\n\t\t\t\t\t\tchild.style.visibility = 'visible';\n\t\t\t\t\t} else {\n\t\t\t\t\t\tchild.style.visibility = 'hidden';\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\t_updatePseudoColorControl(checked: boolean) {\n\t\tif (this.options.noColorControl) this._updateNoColorControl(checked);\n\t\telse if (this.options.autoColorControl)\n\t\t\tthis._updateAutoColorControl(checked);\n\t}\n\n\t_updateNoColorControl(checked: boolean) {\n\t\tvar noColorElem = L.DomUtil.get(this._noColorControlId);\n\t\tif (noColorElem) {\n\t\t\tif (noColorElem.checked !== checked) {\n\t\t\t\tnoColorElem.checked = checked;\n\t\t\t\tif (this._selectedColorElement) {\n\t\t\t\t\tif (checked) {\n\t\t\t\t\t\tnoColorElem.innerHTML = '&#10004;';\n\t\t\t\t\t\t// update value for the related menu entry\n\t\t\t\t\t\tL.DomUtil.addClass(this._selectedColorElement, 'no-color-selected');\n\t\t\t\t\t\tthis._selectedColorElement.innerHTML = '\\\\';\n\t\t\t\t\t} else {\n\t\t\t\t\t\tnoColorElem.replaceChildren();\n\t\t\t\t\t\t// update value for the related menu entry\n\t\t\t\t\t\tL.DomUtil.removeClass(\n\t\t\t\t\t\t\tthis._selectedColorElement,\n\t\t\t\t\t\t\t'no-color-selected',\n\t\t\t\t\t\t);\n\t\t\t\t\t\tthis._selectedColorElement.replaceChildren();\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\t_updateAutoColorControl(checked: boolean) {\n\t\tvar autoColorElem: HTMLInputElement = L.DomUtil.get(\n\t\t\tthis._autoColorControlId,\n\t\t);\n\t\tif (autoColorElem) {\n\t\t\tif (autoColorElem.checked !== checked) {\n\t\t\t\tautoColorElem.checked = checked;\n\t\t\t\tif (this._selectedColorElement) {\n\t\t\t\t\tif (checked) {\n\t\t\t\t\t\tautoColorElem.innerHTML = '&#10004;';\n\t\t\t\t\t\t// update value for the related menu entry\n\t\t\t\t\t\tL.DomUtil.addClass(\n\t\t\t\t\t\t\tthis._selectedColorElement,\n\t\t\t\t\t\t\t'auto-color-selected',\n\t\t\t\t\t\t);\n\t\t\t\t\t\tthis._selectedColorElement.innerHTML = '\\\\';\n\t\t\t\t\t} else {\n\t\t\t\t\t\tautoColorElem.replaceChildren();\n\t\t\t\t\t\t// update value for the related menu entry\n\t\t\t\t\t\tL.DomUtil.removeClass(\n\t\t\t\t\t\t\tthis._selectedColorElement,\n\t\t\t\t\t\t\t'auto-color-selected',\n\t\t\t\t\t\t);\n\t\t\t\t\t\tthis._selectedColorElement.replaceChildren();\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\t_getSampleElement(index: number, type: ColorTypes): HTMLFormElement {\n\t\tvar sampleId;\n\t\tif (type === 'BASIC_COLOR') {\n\t\t\tsampleId = this._basicColorSampleIdTag + index;\n\t\t} else if (type === 'TINT') {\n\t\t\tsampleId = this._tintSampleIdTag + index;\n\t\t}\n\t\treturn L.DomUtil.get(sampleId);\n\t}\n\n\t_updateSelectedColorElement() {\n\t\tif (this._selectedColorElement) {\n\t\t\tthis._selectedColorElement.style.backgroundColor = this._selectedColor;\n\t\t}\n\t}\n}\n\nL.ColorPicker = ColorPicker;\n"]}