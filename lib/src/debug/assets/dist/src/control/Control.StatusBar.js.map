{"version":3,"file":"Control.StatusBar.js","sourceRoot":"","sources":["../../../../../../../../../../TanhX/online/browser/src/control/Control.StatusBar.js"],"names":[],"mappings":"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","sourcesContent":["/* -*- js-indent-level: 8 -*- */\n/*\n * Copyright the Collabora Online contributors.\n *\n * SPDX-License-Identifier: MPL-2.0\n *\n * This Source Code Form is subject to the terms of the Mozilla Public\n * License, v. 2.0. If a copy of the MPL was not distributed with this\n * file, You can obtain one at http://mozilla.org/MPL/2.0/.\n */\n/*\n * JSDialog.StatusBar - statusbar component\n */\n\n/* global $ app JSDialog _ _UNO  getPermissionModeElements */\nclass StatusBar extends JSDialog.Toolbar {\n\tconstructor(map) {\n\t\tsuper(map, 'toolbar-down');\n\n\t\tmap.on('doclayerinit', this.onDocLayerInit, this);\n\t\tmap.on('languagesupdated', this.onLanguagesUpdated, this);\n\t\tmap.on('commandstatechanged', this.onCommandStateChanged, this);\n\t\tapp.events.on('contextchange', this.onContextChange.bind(this));\n\t\tapp.events.on('updatepermission', this.onPermissionChanged.bind(this));\n\t\tmap.on('updatestatepagenumber', this.onPageChange, this);\n\t\tmap.on('search', this.onSearch, this);\n\t\tmap.on('zoomend', this.onZoomEnd, this);\n\t\tmap.on('initmodificationindicator', this.onInitModificationIndicator, this);\n\t\tmap.on('updatemodificationindicator', this.onUpdateModificationIndicator, this);\n\t}\n\n\tisSaveIndicatorActive() {\n\t\treturn window.useStatusbarSaveIndicator;\n\t}\n\n\tlocalizeStateTableCell(text) {\n\t\tvar stateArray = text.split(';');\n\t\tvar stateArrayLength = stateArray.length;\n\t\tvar localizedText = '';\n\t\tfor (var i = 0; i < stateArrayLength; i++) {\n\t\t\tvar labelValuePair = stateArray[i].split(':');\n\t\t\tlocalizedText += _(labelValuePair[0].trim()) + ':' + labelValuePair[1];\n\t\t\tif (stateArrayLength > 1 && i < stateArrayLength - 1) {\n\t\t\t\tlocalizedText += '; ';\n\t\t\t}\n\t\t}\n\t\treturn localizedText;\n\t}\n\n\ttoLocalePattern(pattern, regex, text, sub1, sub2) {\n\t\tvar matches = new RegExp(regex, 'g').exec(text);\n\t\tif (matches) {\n\t\t\ttext = pattern.toLocaleString().replace(sub1, parseInt(matches[1].replace(/,/g,'')).toLocaleString(String.locale)).replace(sub2, parseInt(matches[2].replace(/,/g,'')).toLocaleString(String.locale));\n\t\t}\n\t\treturn text;\n\t}\n\n\t_updateToolbarsVisibility(context) {\n\t\tvar isReadOnly = this.map.isReadOnlyMode();\n\t\tif (isReadOnly) {\n\t\t\tthis.enableItem('languagestatus', false);\n\t\t\tthis.showItem('insertmode-container', false);\n\t\t\tthis.showItem('statusselectionmode-container', false);\n\t\t} else {\n\t\t\tthis.enableItem('languagestatus', true);\n\t\t}\n\t\tthis.updateVisibilityForToolbar(context);\n\t}\n\n\tonContextChange(event) {\n\t\tthis._updateToolbarsVisibility(event.detail.context);\n\t}\n\n\tcallback(objectType, eventType, object, data, builder) {\n\t\tif (object.id === 'search-input' || object.id === 'search') {\n\t\t\t// its handled by widget itself\n\t\t\treturn;\n\t\t} else if (object.id === 'zoom') {\n\t\t\tvar selected = this._generateZoomItems().filter((item) => { return item.id === data; });\n\t\t\tif (selected.length)\n\t\t\t\tthis.map.setZoom(selected[0].scale, null, true /* animate? */);\n\t\t\treturn;\n\t\t} else if (object.id === 'StateTableCellMenu') {\n\t\t\t// TODO: multi-selection\n\t\t\tvar selected = [];\n\t\t\tif (data === '1') { // 'None' was clicked, remove all other options\n\t\t\t\tselected = ['1'];\n\t\t\t} else { // Something else was clicked, remove the 'None' option from the array\n\t\t\t\tselected = [data];\n\t\t\t}\n\n\t\t\tvar value = 0;\n\t\t\tfor (var it = 0; it < selected.length; it++) {\n\t\t\t\tvalue = +value + parseInt(selected[it]);\n\t\t\t}\n\n\t\t\tvar command = {\n\t\t\t\t'StatusBarFunc': {\n\t\t\t\t\ttype: 'unsigned short',\n\t\t\t\t\tvalue: value\n\t\t\t\t}\n\t\t\t};\n\n\t\t\tthis.map.sendUnoCommand('.uno:StatusBarFunc', command);\n\t\t\treturn;\n\t\t}\n\n\t\tthis.builder._defaultCallbackHandler(objectType, eventType, object, data, builder);\n\t}\n\n\tonSearch(e) {\n\t\tvar searchInput = L.DomUtil.get('search-input');\n\t\tif (e.count === 0) {\n\t\t\tthis.enableItem('searchprev', false);\n\t\t\tthis.enableItem('searchnext', false);\n\t\t\tthis.showItem('cancelsearch', false);\n\t\t\tL.DomUtil.addClass(searchInput, 'search-not-found');\n\t\t\t$('#findthis').addClass('search-not-found');\n\t\t\tapp.searchService.resetSelection();\n\t\t\tsetTimeout(function () {\n\t\t\t\t$('#findthis').removeClass('search-not-found');\n\t\t\t\tL.DomUtil.removeClass(searchInput, 'search-not-found');\n\t\t\t}, 800);\n\t\t}\n\t}\n\n\tonZoomEnd() {\n\t\tvar zoomPercent = 100;\n\t\tvar zoomSelected = null;\n\t\tswitch (this.map.getZoom()) {\n\t\t\tcase 1:  zoomPercent =  20; zoomSelected = 'zoom20'; break;  // 0.2102\n\t\t\tcase 2:  zoomPercent =  25; zoomSelected = 'zoom25'; break;  // 0.2500\n\t\t\tcase 3:  zoomPercent =  30; zoomSelected = 'zoom30'; break;  // 0.2973\n\t\t\tcase 4:  zoomPercent =  35; zoomSelected = 'zoom35'; break;  // 0.3535\n\t\t\tcase 5:  zoomPercent =  40; zoomSelected = 'zoom40'; break;  // 0.4204\n\t\t\tcase 6:  zoomPercent =  50; zoomSelected = 'zoom50'; break;  // 0.5\n\t\t\tcase 7:  zoomPercent =  60; zoomSelected = 'zoom60'; break;  // 0.5946\n\t\t\tcase 8:  zoomPercent =  70; zoomSelected = 'zoom70'; break;  // 0.7071\n\t\t\tcase 9:  zoomPercent =  85; zoomSelected = 'zoom85'; break;  // 0.8409\n\t\t\tcase 10: zoomPercent = 100; zoomSelected = 'zoom100'; break; // 1\n\t\t\tcase 11: zoomPercent = 120; zoomSelected = 'zoom120'; break; // 1.1892\n\t\t\t// Why do we call this 150% even if it is actually closer to 140%\n\t\t\tcase 12: zoomPercent = 150; zoomSelected = 'zoom150'; break; // 1.4142\n\t\t\tcase 13: zoomPercent = 170; zoomSelected = 'zoom170'; break; // 1.6818\n\t\t\tcase 14: zoomPercent = 200; zoomSelected = 'zoom200'; break; // 2\n\t\t\tcase 15: zoomPercent = 235; zoomSelected = 'zoom235'; break; // 2.3784\n\t\t\tcase 16: zoomPercent = 280; zoomSelected = 'zoom280'; break; // 2.8284\n\t\t\tcase 17: zoomPercent = 335; zoomSelected = 'zoom335'; break; // 3.3636\n\t\t\tcase 18: zoomPercent = 400; zoomSelected = 'zoom400'; break; // 4\n\t\t\tdefault:\n\t\t\t\tvar zoomRatio = this.map.getZoomScale(this.map.getZoom(), this.map.options.zoom);\n\t\t\t\tzoomPercent = Math.round(zoomRatio * 100);\n\t\t\tbreak;\n\t\t}\n\n\t\tthis.builder.updateWidget(this.parentContainer,\n\t\t\t{\n\t\t\t\tid: 'zoom',\n\t\t\t\ttype: 'menubutton',\n\t\t\t\ttext: '' + zoomPercent,\n\t\t\t\tselected: zoomSelected,\n\t\t\t\tmenu: this._generateZoomItems(),\n\t\t\t\timage: false\n\t\t\t});\n\t}\n\n\tonPageChange(e) {\n\t\tvar state = e.state;\n\t\tstate = this.toLocalePattern('Page %1 of %2', 'Page (\\\\d+) of (\\\\d+)', state, '%1', '%2');\n\t\tthis.updateHtmlItem('StatePageNumber', state ? state : ' ');\n\t}\n\n\tonShowCommentsChange(e) {\n\t\tvar state = e.state;\n\t\tvar statemsg;\n\t\tif (state === 'true')\n\t\t\tstatemsg = _UNO('.uno:ShowAnnotations') +': ' + _('On');\n\t\telse if (state === 'false')\n\t\t\tstatemsg = _UNO('.uno:ShowAnnotations') +': ' + _('Off');\n\t\t$('#showcomments-container').attr('default-state', state || null);\n\t\tthis.updateHtmlItem('ShowComments', state ? statemsg : ' ');\n\t}\n\n\t_generateHtmlItem(id, dataPriority) {\n\t\tvar isReadOnlyMode = app.map ? app.map.isReadOnlyMode() : true;\n\t\tvar canUserWrite = !app.isReadOnly();\n\n\t\tconst item = {\n\t\t\ttype: 'container',\n\t\t\tid: id + '-container',\n\t\t\tchildren: [\n\t\t\t\t{type: 'htmlcontent', id: id, htmlId: id, text: ' ', isReadOnlyMode: isReadOnlyMode, canUserWrite: canUserWrite},\n\t\t\t\t{type: 'separator', id: id + 'break', orientation: 'vertical'}\n\t\t\t],\n\t\t\tvertical: false,\n\t\t\tvisible: false\n\t\t}\n\n\t\tif (dataPriority) {\n\t\t\titem.dataPriority = dataPriority;\n\t\t}\n\n\t\treturn item;\n\t}\n\n\t_generateStateMenuEntry(id, text, selection) {\n\t\treturn {id: id, text: text, selected: !!(selection & parseInt(id))};\n\t}\n\n\t_generateStateTableCellMenuItem(selection, visible) {\n\t\tvar submenu = [\n\t\t\tthis._generateStateMenuEntry('2', _('Average'), selection),\n\t\t\tthis._generateStateMenuEntry('8', _('CountA'), selection),\n\t\t\tthis._generateStateMenuEntry('4', _('Count'), selection),\n\t\t\tthis._generateStateMenuEntry('16', _('Maximum'), selection),\n\t\t\tthis._generateStateMenuEntry('32', _('Minimum'), selection),\n\t\t\tthis._generateStateMenuEntry('512', _('Sum'), selection),\n\t\t\tthis._generateStateMenuEntry('8192', _('Selection count'), selection),\n\t\t\tthis._generateStateMenuEntry('1', _('None'), selection)\n\t\t];\n\t\tvar selected = submenu\n\t\t\t.filter((item) => { return item.selected; })\n\t\t\t.map((item) => { return item.text; });\n\t\tvar text = selected.length ? selected.join('; ') : _('None');\n\t\treturn {type: 'menubutton', id: 'StateTableCellMenu', text: text, image: false, menu: submenu, visible: visible, dataPriority: 5};\n\t}\n\n\t_generateZoomItems() {\n\t\treturn [\n\t\t\t{ id: 'zoom20', text: '20', scale: 1},\n\t\t\t{ id: 'zoom25', text: '25', scale: 2},\n\t\t\t{ id: 'zoom30', text: '30', scale: 3},\n\t\t\t{ id: 'zoom35', text: '35', scale: 4},\n\t\t\t{ id: 'zoom40', text: '40', scale: 5},\n\t\t\t{ id: 'zoom50', text: '50', scale: 6},\n\t\t\t{ id: 'zoom60', text: '60', scale: 7},\n\t\t\t{ id: 'zoom70', text: '70', scale: 8},\n\t\t\t{ id: 'zoom85', text: '85', scale: 9},\n\t\t\t{ id: 'zoom100', text: '100', scale: 10},\n\t\t\t{ id: 'zoom120', text: '120', scale: 11},\n\t\t\t{ id: 'zoom150', text: '150', scale: 12},\n\t\t\t{ id: 'zoom170', text: '170', scale: 13},\n\t\t\t{ id: 'zoom200', text: '200', scale: 14},\n\t\t\t{ id: 'zoom235', text: '235', scale: 15},\n\t\t\t{ id: 'zoom280', text: '280', scale: 16},\n\t\t\t{ id: 'zoom335', text: '335', scale: 17},\n\t\t\t{ id: 'zoom400', text: '400', scale: 18},\n\t\t];\n\t}\n\n\tgetToolItems() {\n\t\treturn [\n\t\t\t{type: 'searchedit',  id: 'search', placeholder: _('Search'), text: ''},\n\t\t\t{type: 'customtoolitem',  id: 'searchprev', command: 'searchprev', text: _UNO('.uno:UpSearch'), enabled: false, pressAndHold: true},\n\t\t\t{type: 'customtoolitem',  id: 'searchnext', command: 'searchnext', text: _UNO('.uno:DownSearch'), enabled: false, pressAndHold: true},\n\t\t\t{type: 'customtoolitem',  id: 'cancelsearch', command: 'cancelsearch', text: _('Cancel the search'), visible: false},\n\t\t\t{type: 'separator', id: 'searchbreak', orientation: 'vertical'},\n\t\t\tthis._generateHtmlItem('statusdocpos'), \t\t\t\t\t// spreadsheet\n\t\t\tthis._generateHtmlItem('rowcolselcount', 1), \t\t\t\t\t// spreadsheet\n\t\t\tthis._generateHtmlItem('statepagenumber'), \t\t\t\t\t// text\n\t\t\tthis._generateHtmlItem('statewordcount', 1), \t\t\t\t\t// text\n\t\t\tthis._generateHtmlItem('insertmode', 5),\t\t\t\t\t\t// spreadsheet, text\n\t\t\tthis._generateHtmlItem('showcomments', 4),\t\t\t\t\t    // text\n\t\t\tthis._generateHtmlItem('statusselectionmode', 6),\t\t\t\t// text\n\t\t\tthis._generateHtmlItem('slidestatus'),\t\t\t\t\t\t// presentation\n\t\t\tthis._generateHtmlItem('pagestatus'),\t\t\t\t\t\t// drawing\n\t\t\t{type: 'menubutton', id: 'languagestatus:LanguageStatusMenu', dataPriority: 3},\t// spreadsheet, text, presentation\n\t\t\t{type: 'separator', id: 'languagestatusbreak', orientation: 'vertical', visible: false, dataPriority: 3}, // spreadsheet\n\t\t\tthis._generateHtmlItem('statetablecell', 4),\t\t\t\t\t// spreadsheet\n\t\t\tthis._generateStateTableCellMenuItem(2, false),\t\t\t// spreadsheet\n\t\t\t{type: 'separator', id: 'statetablebreak', orientation: 'vertical', visible: false, dataPriority: 7}, // spreadsheet\n\t\t\tthis._generateHtmlItem('permissionmode'),\t\t\t\t\t// spreadsheet, text, presentation\n\t\t\t{type: 'toolitem', id: 'signstatus', command: '.uno:Signature', w2icon: '', text: _UNO('.uno:Signature'), visible: false},\n\t\t\t{type: 'spacer',  id: 'permissionspacer'},\n\t\t\tthis._generateHtmlItem('documentstatus', 2),\t\t\t\t\t// spreadsheet, text, presentation, drawing\n\t\t\t{type: 'customtoolitem',  id: 'prev', command: 'prev', text: _UNO('.uno:PageUp', 'text'), pressAndHold: true, dataPriority: 9},\n\t\t\t{type: 'customtoolitem',  id: 'next', command: 'next', text: _UNO('.uno:PageDown', 'text'), pressAndHold: true, dataPriority: 9},\n\t\t\t{type: 'separator', id: 'prevnextbreak', orientation: 'vertical', dataPriority: 9},\n\t\t].concat(window.mode.isTablet() ? [] : [\n\t\t\t{type: 'customtoolitem',  id: 'zoomreset', command: 'zoomreset', text: _('Reset zoom'), icon: 'zoomreset.svg', dataPriority: 8},\n\t\t\t{type: 'customtoolitem',  id: 'zoomout', command: 'zoomout', text: _UNO('.uno:ZoomMinus'), icon: 'minus.svg'},\n\t\t\t{type: 'menubutton', id: 'zoom', text: '100', selected: 'zoom100', menu: this._generateZoomItems(), image: false},\n\t\t\t{type: 'customtoolitem',  id: 'zoomin', command: 'zoomin', text: _UNO('.uno:ZoomPlus'), icon: 'plus.svg'}\n\t\t]);\n\t}\n\n\tcreate() {\n\t\tif (this.parentContainer.firstChild)\n\t\t\treturn;\n\n\t\tthis.parentContainer.replaceChildren();\n\t\tthis.builder.build(this.parentContainer, this.getToolItems());\n\t\tthis.onLanguagesUpdated();\n\t\tJSDialog.MakeStatusPriority(this.parentContainer.querySelector('div'), this.getToolItems());\n\t\tJSDialog.RefreshScrollables();\n\t}\n\n\tonDocLayerInit() {\n\t\tvar showStatusbar = this.map.uiManager.getBooleanDocTypePref('ShowStatusbar', true);\n\t\tif (showStatusbar)\n\t\t\tthis.map.uiManager.showStatusBar();\n\t\telse\n\t\t\tthis.map.uiManager.hideStatusBar(true);\n\n\t\tvar docType = this.map.getDocType();\n\n\t\tswitch (docType) {\n\t\tcase 'spreadsheet':\n\t\t\tthis.showItem('prev', false);\n\t\t\tthis.showItem('next', false);\n\t\t\tthis.showItem('prevnextbreak', false);\n\n\t\t\tif (!window.mode.isMobile()) {\n\t\t\t\tthis.showItem('statusdocpos-container', true);\n\t\t\t\tthis.showItem('rowcolselcount-container', true);\n\t\t\t\tthis.showItem('insertmode-container', true);\n\t\t\t\tthis.showItem('statusselectionmode-container', true);\n\t\t\t\tthis.showItem('languagestatus', !app.map.isReadOnlyMode());\n\t\t\t\tthis.showItem('languagestatusbreak', !app.map.isReadOnlyMode());\n\t\t\t\tthis.showItem('statetablecell-container', true);\n\t\t\t\tthis.showItem('StateTableCellMenu', !app.map.isReadOnlyMode());\n\t\t\t\tthis.showItem('statetablebreak', !app.map.isReadOnlyMode());\n\t\t\t\tthis.showItem('permissionmode-container', true);\n\t\t\t\tthis.showItem('documentstatus-container', true);\n\t\t\t}\n\t\t\tbreak;\n\n\t\tcase 'text':\n\t\t\tif (!window.mode.isMobile()) {\n\t\t\t\tthis.showItem('statepagenumber-container', true);\n\t\t\t\tthis.showItem('statewordcount-container', true);\n\t\t\t\tthis.showItem('insertmode-container', true);\n\t\t\t\tthis.showItem('statusselectionmode-container', true);\n\t\t\t\tthis.showItem('languagestatus', !app.map.isReadOnlyMode());\n\t\t\t\tthis.showItem('languagestatusbreak', !app.map.isReadOnlyMode());\n\t\t\t\tthis.showItem('permissionmode-container', true);\n\t\t\t\tthis.showItem('showcomments-container', true);\n\t\t\t\tthis.showItem('documentstatus-container', true);\n\t\t\t}\n\t\t\tbreak;\n\n\t\tcase 'presentation':\n\t\t\tif (!window.mode.isMobile()) {\n\t\t\t\tthis.showItem('slidestatus-container', true);\n\t\t\t\tthis.showItem('languagestatus', !app.map.isReadOnlyMode());\n\t\t\t\tthis.showItem('languagestatusbreak', !app.map.isReadOnlyMode());\n\t\t\t\tthis.showItem('permissionmode-container', true);\n\t\t\t\tthis.showItem('documentstatus-container', true);\n\t\t\t}\n\t\t\tbreak;\n\t\tcase 'drawing':\n\t\t\tif (!window.mode.isMobile()) {\n\t\t\t\tthis.showItem('pagestatus-container', true);\n\t\t\t\tthis.showItem('languagestatus', !app.map.isReadOnlyMode());\n\t\t\t\tthis.showItem('languagestatusbreak', !app.map.isReadOnlyMode());\n\t\t\t\tthis.showItem('permissionmode-container', true);\n\t\t\t\tthis.showItem('documentstatus-container', true);\n\t\t\t}\n\t\t\tbreak;\n\t\t}\n\n\t\tvar language = app.map['stateChangeHandler'].getItemValue('.uno:LanguageStatus');\n\t\tif (language)\n\t\t\tthis.updateLanguageItem(this.extractLanguageFromStatus(language));\n\n\t\tthis._updateToolbarsVisibility();\n\t\tJSDialog.RefreshScrollables();\n\t}\n\n\tshow() {\n\t\tthis.parentContainer.style.display = '';\n\t\tJSDialog.RefreshScrollables();\n\t}\n\n\thide() {\n\t\tthis.parentContainer.style.display = 'none';\n\t}\n\n\tupdateHtmlItem(id, text, disabled) {\n\t\tthis.builder.updateWidget(this.parentContainer, {\n\t\t\tid: id,\n\t\t\ttype: 'htmlcontent',\n\t\t\thtmlId: id.toLowerCase(),\n\t\t\ttext: text,\n\t\t\tenabled: !disabled\n\t\t});\n\n\t\tJSDialog.RefreshScrollables();\n\t}\n\n\tupdateLanguageItem(language) {\n\t\tif (app.map.isReadOnlyMode())\n\t\t\treturn;\n\n\t\tthis.builder.updateWidget(this.parentContainer,\n\t\t\t{type: 'menubutton', id: 'languagestatus:LanguageStatusMenu', noLabel: false, text: language});\n\t\tJSDialog.RefreshScrollables();\n\t}\n\n\tshowSigningItem(icon, text) {\n\t\tthis.builder.updateWidget(this.parentContainer,\n\t\t\t{type: 'toolitem', id: 'signstatus', command: '.uno:Signature', w2icon: icon, text: text ? text : _UNO('.uno:Signature')});\n\t\tJSDialog.RefreshScrollables();\n\t}\n\n\tonPermissionChanged(event) {\n\t\tvar isReadOnlyMode = event.detail.perm === 'readonly';\n\t\tif (isReadOnlyMode) {\n\t\t\t$('#toolbar-down').addClass('readonly');\n\t\t} else {\n\t\t\t$('#toolbar-down').removeClass('readonly');\n\t\t}\n\n\t\tvar canUserWrite = window.ThisIsAMobileApp ? !app.isReadOnly() : this.map['wopi'].UserCanWrite;\n\t\tvar NotEditDocMode = false;\n\t\tif (app.map['stateChangeHandler'].getItemValue('EditDoc') !== undefined) {\n\t\t\tNotEditDocMode = app.map['stateChangeHandler'].getItemValue('EditDoc') === \"false\"; // can be true, false or disabled\n\t\t\tif (NotEditDocMode)\n\t\t\t\tapp.map.uiManager.showSnackbar(_('To prevent accidental changes, the author has set this file to open as view-only'));\n\t\t}\n\n\t\tcanUserWrite = canUserWrite && !NotEditDocMode;\n\n\t\tvar permissionContainer = document.getElementById('permissionmode-container');\n\t\tif (permissionContainer) {\n\t\t\twhile (permissionContainer.firstChild)\n\t\t\t\tpermissionContainer.removeChild(permissionContainer.firstChild);\n\t\t\tpermissionContainer.appendChild(getPermissionModeElements(isReadOnlyMode, canUserWrite, this.map));\n\t\t}\n\n\t\tthis.builder.updateWidget(this.parentContainer, {\n\t\t\tid: 'PermissionMode',\n\t\t\ttype: 'htmlcontent',\n\t\t\thtmlId: 'permissionmode',\n\t\t\tisReadOnlyMode: isReadOnlyMode,\n\t\t\tcanUserWrite: canUserWrite\n\t\t});\n\n\t\tJSDialog.RefreshScrollables();\n\t}\n\n\textractLanguageFromStatus(state) {\n\t\tvar code = state;\n\t\tvar language = _(state);\n\t\tvar split = code.split(';');\n\t\tif (split.length > 1)\n\t\t\tlanguage = _(split[0]);\n\t\treturn language;\n\t}\n\n\tonCommandStateChanged(e) {\n\t\tvar commandName = e.commandName;\n\t\tvar state = e.state;\n\n\t\tif (!commandName)\n\t\t\treturn;\n\n\t\tif (commandName === '.uno:StatusDocPos') {\n\t\t\tstate = this.toLocalePattern('Sheet %1 of %2', 'Sheet (\\\\d+) of (\\\\d+)', state, '%1', '%2');\n\t\t\tthis.updateHtmlItem('StatusDocPos', state ? state : ' ');\n\t\t}\n\t\telse if (commandName === '.uno:LanguageStatus') {\n\t\t\tvar language = this.extractLanguageFromStatus(state);\n\t\t\tthis.updateLanguageItem(language);\n\t\t}\n\t\telse if (commandName === '.uno:RowColSelCount') {\n\t\t\tstate = this.toLocalePattern('$1 rows, $2 columns selected', '(\\\\d+) rows, (\\\\d+) columns selected', state, '$1', '$2');\n\t\t\tstate = this.toLocalePattern('$1 of $2 records found', '(\\\\d+) of (\\\\d+) records found', state, '$1', '$2');\n\t\t\tthis.updateHtmlItem('RowColSelCount', state ? state : _('Select multiple cells'), !state);\n\t\t}\n\t\telse if (commandName === '.uno:InsertMode') {\n\t\t\tthis.updateHtmlItem('InsertMode', state ? L.Styles.insertMode[state].toLocaleString() : ' ', !state);\n\n\t\t\t$('#InsertMode').removeClass();\n\t\t\t$('#InsertMode').addClass('jsdialog ui-badge insert-mode-' + state);\n\t\t\tvar isDefaultState = state === 'true' || state === '';\n\t\t\t$('#insertmode-container').attr('default-state', isDefaultState || null);\n\n\t\t\tif ((state === 'false' || !state) && app.definitions.urlPopUpSection.isOpen()) {\n\t\t\t\tthis.map.hyperlinkUnderCursor = null;\n\t\t\t\tapp.definitions.urlPopUpSection.closeURLPopUp();\n\t\t\t}\n\t\t}\n\t\telse if (commandName === '.uno:StatusSelectionMode' || commandName === '.uno:SelectionMode') {\n\t\t\t$('#statusselectionmode-container').attr('default-state', state === '0' || null);\n\t\t\tthis.updateHtmlItem('StatusSelectionMode', state ? L.Styles.selectionMode[state].toLocaleString() : _('Selection mode: inactive'), !state);\n\t\t}\n\t\telse if (commandName == '.uno:StateTableCell') {\n\t\t\tthis.updateHtmlItem('StateTableCell', state ? this.localizeStateTableCell(state) : ' ');\n\t\t}\n\t\telse if (commandName === '.uno:StatusBarFunc') {\n\t\t\tif (app.map.isReadOnlyMode())\n\t\t\t\treturn;\n\n\t\t\t// Check 'None' even when state is 0\n\t\t\tif (state === '0')\n\t\t\t\tstate = '1';\n\n\t\t\ttry {\n\t\t\t\tstate = parseInt(state);\n\t\t\t} catch (e) { console.error(e); state = 1; }\n\n\t\t\tthis.builder.updateWidget(this.parentContainer, this._generateStateTableCellMenuItem(state, true));\n\t\t\tJSDialog.RefreshScrollables();\n\t\t}\n\t\telse if (commandName === '.uno:StatePageNumber') {\n\t\t\tthis.onPageChange(e);\n\t\t\treturn;\n\t\t}\n\t\telse if (commandName === 'showannotations') {\n\t\t\tthis.onShowCommentsChange(e);\n\t\t\treturn;\n\t\t}\n\t\telse if (commandName === '.uno:StateWordCount') {\n\t\t\tstate = this.toLocalePattern('%1 words, %2 characters', '([\\\\d,]+) words, ([\\\\d,]+) characters', state, '%1', '%2');\n\t\t\tthis.updateHtmlItem('StateWordCount', state ? state : ' ');\n\t\t}\n\t\telse if (commandName === '.uno:PageStatus') {\n\t\t\tif (this.map.getDocType() === 'presentation') {\n\t\t\t\tstate = this.toLocalePattern('Slide %1 of %2', 'Slide (\\\\d+) of (\\\\d+)', state, '%1', '%2');\n\t\t\t\tthis.updateHtmlItem('SlideStatus', state ? state : ' ');\n\t\t\t} else {\n\t\t\t\tstate = this.toLocalePattern('Page %1 of %2', 'Slide (\\\\d+) of (\\\\d+)', state, '%1', '%2');\n\t\t\t\tthis.updateHtmlItem('PageStatus', state ? state : ' ');\n\t\t\t}\n\t\t}\n\t\telse if (commandName === '.uno:EditDoc') {\n\t\t\tstate = state !== \"false\";\n\t\t\t$('#permissionmode-container').attr('default-state', this.map.isEditMode() || null);\n\t\t\tthis.onPermissionChanged({detail : {\n\t\t\t\tperm: state && this.map.isEditMode() ? \"edit\" : \"readonly\"\n\t\t\t} });\n\t\t}\n\t\telse if (commandName === '.uno:Signature') {\n\t\t\t// Use the same handler as the 'signaturestatus:' protocol message, which is\n\t\t\t// sent right after document load.\n\t\t\tthis.map.onChangeSignStatus(state);\n\t\t}\n\t}\n\n\tonLanguagesUpdated() {\n\t\tvar menuEntries = [];\n\t\tvar translated, neutral;\n\t\tvar constLang = '.uno:LanguageStatus?Language:string=';\n\t\tvar constDefault = 'Default_RESET_LANGUAGES';\n\t\tvar constNone = 'Default_LANGUAGE_NONE';\n\t\tvar resetLang = _('Reset to Default Language');\n\t\tvar noneLang = _('None (Do not check spelling)');\n\t\tvar languages = app.languages;\n\n\t\tmenuEntries.push({id: 'nonelanguage', uno: constLang + constNone, text: noneLang});\n\n\t\tfor (var lang in languages) {\n\t\t\tif (languages.length > 10 && app.favouriteLanguages.indexOf(languages[lang].iso) < 0)\n\t\t\t\tcontinue;\n\n\t\t\ttranslated = languages[lang].translated;\n\t\t\tneutral = languages[lang].neutral;\n\t\t\tvar splitNeutral = neutral.split(';');\n\t\t\tmenuEntries.push({id: neutral, text: translated, uno: constLang + encodeURIComponent('Default_' + splitNeutral[0])});\n\t\t}\n\n\t\tmenuEntries.push({id: 'reset', text: resetLang, uno: constLang + constDefault});\n\t\tmenuEntries.push({id: 'morelanguages', action: 'morelanguages-all', text: _('Set Language for All text')});\n\n\t\tif (this.map.getDocType() === 'text') {\n\t\t\tmenuEntries.push({id: 'langpara', action: 'morelanguages-paragraph', text: _('Set Language for Paragraph')});\n\t\t\tmenuEntries.push({id: 'langselection', action: 'morelanguages-selection', text:  _('Set Language for Selection')});\n\t\t}\n\n\t\tJSDialog.MenuDefinitions.set('LanguageStatusMenu', menuEntries);\n\t}\n\n    updateDefaultStateAttribute() {\n        const docstatcontainer = document.getElementById('documentstatus-container');\n        const documentStatus = document.getElementById('DocumentStatus');\n        if (documentStatus && (!documentStatus.textContent || documentStatus.textContent.trim() === '')) {\n            docstatcontainer.setAttribute('default-state', 'true');\n        } else if (docstatcontainer.hasAttribute('default-state')) {\n            docstatcontainer.removeAttribute('default-state');\n        }\n    }\n\n\tonInitModificationIndicator(lastmodtime) {\n\t\tif (!this.isSaveIndicatorActive())\n\t\t\treturn;\n\n\t\tconst docstatcontainer = document.getElementById('documentstatus-container');\n\t\tif (lastmodtime == null) {\n\t\t\tif (docstatcontainer !== null && docstatcontainer !== undefined) {\n\t\t\t\tdocstatcontainer.classList.add('hidden');\n\t\t\t}\n\t\t\treturn;\n\t\t}\n\t\tdocstatcontainer.classList.remove('hidden');\n        this.updateDefaultStateAttribute()\n\n\t\tthis.map.fire('modificationindicatorinitialized');\n\t}\n\n\t// status can be '', 'SAVING', 'MODIFIED' or 'SAVED'\n\tonUpdateModificationIndicator(e) {\n\t\tif (!this.isSaveIndicatorActive())\n\t\t\treturn;\n\n\t\tif (this._lastModstatus !== e.status) {\n\t\t\tthis.updateHtmlItem('DocumentStatus', e.status);\n\t\t\tthis._lastModStatus = e.status;\n\n            // Update default-state attribute after updating status\n            this.updateDefaultStateAttribute()\n\t\t}\n\t\tif (e.lastSaved !== null && e.lastSaved !== undefined) {\n\t\t\tconst lastSaved = document.getElementById('last-saved');\n\t\t\tif (lastSaved !== null && lastSaved !== undefined) {\n\t\t\t\tlastSaved.textContent = e.lastSaved;\n\t\t\t}\n\t\t}\n\t}\n}\n\nJSDialog.StatusBar = function (map) {\n\treturn new StatusBar(map);\n};\n"]}