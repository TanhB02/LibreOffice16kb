{"version":3,"file":"Control.Toolbar.js","sourceRoot":"","sources":["../../../../../../../../../../TanhX/online/browser/src/control/Control.Toolbar.js"],"names":[],"mappings":"AAAA,kDAAkD;AAElD;;;;;;;;GAQG;AAEH;;GAEG;AAEH,kCAAkC;AAClC,yDAAyD;AAEzD,CAAC,UAAS,MAAM;IAEhB,IAAI,GAAG,CAAC;IAER,SAAS,aAAa,CAAC,OAAO;QAC7B,IAAI,OAAO,OAAO,KAAK,QAAQ;YAC9B,OAAO,OAAO,CAAC;QAEhB,IAAI,CAAC,GAAG,CAAC,KAAK;YACb,OAAO,OAAO,CAAC,WAAW,CAAC;QAE5B,IAAI,aAAa,GAAG,GAAG,CAAC,KAAK,CAAC,cAAc,CAAC;QAE7C,IAAI,CAAC,aAAa,IAAI,aAAa,KAAK,MAAM;YAC7C,OAAO,OAAO,CAAC,WAAW,CAAC;QAE5B,OAAO,OAAO,CAAC,aAAa,CAAC;IAC9B,CAAC;IAED,SAAS,WAAW,CAAC,IAAI,EAAE,KAAK,EAAE,MAAM,EAAE,GAAG,EAAE,KAAK,EAAE,IAAI,EAAE,KAAK;QAChE,IAAI,MAAM,GAAG;YACZ,WAAW,EAAE;gBACZ,IAAI,EAAG,OAAO;gBACd,KAAK,EAAG;oBACP,EAAE,IAAI,EAAG,gCAAgC,EAAE,KAAK,EAAG,EAAE,KAAK,EAAG,EAAE,IAAI,EAAG,yBAAyB,EAAE,KAAK,EAAG,KAAK,EAAE,EAAE,cAAc,EAAG,EAAE,IAAI,EAAG,OAAO,EAAE,KAAK,EAAG,CAAC,EAAE,EAAE,cAAc,EAAG,EAAE,IAAI,EAAG,OAAO,EAAE,KAAK,EAAG,IAAI,EAAE,EAAE,YAAY,EAAG,EAAE,IAAI,EAAG,OAAO,EAAE,KAAK,EAAG,CAAC,EAAE,EAAG,SAAS,EAAG,EAAE,IAAI,EAAG,OAAO,EAAE,KAAK,EAAG,CAAC,EAAE,EAAE,SAAS,EAAG,EAAE,IAAI,EAAG,eAAe,EAAE,KAAK,EAAG,CAAC,EAAE,EAAE,EAAE;oBACpW,EAAE,IAAI,EAAG,gCAAgC,EAAE,KAAK,EAAG,EAAE,KAAK,EAAG,EAAE,IAAI,EAAG,yBAAyB,EAAE,KAAK,EAAG,KAAK,EAAE,EAAE,cAAc,EAAG,EAAE,IAAI,EAAG,OAAO,EAAE,KAAK,EAAG,CAAC,EAAE,EAAE,cAAc,EAAG,EAAE,IAAI,EAAG,OAAO,EAAE,KAAK,EAAG,KAAK,EAAE,EAAE,YAAY,EAAG,EAAE,IAAI,EAAG,OAAO,EAAE,KAAK,EAAG,CAAC,EAAE,EAAG,SAAS,EAAG,EAAE,IAAI,EAAG,OAAO,EAAE,KAAK,EAAG,CAAC,EAAE,EAAE,SAAS,EAAG,EAAE,IAAI,EAAG,eAAe,EAAE,KAAK,EAAG,CAAC,EAAE,EAAE,EAAE;oBACrW,EAAE,IAAI,EAAG,gCAAgC,EAAE,KAAK,EAAG,EAAE,KAAK,EAAG,EAAE,IAAI,EAAG,yBAAyB,EAAE,KAAK,EAAG,KAAK,EAAE,EAAE,cAAc,EAAG,EAAE,IAAI,EAAG,OAAO,EAAE,KAAK,EAAG,CAAC,EAAE,EAAE,cAAc,EAAG,EAAE,IAAI,EAAG,OAAO,EAAE,KAAK,EAAG,MAAM,EAAE,EAAE,YAAY,EAAG,EAAE,IAAI,EAAG,OAAO,EAAE,KAAK,EAAG,CAAC,EAAE,EAAG,SAAS,EAAG,EAAE,IAAI,EAAG,OAAO,EAAE,KAAK,EAAG,CAAC,EAAE,EAAE,SAAS,EAAG,EAAE,IAAI,EAAG,eAAe,EAAE,KAAK,EAAG,CAAC,EAAE,EAAE,EAAE;oBACtW,EAAE,IAAI,EAAG,gCAAgC,EAAE,KAAK,EAAG,EAAE,KAAK,EAAG,EAAE,IAAI,EAAG,yBAAyB,EAAE,KAAK,EAAG,KAAK,EAAE,EAAE,cAAc,EAAG,EAAE,IAAI,EAAG,OAAO,EAAE,KAAK,EAAG,CAAC,EAAE,EAAE,cAAc,EAAG,EAAE,IAAI,EAAG,OAAO,EAAE,KAAK,EAAG,GAAG,EAAE,EAAE,YAAY,EAAG,EAAE,IAAI,EAAG,OAAO,EAAE,KAAK,EAAG,CAAC,EAAE,EAAG,SAAS,EAAG,EAAE,IAAI,EAAG,OAAO,EAAE,KAAK,EAAG,CAAC,EAAE,EAAE,SAAS,EAAG,EAAE,IAAI,EAAG,eAAe,EAAE,KAAK,EAAG,CAAC,EAAE,EAAE,EAAE;oBACnW,EAAE,IAAI,EAAG,MAAM,EAAE,KAAK,EAAG,CAAC,EAAE;oBAC5B,EAAE,IAAI,EAAG,MAAM,EAAE,KAAK,EAAG,CAAC,EAAE;oBAC5B,EAAE,IAAI,EAAG,MAAM,EAAE,KAAK,EAAG,CAAC,EAAE;oBAC5B,EAAE,IAAI,EAAG,MAAM,EAAE,KAAK,EAAG,CAAC,EAAE;oBAC5B,EAAE,IAAI,EAAG,MAAM,EAAE,KAAK,EAAG,CAAC,EAAE;iBAC5B;aACD;YACD,WAAW,EAAE;gBACZ,IAAI,EAAG,OAAO;gBACd,KAAK,EAAG;oBACP,EAAE,IAAI,EAAG,gCAAgC,EAAE,KAAK,EAAG,EAAE,KAAK,EAAG,EAAE,IAAI,EAAG,yBAAyB,EAAE,KAAK,EAAG,KAAK,EAAE,EAAE,cAAc,EAAG,EAAE,IAAI,EAAG,OAAO,EAAE,KAAK,EAAG,CAAC,EAAE,EAAE,cAAc,EAAG,EAAE,IAAI,EAAG,OAAO,EAAE,KAAK,EAAG,KAAK,EAAE,EAAE,YAAY,EAAG,EAAE,IAAI,EAAG,OAAO,EAAE,KAAK,EAAG,CAAC,EAAE,EAAG,SAAS,EAAG,EAAE,IAAI,EAAG,OAAO,EAAE,KAAK,EAAG,CAAC,EAAE,EAAE,SAAS,EAAG,EAAE,IAAI,EAAG,eAAe,EAAE,KAAK,EAAG,CAAC,EAAE,EAAE,EAAE;oBACrW,EAAE,IAAI,EAAG,gCAAgC,EAAE,KAAK,EAAG,EAAE,KAAK,EAAG,EAAE,IAAI,EAAG,yBAAyB,EAAE,KAAK,EAAG,KAAK,EAAE,EAAE,cAAc,EAAG,EAAE,IAAI,EAAG,OAAO,EAAE,KAAK,EAAG,CAAC,EAAE,EAAE,cAAc,EAAG,EAAE,IAAI,EAAG,OAAO,EAAE,KAAK,EAAG,IAAI,EAAE,EAAE,YAAY,EAAG,EAAE,IAAI,EAAG,OAAO,EAAE,KAAK,EAAG,CAAC,EAAE,EAAG,SAAS,EAAG,EAAE,IAAI,EAAG,OAAO,EAAE,KAAK,EAAG,CAAC,EAAE,EAAE,SAAS,EAAG,EAAE,IAAI,EAAG,eAAe,EAAE,KAAK,EAAG,CAAC,EAAE,EAAE,EAAE;oBACpW,EAAE,IAAI,EAAG,OAAO,EAAE,KAAK,EAAG,CAAC,EAAE;oBAC7B,EAAE,IAAI,EAAG,OAAO,EAAE,KAAK,EAAG,GAAG,EAAE;oBAC/B,EAAE,IAAI,EAAG,MAAM,EAAE,KAAK,EAAG,CAAC,EAAE;iBAC5B;aACD;SAAC,CAAC;QACJ,GAAG,CAAC,cAAc,CAAC,qBAAqB,EAAE,MAAM,CAAC,CAAC;IACnD,CAAC;IAED,kBAAkB;IAElB,IAAI,sBAAsB,GAAG,SAAS,CAAC;IAEvC,SAAS,UAAU;QAClB,IAAI,sBAAsB,EAAE;YAC3B,sBAAsB,EAAE,CAAC;YACzB,sBAAsB,GAAG,SAAS,CAAC;SACnC;QACD,GAAG,CAAC,KAAK,EAAE,CAAC;IACb,CAAC;IAED,SAAS,cAAc,CAAC,GAAG,EAAE,KAAK;QACjC,IAAI,KAAK,KAAK,SAAS;YACtB,KAAK,GAAG,CAAC,CAAC,CAAC,QAAQ;aACf,IAAI,KAAK,CAAC,UAAU,CAAC,GAAG,CAAC;YAC7B,KAAK,GAAG,QAAQ,CAAC,IAAI,GAAG,KAAK,CAAC,SAAS,CAAC,CAAC,EAAE,KAAK,CAAC,MAAM,CAAC,CAAC,CAAC;QAE3D,QAAQ,GAAG,EAAE;YACb,KAAK,CAAC;gBAAE,GAAG,CAAC,cAAc,CAAC,wBAAwB,CAAC,CAAC;gBAAC,MAAM;YAE5D,KAAK,CAAC;gBAAE,WAAW,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,KAAK,CAAC,CAAC;gBAAC,MAAM;YACpD,KAAK,CAAC;gBAAE,WAAW,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,KAAK,CAAC,CAAC;gBAAC,MAAM;YACpD,KAAK,CAAC;gBAAE,WAAW,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,KAAK,CAAC,CAAC;gBAAC,MAAM;YACpD,KAAK,CAAC;gBAAE,WAAW,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,KAAK,CAAC,CAAC;gBAAC,MAAM;YAEpD,KAAK,CAAC;gBAAE,WAAW,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,KAAK,CAAC,CAAC;gBAAC,MAAM;YACpD,KAAK,CAAC;gBAAE,WAAW,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,KAAK,CAAC,CAAC;gBAAC,MAAM;YACpD,KAAK,CAAC;gBAAE,WAAW,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,KAAK,CAAC,CAAC;gBAAC,MAAM;YACpD,KAAK,CAAC;gBAAE,WAAW,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,KAAK,CAAC,CAAC;gBAAC,MAAM;YAEpD,KAAK,CAAC;gBAAG,WAAW,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,KAAK,CAAC,CAAC;gBAAC,MAAM;YACrD,KAAK,EAAE;gBAAE,WAAW,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,KAAK,CAAC,CAAC;gBAAC,MAAM;YACrD,KAAK,EAAE;gBAAE,WAAW,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,KAAK,CAAC,CAAC;gBAAC,MAAM;YACrD,KAAK,EAAE;gBAAE,WAAW,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,KAAK,CAAC,CAAC;gBAAC,MAAM;YAErD,OAAO,CAAC,CAAC,MAAM,CAAC,GAAG,CAAC,OAAO,CAAC,GAAG,CAAC,kBAAkB,GAAG,GAAG,CAAC,CAAC;SACzD;QAED,4EAA4E;QAC5E,8BAA8B;QAC9B,UAAU,EAAE,CAAC;IACd,CAAC;IAED,MAAM,CAAC,cAAc,GAAG,cAAc,CAAC;IAEvC,SAAS,0BAA0B,CAAC,aAAa;QAChD,sBAAsB,GAAG,aAAa,CAAC;QAEvC,IAAM,KAAK,GAAG,QAAQ,CAAC,aAAa,CAAC,OAAO,CAAC,CAAC;QAC9C,KAAK,CAAC,EAAE,GAAG,qBAAqB,CAAC;QAEjC,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,EAAE,EAAE,CAAC,EAAE,EAAE;YAC5B,IAAI,IAAE,GAAG,QAAQ,CAAC,aAAa,CAAC,IAAI,CAAC,CAAC;YACtC,KAAK,CAAC,WAAW,CAAC,IAAE,CAAC,CAAC;oCACb,CAAC;gBACT,IAAI,IAAE,GAAG,QAAQ,CAAC,aAAa,CAAC,IAAI,CAAC,CAAC;gBACtC,IAAE,CAAC,WAAW,CAAC,IAAE,CAAC,CAAC;gBACnB,IAAM,GAAG,GAAG,MAAM,CAAC,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC,CAAC;gBAC9B,IAAE,CAAC,SAAS,GAAG,0BAA0B,GAAG,CAAC,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,QAAQ,GAAG,MAAM,CAAC,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC,CAAA,CAAC,CAAC,OAAO,GAAG,MAAM,CAAC,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC;gBACpH,IAAE,CAAC,OAAO,GAAG,cAAa,cAAc,CAAC,QAAQ,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;;YAL5D,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,EAAE;wBAAjB,CAAC;aAMT;YACD,CAAC,IAAI,CAAC,CAAC;SACP;QAED,IAAI,EAAE,GAAG,QAAQ,CAAC,aAAa,CAAC,IAAI,CAAC,CAAC;QACtC,IAAI,EAAE,GAAG,QAAQ,CAAC,aAAa,CAAC,IAAI,CAAC,CAAC;QACtC,EAAE,CAAC,YAAY,CAAC,SAAS,EAAE,CAAC,CAAC,CAAC;QAC9B,EAAE,CAAC,OAAO,GAAG,cAAa,cAAc,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;QAE/C,IAAI,GAAG,GAAG,QAAQ,CAAC,aAAa,CAAC,KAAK,CAAC,CAAC;QACxC,GAAG,CAAC,EAAE,GAAG,aAAa,CAAC;QACvB,GAAG,CAAC,WAAW,GAAG,CAAC,CAAC,SAAS,CAAC,CAAC;QAE/B,EAAE,CAAC,WAAW,CAAC,GAAG,CAAC,CAAC;QACpB,EAAE,CAAC,WAAW,CAAC,EAAE,CAAC,CAAC;QACnB,KAAK,CAAC,WAAW,CAAC,EAAE,CAAC,CAAC;QAEtB,OAAO,KAAK,CAAC;IACd,CAAC;IAED,MAAM,CAAC,0BAA0B,GAAG,0BAA0B,CAAC;IAE/D,SAAS,oBAAoB,CAAC,GAAG,EAAE,UAAU,EAAE,gBAAgB;QAC9D,IAAI,MAAM,GAAG;YACZ,OAAO,EAAE;gBACR,IAAI,EAAG,OAAO;gBACd,KAAK,EAAG,GAAG;aACX;SAAC,CAAC;QACJ,GAAG,CAAC,cAAc,CAAC,UAAU,EAAE,MAAM,CAAC,CAAC;QAEvC,IAAI,gBAAgB;YACnB,QAAQ,CAAC,iBAAiB,EAAE,CAAC;;YAE7B,UAAU,EAAE,CAAC;IACf,CAAC;IAED,MAAM,CAAC,oBAAoB,GAAG,oBAAoB,CAAC;IAEnD,SAAS,qBAAqB,CAAE,UAAU,EAAE,gBAAgB;QAC3D,GAAG,CAAC,cAAc,CAAC,UAAU,CAAC,CAAC;QAE/B,IAAI,gBAAgB;YACnB,QAAQ,CAAC,iBAAiB,EAAE,CAAC;;YAE7B,UAAU,EAAE,CAAC;IACf,CAAC;IAED,MAAM,CAAC,qBAAqB,GAAG,qBAAqB,CAAC;IAErD,SAAS,oCAAoC,CAAC,IAAI,EAAE,IAAI,EAAE,KAAK,EAAE,UAAU,EAAE,gBAAgB;QAC5F,IAAM,KAAK,GAAG,QAAQ,CAAC,aAAa,CAAC,OAAO,CAAC,CAAC;QAC9C,KAAK,CAAC,EAAE,GAAG,4BAA4B,CAAC;QAExC,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,KAAK,EAAE,CAAC,IAAI,CAAC,EAAE;oCACzB,CAAC;gBACT,IAAI,MAAM,GAAG,CAAC,CAAC;gBAEf,+DAA+D;gBAC/D,IAAI,IAAI,KAAK,SAAS,IAAI,MAAM,IAAI,CAAC;oBACpC,MAAM,EAAE,CAAC;gBAEV,IAAM,SAAS,GAAG,IAAI,GAAG,CAAC,MAAM,GAAG,EAAE,CAAC,CAAC,CAAC,GAAG,CAAA,CAAC,CAAC,EAAE,CAAC,GAAG,MAAM,CAAC;gBAC1D,IAAM,MAAM,GAAG,QAAQ,CAAC,aAAa,CAAC,QAAQ,CAAC,CAAC;gBAChD,MAAM,CAAC,SAAS,GAAG,0BAA0B,GAAG,SAAS,CAAC;gBAC1D,MAAM,CAAC,OAAO,GAAG;oBAChB,oBAAoB,CAAC,MAAM,EAAE,UAAU,EAAE,CAAC,CAAC,gBAAgB,CAAC,CAAC;gBAC9D,CAAC,CAAC;gBACF,KAAK,CAAC,WAAW,CAAC,MAAM,CAAC,CAAC;;YAb3B,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,GAAG,CAAC,EAAE,CAAC,EAAE;wBAArB,CAAC;aAcT;SACD;QAED,IAAI,IAAI,EAAE;YACT,IAAM,MAAM,GAAG,QAAQ,CAAC,aAAa,CAAC,QAAQ,CAAC,CAAC;YAChD,MAAM,CAAC,EAAE,GAAG,MAAM,CAAC;YACnB,MAAM,CAAC,OAAO,GAAG;gBAChB,qBAAqB,CAAC,UAAU,EAAE,CAAC,CAAC,gBAAgB,CAAC,CAAC;YACvD,CAAC,CAAC;YACF,MAAM,CAAC,WAAW,GAAG,CAAC,CAAC,SAAS,CAAC,CAAC;YAClC,KAAK,CAAC,WAAW,CAAC,MAAM,CAAC,CAAC;SAC1B;QAED,OAAO,KAAK,CAAC;IACd,CAAC;IAED,sCAAsC;IACtC,SAAS,gCAAgC,CAAC,IAAI,EAAE,gBAAgB;QAC/D,OAAO,oCAAoC,CAAC,IAAI,EAAE,SAAS,EAAE,EAAE,EAAE,0BAA0B,EAAE,gBAAgB,CAAC,CAAC;IAChH,CAAC;IAED,MAAM,CAAC,gCAAgC,GAAG,gCAAgC,CAAC;IAE3E,yCAAyC;IACzC,SAAS,oCAAoC,CAAC,IAAI,EAAE,gBAAgB;QACnE,OAAO,oCAAoC,CAAC,IAAI,EAAE,UAAU,EAAE,EAAE,EAAE,6BAA6B,EAAE,gBAAgB,CAAC,CAAC;IACpH,CAAC;IAED,MAAM,CAAC,oCAAoC,GAAG,oCAAoC,CAAC;IAEnF,sCAAsC;IACtC,SAAS,iCAAiC,CAAC,IAAI,EAAE,gBAAgB;QAChE,OAAO,oCAAoC,CAAC,IAAI,EAAE,YAAY,EAAE,EAAE,EAAE,0BAA0B,EAAE,gBAAgB,CAAC,CAAC;IACnH,CAAC;IAED,MAAM,CAAC,iCAAiC,GAAG,iCAAiC,CAAC;IAE7E,IAAI,uBAAuB,GAAG,UAAS,KAAK;QAC3C,IAAI,GAAG,GAAG,CAAC,CAAC,KAAK,CAAC,MAAM,CAAC,CAAC,KAAK,EAAE,GAAG,CAAC,CAAC;QACtC,IAAI,GAAG,GAAG,CAAC,CAAC,KAAK,CAAC,MAAM,CAAC,CAAC,MAAM,EAAE,CAAC,KAAK,EAAE,GAAG,CAAC,CAAC;QAC/C,CAAC,CAAC,MAAM,CAAC,CAAC,WAAW,CAAC,QAAQ,CAAC,CAAC;QAChC,IAAI,MAAM,GAAG,CAAC,CAAC,qBAAqB,CAAC,CAAA;QACrC,MAAM,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC;QACrB,IAAI,GAAG,GAAG,wBAAwB;YACjC,wCAAwC;cACtC,GAAG;YACL,wCAAwC;cACtC,GAAG,GAAG,KAAK,CAAC;QAEf,GAAG,CAAC,MAAM,CAAC,WAAW,CAAC,GAAG,CAAC,CAAC;QAC5B,UAAU,EAAE,CAAC;IACd,CAAC,CAAC;IAEF,IAAI,sBAAsB,GAAG,UAAS,KAAK;QAC1C,IAAI,GAAG,GAAG,CAAC,CAAC,KAAK,CAAC,MAAM,CAAC,CAAC,KAAK,EAAE,GAAG,CAAC,CAAC;QACtC,IAAI,GAAG,GAAG,CAAC,CAAC,KAAK,CAAC,MAAM,CAAC,CAAC,MAAM,EAAE,CAAC,KAAK,EAAE,GAAG,CAAC,CAAC;QAC/C,CAAC,CAAC,MAAM,CAAC,CAAC,WAAW,CAAC,QAAQ,CAAC,CAAC;QAChC,CAAC,CAAC,MAAM,CAAC,CAAC,UAAU,CAAC,OAAO,CAAC,CAAC;QAC9B,IAAI,QAAQ,GAAG,CAAC,CAAC,oBAAoB,GAAG,GAAG,GAAG,sBAAsB,GAAG,GAAG,GAAG,GAAG,CAAC;aAC/E,QAAQ,CAAC,QAAQ,CAAC,CAAC;QAErB,IAAI,mBAAmB,GAAG,QAAQ,CAAC,IAAI,EAAE,CAAC;QAC1C,mBAAmB,CAAC,IAAI,CAAC,OAAO,EAAK,GAAG,WAAM,GAAK,CAAC,CAAC;IACtD,CAAC,CAAC;IAEF,SAAS,2BAA2B,CAAC,aAAa;QACjD,sBAAsB,GAAG,aAAa,CAAC;QAEvC,IAAM,SAAS,GAAG,QAAQ,CAAC,aAAa,CAAC,KAAK,CAAC,CAAC;QAEhD,IAAM,IAAI,GAAG,QAAQ,CAAC,aAAa,CAAC,KAAK,CAAC,CAAC;QAC3C,IAAI,CAAC,SAAS,GAAG,kBAAkB,CAAC;QACpC,IAAI,CAAC,WAAW,GAAG,sBAAsB,CAAC;QAC1C,IAAI,CAAC,OAAO,GAAG,uBAAuB,CAAC;QAEvC,SAAS,CAAC,WAAW,GAAG,IAAI,CAAC;QAC7B,SAAS,CAAC,WAAW,CAAC,IAAI,CAAC,CAAC;QAE5B,WAAW,CAAC,SAAS,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC,CAAC;QAEnC,IAAM,gBAAgB,GAAG,QAAQ,CAAC,aAAa,CAAC,KAAK,CAAC,CAAC;QAEvD,IAAM,OAAO,GAAG,QAAQ,CAAC,aAAa,CAAC,KAAK,CAAC,CAAC;QAC9C,OAAO,CAAC,EAAE,GAAG,qBAAqB,CAAC;QAEnC,IAAM,KAAK,GAAG,QAAQ,CAAC,aAAa,CAAC,KAAK,CAAC,CAAC;QAC5C,KAAK,CAAC,EAAE,GAAG,mBAAmB,CAAC;QAC/B,KAAK,CAAC,SAAS,GAAG,yCAAyC,CAAC;QAC5D,KAAK,CAAC,QAAQ,GAAG,CAAC,CAAC;QAEnB,gBAAgB,CAAC,WAAW,CAAC,OAAO,CAAC,CAAC;QACtC,gBAAgB,CAAC,WAAW,CAAC,KAAK,CAAC,CAAC;QAEpC,KAAK,CAAC,WAAW,CAAC,IAAI,CAAC,CAAC;QAExB,OAAO,gBAAgB,CAAC;IACzB,CAAC;IAED,SAAS,WAAW,CAAC,IAA6D;QAA7D,qBAAA,EAAA,OAAO,QAAQ,CAAC,sBAAsB,CAAC,kBAAkB,CAAC,CAAC,CAAC,CAAC;QACjF,IAAI,IAAI,GAAG,EAAE,CAAC;QACd,IAAI,IAAI,GAAG,EAAE,CAAC;QAEd,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,IAAI,EAAE,CAAC,EAAE,EAAE;YAC9B,IAAM,GAAG,GAAG,QAAQ,CAAC,aAAa,CAAC,KAAK,CAAC,CAAC;YAC1C,GAAG,CAAC,SAAS,GAAG,KAAK,CAAC;YACtB,IAAI,CAAC,WAAW,CAAC,GAAG,CAAC,CAAC;YAEtB,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,IAAI,EAAE,CAAC,EAAE,EAAE;gBAC9B,IAAM,GAAG,GAAG,QAAQ,CAAC,aAAa,CAAC,QAAQ,CAAC,CAAC;gBAC7C,GAAG,CAAC,YAAY,CAAC,YAAY,EAAE,CAAC,CAAC,GAAG,CAAC,CAAC,GAAG,GAAG,GAAG,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC;gBACxD,GAAG,CAAC,OAAO,GAAG,sBAAsB,CAAC;gBACrC,GAAG,CAAC,SAAS,GAAG,KAAK,CAAC;gBACtB,GAAG,CAAC,WAAW,CAAC,GAAG,CAAC,CAAC;aACrB;SACD;IACF,CAAC;IAED,IAAI,MAAM,GAAG;QACZ,cAAc,EAAE;YACf,cAAc,EAAE;gBACf,EAAC,GAAG,EAAE,uBAAuB,EAAE,GAAG,EAAE,uBAAuB,EAAE,IAAI,EAAE,IAAI,CAAC,4BAA4B,CAAC,EAAC;gBACtG,EAAC,GAAG,EAAE,6BAA6B,EAAE,GAAG,EAAE,6BAA6B,EAAE,IAAI,EAAE,IAAI,CAAC,kCAAkC,CAAC,EAAC;gBACxH,EAAC,GAAG,EAAE,qBAAqB,EAAE,GAAG,EAAE,qBAAqB,EAAE,IAAI,EAAE,IAAI,CAAC,0BAA0B,CAAC,EAAC;gBAChG,EAAC,GAAG,EAAE,2BAA2B,EAAE,GAAG,EAAE,2BAA2B,EAAE,IAAI,EAAE,IAAI,CAAC,gCAAgC,CAAC,EAAC;gBAClH,EAAC,GAAG,EAAE,oBAAoB,EAAE,GAAG,EAAE,oBAAoB,EAAE,IAAI,EAAE,IAAI,CAAC,yBAAyB,CAAC,EAAC;gBAC7F,EAAC,GAAG,EAAE,qBAAqB,EAAE,GAAG,EAAE,qBAAqB,EAAE,IAAI,EAAE,IAAI,CAAC,0BAA0B,CAAC,EAAC;gBAEhG,EAAC,GAAG,EAAE,wBAAwB,EAAE,GAAG,EAAE,wBAAwB,EAAE,IAAI,EAAE,IAAI,CAAC,6BAA6B,CAAC,EAAC;gBACzG,EAAC,GAAG,EAAE,gCAAgC,EAAE,GAAG,EAAE,gCAAgC,EAAE,IAAI,EAAE,IAAI,CAAC,qCAAqC,CAAC,EAAC;gBACjI,EAAC,GAAG,EAAE,4BAA4B,EAAE,GAAG,EAAE,4BAA4B,EAAE,IAAI,EAAE,IAAI,CAAC,iCAAiC,CAAC,EAAC;gBACrH,EAAC,GAAG,EAAE,uBAAuB,EAAE,GAAG,EAAE,uBAAuB,EAAE,IAAI,EAAE,IAAI,CAAC,4BAA4B,CAAC,EAAC;gBACtG,EAAC,GAAG,EAAE,qBAAqB,EAAE,GAAG,EAAE,qBAAqB,EAAE,IAAI,EAAE,IAAI,CAAC,0BAA0B,CAAC,EAAC;gBAChG,EAAC,GAAG,EAAE,2BAA2B,EAAE,GAAG,EAAE,2BAA2B,EAAE,IAAI,EAAE,IAAI,CAAC,gCAAgC,CAAC,EAAC;gBAElH,EAAC,GAAG,EAAE,sBAAsB,EAAE,GAAG,EAAE,sBAAsB,EAAE,IAAI,EAAE,IAAI,CAAC,2BAA2B,CAAC,EAAC;gBACnG,EAAC,GAAG,EAAE,qBAAqB,EAAE,GAAG,EAAE,qBAAqB,EAAE,IAAI,EAAE,IAAI,CAAC,0BAA0B,CAAC,EAAC;gBAChG,EAAC,GAAG,EAAE,qBAAqB,EAAE,GAAG,EAAE,qBAAqB,EAAE,IAAI,EAAE,IAAI,CAAC,0BAA0B,CAAC,EAAC;gBAChG,EAAC,GAAG,EAAE,mBAAmB,EAAE,GAAG,EAAE,mBAAmB,EAAE,IAAI,EAAE,IAAI,CAAC,wBAAwB,CAAC,EAAC;gBAC1F,EAAC,GAAG,EAAE,kBAAkB,EAAE,GAAG,EAAE,kBAAkB,EAAE,IAAI,EAAE,IAAI,CAAC,uBAAuB,CAAC,EAAC;gBACvF,EAAC,GAAG,EAAE,uBAAuB,EAAE,GAAG,EAAE,uBAAuB,EAAE,IAAI,EAAE,IAAI,CAAC,4BAA4B,CAAC,EAAC;gBAEtG,EAAC,GAAG,EAAE,iBAAiB,EAAE,GAAG,EAAE,iBAAiB,EAAE,IAAI,EAAE,IAAI,CAAC,sBAAsB,CAAC,EAAC;gBACpF,EAAC,GAAG,EAAE,kBAAkB,EAAE,GAAG,EAAE,kBAAkB,EAAE,IAAI,EAAE,IAAI,CAAC,uBAAuB,CAAC,EAAC;gBACvF,EAAC,GAAG,EAAE,mBAAmB,EAAE,GAAG,EAAE,mBAAmB,EAAE,IAAI,EAAE,IAAI,CAAC,wBAAwB,CAAC,EAAC;gBAC1F,EAAC,GAAG,EAAE,mBAAmB,EAAE,GAAG,EAAE,mBAAmB,EAAE,IAAI,EAAE,IAAI,CAAC,wBAAwB,CAAC,EAAC;aAC1F;YAED,eAAe,EAAG;gBACjB,EAAC,GAAG,EAAE,cAAc,EAAE,GAAG,EAAE,qBAAqB,EAAE,IAAI,EAAE,IAAI,CAAC,0BAA0B,CAAC,EAAC;gBACzF,EAAC,GAAG,EAAE,kBAAkB,EAAE,GAAG,EAAE,kBAAkB,EAAE,IAAI,EAAE,IAAI,CAAC,uBAAuB,CAAC,EAAC;gBACvF,EAAC,GAAG,EAAE,mBAAmB,EAAE,GAAG,EAAE,mBAAmB,EAAE,IAAI,EAAE,IAAI,CAAC,wBAAwB,CAAC,EAAC;gBAC1F,EAAC,GAAG,EAAE,wBAAwB,EAAE,GAAG,EAAE,wBAAwB,EAAE,IAAI,EAAE,IAAI,CAAC,6BAA6B,CAAC,EAAC;gBACzG,EAAC,GAAG,EAAE,oBAAoB,EAAE,GAAG,EAAE,oBAAoB,EAAE,IAAI,EAAE,IAAI,CAAC,yBAAyB,CAAC,EAAC;gBAC7F,EAAC,GAAG,EAAE,qBAAqB,EAAE,GAAG,EAAE,qBAAqB,EAAE,IAAI,EAAE,IAAI,CAAC,0BAA0B,CAAC,EAAC;gBAEhG,EAAC,GAAG,EAAE,oBAAoB,EAAE,GAAG,EAAE,oBAAoB,EAAE,IAAI,EAAE,IAAI,CAAC,yBAAyB,CAAC,EAAC;gBAC7F,EAAC,GAAG,EAAE,wBAAwB,EAAE,GAAG,EAAE,wBAAwB,EAAE,IAAI,EAAE,IAAI,CAAC,6BAA6B,CAAC,EAAC;gBACzG,EAAC,GAAG,EAAE,qBAAqB,EAAE,GAAG,EAAE,qBAAqB,EAAE,IAAI,EAAE,IAAI,CAAC,0BAA0B,CAAC,EAAC;gBAChG,EAAC,GAAG,EAAE,2BAA2B,EAAE,GAAG,EAAE,2BAA2B,EAAE,IAAI,EAAE,IAAI,CAAC,gCAAgC,CAAC,EAAC;gBAClH,EAAC,GAAG,EAAE,2BAA2B,EAAE,GAAG,EAAE,2BAA2B,EAAE,IAAI,EAAE,IAAI,CAAC,gCAAgC,CAAC,EAAC;gBAClH,EAAC,GAAG,EAAE,4BAA4B,EAAE,GAAG,EAAE,4BAA4B,EAAE,IAAI,EAAE,IAAI,CAAC,iCAAiC,CAAC,EAAC;gBAErH,EAAC,GAAG,EAAE,yBAAyB,EAAE,GAAG,EAAE,yBAAyB,EAAE,IAAI,EAAE,IAAI,CAAC,8BAA8B,CAAC,EAAC;gBAC5G,EAAC,GAAG,EAAE,yBAAyB,EAAE,GAAG,EAAE,yBAAyB,EAAE,IAAI,EAAE,IAAI,CAAC,8BAA8B,CAAC,EAAC;gBAC5G,EAAC,GAAG,EAAE,0BAA0B,EAAE,GAAG,EAAE,0BAA0B,EAAE,IAAI,EAAE,IAAI,CAAC,+BAA+B,CAAC,EAAC;gBAC/G,EAAC,GAAG,EAAE,yBAAyB,EAAE,GAAG,EAAE,yBAAyB,EAAE,IAAI,EAAE,IAAI,CAAC,8BAA8B,CAAC,EAAC;gBAC5G,EAAC,GAAG,EAAE,4BAA4B,EAAE,GAAG,EAAE,4BAA4B,EAAE,IAAI,EAAE,IAAI,CAAC,iCAAiC,CAAC,EAAC;gBACrH,EAAC,GAAG,EAAE,4BAA4B,EAAE,GAAG,EAAE,4BAA4B,EAAE,IAAI,EAAE,IAAI,CAAC,iCAAiC,CAAC,EAAC;aACrH;YAED,cAAc,EAAE;gBACf,EAAC,GAAG,EAAE,wBAAwB,EAAE,GAAG,EAAE,wBAAwB,EAAE,IAAI,EAAE,IAAI,CAAC,6BAA6B,CAAC,EAAC;gBACzG,EAAC,GAAG,EAAE,yBAAyB,EAAE,GAAG,EAAE,yBAAyB,EAAE,IAAI,EAAE,IAAI,CAAC,8BAA8B,CAAC,EAAC;gBAC5G,EAAC,GAAG,EAAE,sBAAsB,EAAE,GAAG,EAAE,sBAAsB,EAAE,IAAI,EAAE,IAAI,CAAC,2BAA2B,CAAC,EAAC;gBACnG,EAAC,GAAG,EAAE,wBAAwB,EAAE,GAAG,EAAE,wBAAwB,EAAE,IAAI,EAAE,IAAI,CAAC,6BAA6B,CAAC,EAAC;gBACzG,EAAC,GAAG,EAAE,8BAA8B,EAAE,GAAG,EAAE,8BAA8B,EAAE,IAAI,EAAE,IAAI,CAAC,mCAAmC,CAAC,EAAC;gBAC3H,EAAC,GAAG,EAAE,2BAA2B,EAAE,GAAG,EAAE,2BAA2B,EAAE,IAAI,EAAE,IAAI,CAAC,gCAAgC,CAAC,EAAC;gBAElH,EAAC,GAAG,EAAE,4BAA4B,EAAE,GAAG,EAAE,4BAA4B,EAAE,IAAI,EAAE,IAAI,CAAC,iCAAiC,CAAC,EAAC;gBACrH,EAAC,GAAG,EAAE,iCAAiC,EAAE,GAAG,EAAE,iCAAiC,EAAE,IAAI,EAAE,IAAI,CAAC,sCAAsC,CAAC,EAAC;gBACpI,EAAC,GAAG,EAAE,wBAAwB,EAAE,GAAG,EAAE,wBAAwB,EAAE,IAAI,EAAE,IAAI,CAAC,6BAA6B,CAAC,EAAC;gBACzG,EAAC,GAAG,EAAE,gCAAgC,EAAE,GAAG,EAAE,gCAAgC,EAAE,IAAI,EAAE,IAAI,CAAC,qCAAqC,CAAC,EAAC;gBACjI,EAAC,GAAG,EAAE,yBAAyB,EAAE,GAAG,EAAE,yBAAyB,EAAE,IAAI,EAAE,IAAI,CAAC,8BAA8B,CAAC,EAAC;gBAC5G,EAAC,GAAG,EAAE,iCAAiC,EAAE,GAAG,EAAE,iCAAiC,EAAE,IAAI,EAAE,IAAI,CAAC,sCAAsC,CAAC,EAAC;gBAEpI,EAAC,GAAG,EAAE,iCAAiC,EAAE,GAAG,EAAE,iCAAiC,EAAE,IAAI,EAAE,IAAI,CAAC,sCAAsC,CAAC,EAAC;gBACpI,EAAC,GAAG,EAAE,4BAA4B,EAAE,GAAG,EAAE,4BAA4B,EAAE,IAAI,EAAE,IAAI,CAAC,iCAAiC,CAAC,EAAC;gBACrH,EAAC,GAAG,EAAE,qBAAqB,EAAE,GAAG,EAAE,qBAAqB,EAAE,IAAI,EAAE,IAAI,CAAC,0BAA0B,CAAC,EAAC;gBAChG,EAAC,GAAG,EAAE,iCAAiC,EAAE,GAAG,EAAE,iCAAiC,EAAE,IAAI,EAAE,IAAI,CAAC,sCAAsC,CAAC,EAAC;gBACpI,EAAC,GAAG,EAAE,gCAAgC,EAAE,GAAG,EAAE,gCAAgC,EAAE,IAAI,EAAE,IAAI,CAAC,qCAAqC,CAAC,EAAC;gBACjI,EAAC,GAAG,EAAE,8BAA8B,EAAE,GAAG,EAAE,8BAA8B,EAAE,IAAI,EAAE,IAAI,CAAC,mCAAmC,CAAC,EAAC;gBAE3H,EAAC,GAAG,EAAE,gCAAgC,EAAE,GAAG,EAAE,gCAAgC,EAAE,IAAI,EAAE,IAAI,CAAC,qCAAqC,CAAC,EAAC;gBACjI,EAAC,GAAG,EAAE,sCAAsC,EAAE,GAAG,EAAE,sCAAsC,EAAE,IAAI,EAAE,IAAI,CAAC,2CAA2C,CAAC,EAAC;gBACnJ,EAAC,GAAG,EAAE,mCAAmC,EAAE,GAAG,EAAE,mCAAmC,EAAE,IAAI,EAAE,IAAI,CAAC,wCAAwC,CAAC,EAAC;gBAC1I,EAAC,GAAG,EAAE,oCAAoC,EAAE,GAAG,EAAE,oCAAoC,EAAE,IAAI,EAAE,IAAI,CAAC,yCAAyC,CAAC,EAAC;gBAC7I,EAAC,GAAG,EAAE,gCAAgC,EAAE,GAAG,EAAE,gCAAgC,EAAE,IAAI,EAAE,IAAI,CAAC,qCAAqC,CAAC,EAAC;gBACjI,EAAC,GAAG,EAAE,4BAA4B,EAAE,GAAG,EAAE,4BAA4B,EAAE,IAAI,EAAE,IAAI,CAAC,iCAAiC,CAAC,EAAC;gBAErH,EAAC,GAAG,EAAE,+BAA+B,EAAE,GAAG,EAAE,+BAA+B,EAAE,IAAI,EAAE,IAAI,CAAC,oCAAoC,CAAC,EAAC;gBAC9H,EAAC,GAAG,EAAE,6BAA6B,EAAE,GAAG,EAAE,6BAA6B,EAAE,IAAI,EAAE,IAAI,CAAC,kCAAkC,CAAC,EAAC;aACxH;YAED,mBAAmB,EAAE;gBACpB,EAAC,GAAG,EAAE,iBAAiB,EAAE,GAAG,EAAE,iBAAiB,EAAE,IAAI,EAAE,IAAI,CAAC,sBAAsB,CAAC,EAAC;gBACpF,EAAC,GAAG,EAAE,kBAAkB,EAAE,GAAG,EAAE,kBAAkB,EAAE,IAAI,EAAE,IAAI,CAAC,uBAAuB,CAAC,EAAC;gBACvF,EAAC,GAAG,EAAE,kBAAkB,EAAE,GAAG,EAAE,kBAAkB,EAAE,IAAI,EAAE,IAAI,CAAC,uBAAuB,CAAC,EAAC;gBACvF,EAAC,GAAG,EAAE,kBAAkB,EAAE,GAAG,EAAE,kBAAkB,EAAE,IAAI,EAAE,IAAI,CAAC,uBAAuB,CAAC,EAAC;gBACvF,EAAC,GAAG,EAAE,kBAAkB,EAAE,GAAG,EAAE,kBAAkB,EAAE,IAAI,EAAE,IAAI,CAAC,uBAAuB,CAAC,EAAC;gBACvF,EAAC,GAAG,EAAE,mBAAmB,EAAE,GAAG,EAAE,mBAAmB,EAAE,IAAI,EAAE,IAAI,CAAC,wBAAwB,CAAC,EAAC;gBAE1F,EAAC,GAAG,EAAE,mBAAmB,EAAE,GAAG,EAAE,mBAAmB,EAAE,IAAI,EAAE,IAAI,CAAC,wBAAwB,CAAC,EAAC;gBAC1F,EAAC,GAAG,EAAE,0BAA0B,EAAE,GAAG,EAAE,0BAA0B,EAAE,IAAI,EAAE,IAAI,CAAC,+BAA+B,CAAC,EAAC;gBAC/G,EAAC,GAAG,EAAE,4BAA4B,EAAE,GAAG,EAAE,4BAA4B,EAAE,IAAI,EAAE,IAAI,CAAC,iCAAiC,CAAC,EAAC;gBACrH,EAAC,GAAG,EAAE,8BAA8B,EAAE,GAAG,EAAE,8BAA8B,EAAE,IAAI,EAAE,IAAI,CAAC,mCAAmC,CAAC,EAAC;gBAC3H,EAAC,GAAG,EAAE,mBAAmB,EAAE,GAAG,EAAE,mBAAmB,EAAE,IAAI,EAAE,IAAI,CAAC,wBAAwB,CAAC,EAAC;gBAC1F,EAAC,GAAG,EAAE,sBAAsB,EAAE,GAAG,EAAE,sBAAsB,EAAE,IAAI,EAAE,IAAI,CAAC,2BAA2B,CAAC,EAAC;aACnG;YAED,UAAU,EAAE;gBACX,EAAC,GAAG,EAAE,mCAAmC,EAAE,GAAG,EAAE,mCAAmC,EAAE,IAAI,EAAE,IAAI,CAAC,wCAAwC,CAAC,EAAC;gBAC1I,EAAC,GAAG,EAAE,yCAAyC,EAAC,GAAG,EAAE,yCAAyC,EAAE,IAAI,EAAE,IAAI,CAAC,8CAA8C,CAAC,EAAC;gBAC3J,EAAC,GAAG,EAAE,6BAA6B,EAAE,GAAG,EAAE,6BAA6B,EAAE,IAAI,EAAE,IAAI,CAAC,kCAAkC,CAAC,EAAC;gBACxH,EAAC,GAAG,EAAE,6BAA6B,EAAE,GAAG,EAAE,6BAA6B,EAAE,IAAI,EAAE,IAAI,CAAC,kCAAkC,CAAC,EAAC;gBACxH,EAAC,GAAG,EAAE,8BAA8B,EAAE,GAAG,EAAE,8BAA8B,EAAE,IAAI,EAAE,IAAI,CAAC,mCAAmC,CAAC,EAAC;gBAC3H,EAAC,GAAG,EAAE,8BAA8B,EAAE,GAAG,EAAE,8BAA8B,EAAE,IAAI,EAAE,IAAI,CAAC,mCAAmC,CAAC,EAAC;gBAC3H,EAAC,GAAG,EAAE,8BAA8B,EAAE,GAAG,EAAE,8BAA8B,EAAE,IAAI,EAAE,IAAI,CAAC,mCAAmC,CAAC,EAAC;aAC3H;YAED,WAAW,EAAE;gBACZ,EAAC,GAAG,EAAE,mCAAmC,EAAE,GAAG,EAAE,mCAAmC,EAAE,IAAI,EAAE,IAAI,CAAC,wCAAwC,CAAC,EAAC;gBAC1I,EAAC,GAAG,EAAE,6CAA6C,EAAE,GAAG,EAAE,6CAA6C,EAAE,IAAI,EAAE,IAAI,CAAC,kDAAkD,CAAC,EAAC;gBACxK,EAAC,GAAG,EAAE,oCAAoC,EAAE,GAAG,EAAE,oCAAoC,EAAE,IAAI,EAAE,IAAI,CAAC,yCAAyC,CAAC,EAAC;gBAC7I,EAAC,GAAG,EAAE,gCAAgC,EAAE,GAAG,EAAE,gCAAgC,EAAE,IAAI,EAAE,IAAI,CAAC,qCAAqC,CAAC,EAAC;gBACjI,EAAC,GAAG,EAAE,8CAA8C,EAAE,GAAG,EAAE,8CAA8C,EAAE,IAAI,EAAE,IAAI,CAAC,mDAAmD,CAAC,EAAC;gBAC3K,EAAC,GAAG,EAAE,4CAA4C,EAAE,GAAG,EAAE,4CAA4C,EAAE,IAAI,EAAE,IAAI,CAAC,iDAAiD,CAAC,EAAC;gBAErK,EAAC,GAAG,EAAE,oCAAoC,EAAE,GAAG,EAAE,oCAAoC,EAAE,IAAI,EAAE,IAAI,CAAC,yCAAyC,CAAC,EAAC;gBAC7I,EAAC,GAAG,EAAE,yCAAyC,EAAE,GAAG,EAAE,yCAAyC,EAAE,IAAI,EAAE,IAAI,CAAC,8CAA8C,CAAC,EAAC;gBAC5J,EAAC,GAAG,EAAE,sCAAsC,EAAE,GAAG,EAAE,sCAAsC,EAAE,IAAI,EAAE,IAAI,CAAC,2CAA2C,CAAC,EAAC;gBACnJ,EAAC,GAAG,EAAE,uCAAuC,EAAE,GAAG,EAAE,uCAAuC,EAAE,IAAI,EAAE,IAAI,CAAC,4CAA4C,CAAC,EAAC;gBACtJ,EAAC,GAAG,EAAE,wCAAwC,EAAE,GAAG,EAAE,wCAAwC,EAAE,IAAI,EAAE,IAAI,CAAC,6CAA6C,CAAC,EAAC;gBACzJ,EAAC,GAAG,EAAE,4CAA4C,EAAE,GAAG,EAAE,4CAA4C,EAAE,IAAI,EAAE,IAAI,CAAC,iDAAiD,CAAC,EAAC;gBAErK,EAAC,GAAG,EAAE,qCAAqC,EAAE,GAAG,EAAE,qCAAqC,EAAE,IAAI,EAAE,IAAI,CAAC,0CAA0C,CAAC,EAAC;gBAChJ,EAAC,GAAG,EAAE,8CAA8C,EAAE,GAAG,EAAE,8CAA8C,EAAE,IAAI,EAAE,IAAI,CAAC,mDAAmD,CAAC,EAAC;gBAC3K,EAAC,GAAG,EAAE,gCAAgC,EAAE,GAAG,EAAE,gCAAgC,EAAE,IAAI,EAAE,IAAI,CAAC,qCAAqC,CAAC,EAAC;gBACjI,EAAC,GAAG,EAAE,wCAAwC,EAAE,GAAG,EAAE,wCAAwC,EAAE,IAAI,EAAE,IAAI,CAAC,6CAA6C,CAAC,EAAC;gBACzJ,EAAC,GAAG,EAAE,4CAA4C,EAAE,GAAG,EAAE,4CAA4C,EAAE,IAAI,EAAE,IAAI,CAAC,iDAAiD,CAAC,EAAC;gBACrK,EAAC,GAAG,EAAE,8BAA8B,EAAE,GAAG,EAAE,8BAA8B,EAAE,IAAI,EAAE,IAAI,CAAC,mCAAmC,CAAC,EAAC;gBAE3H,EAAC,GAAG,EAAE,mCAAmC,EAAE,GAAG,EAAE,mCAAmC,EAAE,IAAI,EAAE,IAAI,CAAC,wCAAwC,CAAC,EAAC;gBAC1I,EAAC,GAAG,EAAE,gCAAgC,EAAE,GAAG,EAAE,gCAAgC,EAAE,IAAI,EAAE,IAAI,CAAC,qCAAqC,CAAC,EAAC;gBACjI,EAAC,GAAG,EAAE,mCAAmC,EAAE,GAAG,EAAE,mCAAmC,EAAE,IAAI,EAAE,IAAI,CAAC,wCAAwC,CAAC,EAAC;gBAC1I,EAAC,GAAG,EAAE,iCAAiC,EAAE,GAAG,EAAE,iCAAiC,EAAE,IAAI,EAAE,IAAI,CAAC,sCAAsC,CAAC,EAAC;gBACpI,EAAC,GAAG,EAAE,uCAAuC,EAAE,GAAG,EAAE,uCAAuC,EAAE,IAAI,EAAE,IAAI,CAAC,4CAA4C,CAAC,EAAC;gBACtJ,EAAC,GAAG,EAAE,iCAAiC,EAAE,GAAG,EAAE,iCAAiC,EAAE,IAAI,EAAE,IAAI,CAAC,sCAAsC,CAAC,EAAC;gBAEpI,EAAC,GAAG,EAAE,6CAA6C,EAAE,GAAG,EAAE,6CAA6C,EAAE,IAAI,EAAE,IAAI,CAAC,kDAAkD,CAAC,EAAC;gBACxK,EAAC,GAAG,EAAE,yCAAyC,EAAE,GAAG,EAAE,yCAAyC,EAAE,IAAI,EAAE,IAAI,CAAC,8CAA8C,CAAC,EAAC;gBAC5J,EAAC,GAAG,EAAE,iDAAiD,EAAE,GAAG,EAAE,iDAAiD,EAAE,IAAI,EAAE,IAAI,CAAC,sDAAsD,CAAC,EAAC;gBACpL,EAAC,GAAG,EAAE,mCAAmC,EAAE,GAAG,EAAE,mCAAmC,EAAE,IAAI,EAAE,IAAI,CAAC,wCAAwC,CAAC,EAAC;aAC1I;SACD;QACD,kBAAkB,EAAE;YACnB,YAAY,EAAE;gBACb,EAAC,GAAG,EAAE,sBAAsB,EAAE,GAAG,EAAE,WAAW,EAAE,IAAI,EAAE,IAAI,CAAC,gBAAgB,EAAE,cAAc,CAAC,EAAC;gBAC7F,EAAC,GAAG,EAAE,4BAA4B,EAAE,GAAG,EAAE,iBAAiB,EAAE,IAAI,EAAE,IAAI,CAAC,sBAAsB,EAAE,cAAc,CAAC,EAAC;gBAC/G,EAAC,GAAG,EAAE,8BAA8B,EAAE,GAAG,EAAE,mBAAmB,EAAE,IAAI,EAAE,IAAI,CAAC,wBAAwB,EAAE,cAAc,CAAC,EAAC;gBACrH,EAAC,GAAG,EAAE,kCAAkC,EAAE,GAAG,EAAE,uBAAuB,EAAE,IAAI,EAAE,IAAI,CAAC,4BAA4B,EAAE,cAAc,CAAC,EAAC;gBACjI,EAAC,GAAG,EAAE,mCAAmC,EAAE,GAAG,EAAE,wBAAwB,EAAE,IAAI,EAAE,IAAI,CAAC,6BAA6B,EAAE,cAAc,CAAC,EAAC;gBACpI,EAAC,GAAG,EAAE,mCAAmC,EAAE,GAAG,EAAE,wBAAwB,EAAE,IAAI,EAAE,IAAI,CAAC,6BAA6B,EAAE,cAAc,CAAC,EAAC;gBACpI,EAAC,GAAG,EAAE,0BAA0B,EAAE,GAAG,EAAE,eAAe,EAAE,IAAI,EAAE,IAAI,CAAC,oBAAoB,EAAE,cAAc,CAAC,EAAC;gBACzG,EAAC,GAAG,EAAE,2BAA2B,EAAE,GAAG,EAAE,gBAAgB,EAAE,IAAI,EAAE,IAAI,CAAC,qBAAqB,EAAE,cAAc,CAAC,EAAC;gBAC5G,EAAC,GAAG,EAAE,2BAA2B,EAAE,GAAG,EAAE,gBAAgB,EAAE,IAAI,EAAE,IAAI,CAAC,qBAAqB,EAAE,cAAc,CAAC,EAAC;gBAC5G,EAAC,GAAG,EAAE,gCAAgC,EAAE,GAAG,EAAE,qBAAqB,EAAE,IAAI,EAAE,IAAI,CAAC,0BAA0B,EAAE,cAAc,CAAC,EAAC;gBAC3H,EAAC,GAAG,EAAE,iCAAiC,EAAE,GAAG,EAAE,sBAAsB,EAAE,IAAI,EAAE,IAAI,CAAC,2BAA2B,EAAE,cAAc,CAAC,EAAC;aAC9H;SACD;KACD,CAAC;IAEF,SAAS,iBAAiB,CAAC,SAAS;QACnC,IAAM,OAAO,GAAG,QAAQ,CAAC,aAAa,CAAC,KAAK,CAAC,CAAC;QAC9C,OAAO,CAAC,SAAS,GAAG,cAAc,CAAC;QACnC,OAAO,CAAC,EAAE,GAAG,qBAAqB,CAAC;QAEnC,IAAM,IAAI,GAAG,QAAQ,CAAC,aAAa,CAAC,KAAK,CAAC,CAAC;QAC3C,IAAI,CAAC,SAAS,GAAG,+BAA+B,CAAC;QAEjD,IAAI,UAAU,GAAG,MAAM,CAAC,SAAS,CAAC,CAAC;QAEnC,KAAK,IAAI,CAAC,IAAI,UAAU,EAAE;YACzB,IAAM,SAAS,GAAG,QAAQ,CAAC,aAAa,CAAC,KAAK,CAAC,CAAC;YAChD,SAAS,CAAC,SAAS,GAAG,sBAAsB,CAAC;YAC7C,SAAS,CAAC,WAAW,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC;YAC7B,IAAI,CAAC,WAAW,CAAC,SAAS,CAAC,CAAC;YAE5B,IAAM,GAAG,GAAG,QAAQ,CAAC,aAAa,CAAC,KAAK,CAAC,CAAC;YAC1C,GAAG,CAAC,SAAS,GAAG,KAAK,CAAC;YACtB,IAAI,CAAC,WAAW,CAAC,GAAG,CAAC,CAAC;YAEtB,KAAK,IAAI,GAAG,GAAG,CAAC,EAAE,GAAG,GAAG,UAAU,CAAC,CAAC,CAAC,CAAC,MAAM,EAAE,EAAE,GAAG,EAAE;gBACpD,IAAM,KAAK,GAAG,UAAU,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC;gBAEjC,IAAM,GAAG,GAAG,QAAQ,CAAC,aAAa,CAAC,KAAK,CAAC,CAAC;gBAC1C,GAAG,CAAC,SAAS,GAAG,gBAAgB,GAAG,KAAK,CAAC,GAAG,CAAC;gBAC7C,GAAG,CAAC,OAAO,CAAC,GAAG,GAAG,KAAK,CAAC,GAAG,CAAC;gBAC5B,GAAG,CAAC,WAAW,CAAC,GAAG,CAAC,CAAC;aACrB;SACD;QAED,IAAI,CAAC,OAAO,GAAG,UAAS,CAAC;YACxB,GAAG,CAAC,cAAc,CAAC,OAAO,GAAG,CAAC,CAAC,MAAM,CAAC,OAAO,CAAC,GAAG,CAAC,CAAC;YACnD,GAAG,CAAC,SAAS,CAAC,kBAAkB,EAAE,CAAC;QACpC,CAAC,CAAC;QAEF,OAAO,CAAC,WAAW,CAAC,IAAI,CAAC,CAAC;QAE1B,OAAO,OAAO,CAAC;IAChB,CAAC;IAED,IAAI,oBAAoB,GAAG,UAAS,CAAC;QACpC,GAAG,CAAC,GAAG,CAAC,cAAc,CAAC,OAAO,GAAG,CAAC,CAAC,CAAC,CAAC,MAAM,CAAC,CAAC,IAAI,EAAE,CAAC,GAAG,CAAC,CAAC;QACzD,UAAU,EAAE,CAAC;QACb,CAAC,CAAC,eAAe,EAAE,CAAC;IACrB,CAAC,CAAC;IAEF,IAAI,oBAAoB,GAAG,UAAS,KAAK;QACxC,IAAI,KAAK,CAAC,IAAI,KAAK,OAAO,IAAI,KAAK,CAAC,IAAI,KAAK,OAAO,EAAE;YACrD,GAAG,CAAC,GAAG,CAAC,cAAc,CAAC,OAAO,GAAG,KAAK,CAAC,MAAM,CAAC,OAAO,CAAC,GAAG,CAAC,CAAC;YAC3D,UAAU,EAAE,CAAC;SACb;QACD,KAAK,CAAC,eAAe,EAAE,CAAC;IACzB,CAAC,CAAC;IAEF,IAAI,sBAAsB,GAAG,UAAS,KAAK;QAC1C,IAAI,KAAK,CAAC,IAAI,KAAK,QAAQ,EAAE;YAC5B,UAAU,EAAE,CAAC;YACb,GAAG,CAAC,GAAG,CAAC,KAAK,EAAE,CAAC;SAChB;IACF,CAAC,CAAC;IAEF,SAAS,YAAY,CAAC,SAAS,EAAE,IAA6D,EAAE,KAAK;QAApE,qBAAA,EAAA,OAAO,QAAQ,CAAC,sBAAsB,CAAC,kBAAkB,CAAC,CAAC,CAAC,CAAC;QAE7F,IAAI,CAAC,SAAS,CAAC,GAAG,CAAC,SAAS,CAAC,CAAC;QAE9B,IAAI,MAAM,CAAC,IAAI,CAAC,SAAS,EAAE,IAAI,MAAM,CAAC,IAAI,CAAC,QAAQ,EAAE;YACpD,IAAI,CAAC,KAAK,CAAC,YAAY,GAAG,KAAK,CAAC;QAEjC,IAAI,IAAI,CAAC,UAAU;YAClB,OAAO;QAER,IAAI,UAAU,GAAG,MAAM,CAAC,SAAS,CAAC,CAAC;QAEnC,KAAK,IAAI,CAAC,IAAI,UAAU,EAAE;YACzB,IAAM,SAAS,GAAG,QAAQ,CAAC,aAAa,CAAC,KAAK,CAAC,CAAC;YAChD,SAAS,CAAC,SAAS,GAAG,sBAAsB,CAAC;YAC7C,SAAS,CAAC,WAAW,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC;YAC7B,IAAI,CAAC,WAAW,CAAC,SAAS,CAAC,CAAC;YAE5B,IAAI,IAAI,GAAG,IAAI,CAAC,IAAI,CAAC,UAAU,CAAC,CAAC,CAAC,CAAC,MAAM,GAAG,KAAK,CAAC,CAAC;YACnD,IAAI,GAAG,GAAG,CAAC,CAAC;YACZ,IAAM,GAAG,GAAG,QAAQ,CAAC,aAAa,CAAC,KAAK,CAAC,CAAC;YAC1C,GAAG,CAAC,SAAS,GAAG,KAAK,CAAC;YACtB,IAAI,CAAC,WAAW,CAAC,GAAG,CAAC,CAAC;YACtB,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,IAAI,EAAE,CAAC,EAAE,EAAE;gBAE9B,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,KAAK,EAAE,CAAC,EAAE,EAAE;oBAC/B,IAAI,GAAG,IAAI,UAAU,CAAC,CAAC,CAAC,CAAC,MAAM,EAAE;wBAChC,MAAM;qBACN;oBAED,IAAM,KAAK,GAAG,UAAU,CAAC,CAAC,CAAC,CAAC,GAAG,EAAE,CAAC,CAAC;oBACnC,IAAM,GAAG,GAAG,QAAQ,CAAC,aAAa,CAAC,KAAK,CAAC,CAAC;oBAE1C,GAAG,CAAC,SAAS,GAAG,gBAAgB,GAAG,KAAK,CAAC,GAAG,CAAC;oBAC7C,GAAG,CAAC,OAAO,CAAC,GAAG,GAAG,KAAK,CAAC,GAAG,CAAC;oBAC5B,GAAG,CAAC,YAAY,CAAC,cAAc,EAAE,KAAK,CAAC,IAAI,CAAC,CAAC;oBAC7C,CAAC,CAAC,OAAO,CAAC,0BAA0B,CAAC,GAAG,EAAE,GAAG,CAAC,CAAC;oBAC/C,GAAG,CAAC,QAAQ,GAAG,CAAC,CAAC;oBACjB,GAAG,CAAC,YAAY,CAAC,OAAO,EAAE,CAAC,GAAG,GAAG,GAAG,CAAC,CAAC,CAAC;oBACvC,GAAG,CAAC,WAAW,CAAC,GAAG,CAAC,CAAC;iBACrB;gBAED,IAAI,GAAG,IAAI,UAAU,CAAC,CAAC,CAAC,CAAC,MAAM;oBAC9B,MAAM;aACP;SACD;IACF,CAAC;IAED,SAAS,sBAAsB,CAAC,aAAa;QAC5C,sBAAsB,GAAG,aAAa,CAAC;QAEvC,IAAM,IAAI,GAAG,QAAQ,CAAC,aAAa,CAAC,KAAK,CAAC,CAAC;QAC3C,IAAI,CAAC,SAAS,GAAG,kBAAkB,CAAC;QACpC,IAAI,CAAC,OAAO,GAAG,oBAAoB,CAAC;QACpC,IAAI,CAAC,OAAO,GAAG,oBAAoB,CAAC;QACpC,IAAI,CAAC,SAAS,GAAG,sBAAsB,CAAC;QAExC,IAAM,SAAS,GAAG,QAAQ,CAAC,aAAa,CAAC,KAAK,CAAC,CAAC;QAChD,SAAS,CAAC,WAAW,CAAC,IAAI,CAAC,CAAC;QAE5B,YAAY,CAAC,cAAc,EAAE,SAAS,CAAC,QAAQ,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC;QAExD,IAAM,gBAAgB,GAAG,QAAQ,CAAC,aAAa,CAAC,KAAK,CAAC,CAAC;QAEvD,IAAM,OAAO,GAAG,QAAQ,CAAC,aAAa,CAAC,KAAK,CAAC,CAAC;QAC9C,OAAO,CAAC,EAAE,GAAG,qBAAqB,CAAC;QAEnC,gBAAgB,CAAC,WAAW,CAAC,OAAO,CAAC,CAAC;QAEtC,IAAM,KAAK,GAAG,QAAQ,CAAC,aAAa,CAAC,KAAK,CAAC,CAAC;QAC5C,KAAK,CAAC,EAAE,GAAG,mBAAmB,CAAC;QAC/B,KAAK,CAAC,SAAS,GAAG,yCAAyC,CAAC;QAE5D,gBAAgB,CAAC,WAAW,CAAC,KAAK,CAAC,CAAC;QAEpC,KAAK,CAAC,WAAW,CAAC,IAAI,CAAC,CAAC;QAExB,OAAO,gBAAgB,CAAC;IACzB,CAAC;IAED,SAAS,0BAA0B,CAAC,aAAa;QAChD,sBAAsB,GAAG,aAAa,CAAC;QAEvC,IAAM,aAAa,GAAG,QAAQ,CAAC,aAAa,CAAC,KAAK,CAAC,CAAC;QAEpD,IAAM,IAAI,GAAG,QAAQ,CAAC,aAAa,CAAC,KAAK,CAAC,CAAC;QAC3C,IAAI,CAAC,SAAS,GAAG,kBAAkB,CAAC;QACpC,IAAI,CAAC,OAAO,GAAG,oBAAoB,CAAC;QACpC,IAAI,CAAC,OAAO,GAAG,oBAAoB,CAAC;QACpC,IAAI,CAAC,SAAS,GAAG,sBAAsB,CAAC;QAExC,aAAa,CAAC,WAAW,CAAC,IAAI,CAAC,CAAC;QAEhC,YAAY,CAAC,kBAAkB,EAAE,aAAa,CAAC,QAAQ,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;QAG/D,IAAM,gBAAgB,GAAG,QAAQ,CAAC,aAAa,CAAC,KAAK,CAAC,CAAC;QACvD,IAAM,OAAO,GAAG,QAAQ,CAAC,aAAa,CAAC,KAAK,CAAC,CAAC;QAE9C,OAAO,CAAC,EAAE,GAAG,qBAAqB,CAAC;QAEnC,IAAM,KAAK,GAAG,QAAQ,CAAC,aAAa,CAAC,KAAK,CAAC,CAAC;QAC5C,KAAK,CAAC,EAAE,GAAG,mBAAmB,CAAC;QAC/B,KAAK,CAAC,SAAS,GAAG,yCAAyC,CAAC;QAE5D,gBAAgB,CAAC,WAAW,CAAC,OAAO,CAAC,CAAC;QACtC,gBAAgB,CAAC,WAAW,CAAC,KAAK,CAAC,CAAC;QACpC,KAAK,CAAC,WAAW,CAAC,IAAI,CAAC,CAAC;QAExB,OAAO,gBAAgB,CAAC;IACzB,CAAC;IAED,SAAS,sBAAsB,CAAC,EAAE;QACjC,IAAM,GAAG,GAAG,QAAQ,CAAC,aAAa,CAAC,KAAK,CAAC,CAAC;QAC1C,GAAG,CAAC,EAAE,GAAG,EAAE,GAAG,UAAU,CAAC;QACzB,OAAO,GAAG,CAAC;IACZ,CAAC;IAED,SAAS,kBAAkB,CAAC,IAAI;QAC/B,IAAI,GAAG,CAAC;QACR,IAAI,IAAI,KAAK,YAAY,EAAE;YAC1B,IAAI,GAAG,CAAC,UAAU,EAAE,KAAK,aAAa;gBAClC,GAAG,CAAC,UAAU,EAAE,KAAK,cAAc;gBACtC,GAAG,GAAG,YAAY,CAAC;;gBAEnB,GAAG,GAAG,gBAAgB,CAAC;SACxB;aAAM,IAAI,IAAI,KAAK,iBAAiB,EAAE;YACtC,IAAI,GAAG,CAAC,UAAU,EAAE,KAAK,aAAa;gBACrC,GAAG,GAAG,sBAAsB,CAAC;;gBAE7B,GAAG,GAAG,oBAAoB,CAAC;SAC5B;QACD,IAAI,IAAI,GAAG;YACV,EAAE,EAAE,aAAa;YACjB,IAAI,EAAE,QAAQ;YACd,IAAI,EAAE,CAAC,CAAC,IAAI,CAAC;YACb,OAAO,EAAE,MAAM;YACf,QAAQ,EAAE;gBACT;oBACC,IAAI,EAAE,UAAU;oBAChB,IAAI,EAAE,EAAE;oBACR,OAAO,EAAE,GAAG;oBACZ,SAAS,EAAE,IAAI;iBACf;aACD;YACD,QAAQ,EAAE,MAAM;SAChB,CAAC;QACF,OAAO,IAAI,CAAC;IACb,CAAC;IAED,SAAS,iBAAiB,CAAC,WAAW;QAErC,IAAI,EAAE,GAAG,WAAW,CAAC,WAAW,EAAE,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC;QAC7C,IAAI,aAAa,GAAG,MAAM,CAAC;QAE3B,IAAI,GAAG,CAAC,KAAK,IAAI,GAAG,CAAC,KAAK,CAAC,cAAc;YACxC,aAAa,GAAG,GAAG,CAAC,KAAK,CAAC,cAAc,CAAC;QAE1C,IAAI,GAAG,CAAC,UAAU,EAAE,KAAK,aAAa,EAAE;YACvC,QAAQ,EAAE,EAAE;gBACZ,KAAK,WAAW;oBACf,EAAE,GAAG,UAAU,CAAC;oBAChB,MAAM;gBACP,KAAK,uBAAuB;oBAC3B,EAAE,GAAG,YAAY,CAAC;oBAClB,MAAM;gBACP,KAAK,YAAY;oBAChB,EAAE,GAAG,WAAW,CAAC;oBACjB,MAAM;aACN;SACD;aACI,IAAI,aAAa,IAAI,SAAS,EAAE;YAEpC,wCAAwC;YACxC,IAAI,EAAE,KAAK,UAAU,IAAI,EAAE,KAAK,WAAW;gBAC1C,EAAE,KAAK,YAAY,EAAE;gBACrB,EAAE,GAAG,EAAE,CAAC;aACR;YAED,8DAA8D;YAC9D,QAAQ,EAAE,EAAE;gBACZ,KAAK,iBAAiB;oBACrB,EAAE,GAAG,UAAU,CAAC;oBAChB,MAAM;gBACP,KAAK,aAAa;oBACjB,EAAE,GAAG,YAAY,CAAC;oBAClB,MAAM;gBACP,KAAK,kBAAkB;oBACtB,EAAE,GAAG,WAAW,CAAC;oBACjB,MAAM;aACN;SACD;aACI,IAAI,EAAE,KAAK,iBAAiB,IAAI,EAAE,KAAK,aAAa;YACxD,EAAE,KAAK,kBAAkB,EAAE;YAC3B,kEAAkE;YAClE,EAAE,GAAG,EAAE,CAAC;SACR;QAED,IAAI,EAAE,KAAK,iBAAiB;YAC3B,EAAE,GAAG,MAAM,CAAC;QAEb,OAAO,EAAE,CAAC;IACX,CAAC;IAED,SAAS,eAAe;QACvB,IAAI,aAAa,GAAG,CAAC,CAAC,OAAO,CAAC,GAAG,CAAC,eAAe,CAAC,CAAC;QACnD,IAAI,OAAO,IAAI,aAAa,EAAE;YAC7B,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,aAAa,CAAC,KAAK,CAAC,MAAM,EAAE,CAAC,EAAE,EAAE;gBACpD,IAAI,IAAI,GAAG,aAAa,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC;gBAClC,GAAG,CAAC,aAAa,CAAC,IAAI,CAAC,CAAC;aACxB;SACD;QAED,uEAAuE;QACvE,oCAAoC;QACpC,aAAa,CAAC,KAAK,GAAG,IAAI,CAAC;QAC3B,OAAO,KAAK,CAAC;IACd,CAAC;IAED,SAAS,kBAAkB;QAC1B,IAAI,gBAAgB,GAAG,CAAC,CAAC,OAAO,CAAC,GAAG,CAAC,kBAAkB,CAAC,CAAC;QACzD,IAAI,OAAO,IAAI,gBAAgB,EAAE;YAChC,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,gBAAgB,CAAC,KAAK,CAAC,MAAM,EAAE,CAAC,EAAE,EAAE;gBACvD,IAAI,IAAI,GAAG,gBAAgB,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC;gBACrC,GAAG,CAAC,gBAAgB,CAAC,IAAI,CAAC,CAAC;aAC3B;SACD;QAED,uEAAuE;QACvE,oCAAoC;QACpC,gBAAgB,CAAC,KAAK,GAAG,IAAI,CAAC;QAC9B,OAAO,KAAK,CAAC;IACd,CAAC;IAED,SAAS,kBAAkB;QAC1B,IAAI,gBAAgB,GAAG,CAAC,CAAC,OAAO,CAAC,GAAG,CAAC,kBAAkB,CAAC,CAAC;QACzD,IAAI,OAAO,IAAI,gBAAgB,EAAE;YAChC,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,gBAAgB,CAAC,KAAK,CAAC,MAAM,EAAE,CAAC,EAAE,EAAE;gBACvD,IAAI,IAAI,GAAG,gBAAgB,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC;gBACrC,GAAG,CAAC,gBAAgB,CAAC,IAAI,CAAC,CAAC;aAC3B;SACD;QAED,uEAAuE;QACvE,oCAAoC;QACpC,gBAAgB,CAAC,KAAK,GAAG,IAAI,CAAC;QAC9B,OAAO,KAAK,CAAC;IACd,CAAC;IAED,SAAS,WAAW,CAAC,CAAC;QACrB,IAAI,CAAC,CAAC,WAAW,EAAE;YAClB,CAAC,CAAC,qBAAqB,CAAC,CAAC,IAAI,CAAC,MAAM,EAAE,UAAS,GAAG;gBACjD,GAAG,CAAC,cAAc,EAAE,CAAC;YACtB,CAAC,CAAC,CAAC;SACH;IACF,CAAC;IAED,SAAS,0BAA0B,CAAC,WAAW,EAAE,KAAK;QACrD,IAAI,OAAO,GAAG,MAAM,CAAC,IAAI,CAAC,QAAQ,EAAE,CAAC,CAAC,CAAC,GAAG,CAAC,GAAG,CAAC,eAAe,CAAC,CAAC,CAAC,GAAG,CAAC,GAAG,CAAC,UAAU,CAAC;QACpF,IAAI,CAAC,OAAO;YACX,OAAO;QAER,IAAI,KAAK,EAAE,GAAG,CAAC;QAEf,IAAI,CAAC,WAAW;YACf,OAAO;QAER,IAAI,WAAW,KAAK,mBAAmB,EAAE;YACxC,CAAC,CAAC,gBAAgB,CAAC,CAAC,GAAG,CAAC,KAAK,CAAC,CAAC,OAAO,CAAC,QAAQ,CAAC,CAAC;SACjD;aACI,IAAI,WAAW,KAAK,gBAAgB,IAAI,WAAW,KAAK,YAAY,EAAE;YAC1E,IAAI,CAAC,OAAO;gBAAE,OAAO;YACrB,kFAAkF;YAClF,KAAK,GAAG,QAAQ,CAAC,KAAK,CAAC,CAAC;YACxB,IAAI,KAAK,KAAK,CAAC,CAAC,EAAE;gBACjB,KAAK,GAAG,aAAa,CAAC;aACtB;iBACI;gBACJ,KAAK,GAAG,KAAK,CAAC,QAAQ,CAAC,EAAE,CAAC,CAAC;gBAC3B,KAAK,GAAG,GAAG,GAAG,KAAK,CAAC,CAAC,GAAG,KAAK,CAAC,MAAM,CAAC,CAAC,IAAI,CAAC,GAAG,CAAC,GAAG,KAAK,CAAC;aACxD;YAED,GAAG,GAAG,CAAC,CAAC,OAAO,CAAC,GAAG,CAAC,oBAAoB,CAAC,CAAC;YAC1C,IAAI,GAAG,EAAE;gBACR,CAAC,CAAC,OAAO,CAAC,QAAQ,CAAC,GAAG,EAAE,YAAY,EAAE,KAAK,CAAC,CAAC;aAC7C;SACD;aACI,IAAI,WAAW,KAAK,sBAAsB,IAAI,WAAW,KAAK,oBAAoB,EAAE;YACxF,IAAI,CAAC,OAAO;gBAAE,OAAO;YACrB,kFAAkF;YAClF,KAAK,GAAG,QAAQ,CAAC,KAAK,CAAC,CAAC;YACxB,IAAI,KAAK,KAAK,CAAC,CAAC,EAAE;gBACjB,KAAK,GAAG,aAAa,CAAC;aACtB;iBACI;gBACJ,KAAK,GAAG,KAAK,CAAC,QAAQ,CAAC,EAAE,CAAC,CAAC;gBAC3B,KAAK,GAAG,GAAG,GAAG,KAAK,CAAC,CAAC,GAAG,KAAK,CAAC,MAAM,CAAC,CAAC,IAAI,CAAC,GAAG,CAAC,GAAG,KAAK,CAAC;aACxD;YAED,GAAG,GAAG,CAAC,CAAC,OAAO,CAAC,GAAG,CAAC,oBAAoB,CAAC,CAAC;YAC1C,IAAI,GAAG,EAAE;gBACR,CAAC,CAAC,OAAO,CAAC,QAAQ,CAAC,GAAG,EAAE,YAAY,EAAE,KAAK,CAAC,CAAC;aAC7C;SACD;aACI,IAAI,WAAW,KAAK,qBAAqB,EAAE;YAC/C,IAAI,QAAQ,CAAC,cAAc,CAAC,MAAM,CAAC,EAAE;gBACpC,IAAI,KAAK,KAAK,MAAM,IAAI,GAAG,CAAC,SAAS;oBACpC,GAAG,CAAC,SAAS,CAAC,kBAAkB,EAAE,CAAC;;oBAEnC,QAAQ,CAAC,cAAc,CAAC,MAAM,CAAC,CAAC,SAAS,CAAC,MAAM,CAAC,cAAc,CAAC,CAAC;aAClE;YACD,KAAK,GAAG,EAAE,CAAC,CAAC,wBAAwB;SACpC;aACI,IAAI,WAAW,KAAK,qBAAqB,EAAE;YAC/C,IAAI,KAAK,KAAK,MAAM,EAAE;gBACrB,OAAO,CAAC,UAAU,CAAC,QAAQ,EAAE,IAAI,CAAC,CAAC;aACnC;iBAAM;gBACN,OAAO,CAAC,UAAU,CAAC,QAAQ,EAAE,KAAK,CAAC,CAAC;aACpC;SACD;QAED,IAAI,WAAW,KAAK,iBAAiB,IAAI,WAAW,KAAK,kBAAkB;eACvE,WAAW,KAAK,iBAAiB,EAAE;YACtC,OAAO;YACP,iCAAiC;SACjC;QAED,IAAI,EAAE,GAAG,iBAAiB,CAAC,WAAW,CAAC,CAAC;QACxC,uFAAuF;QACvF,IAAI,EAAE,KAAK,EAAE;YACZ,OAAO;QAER,IAAI,KAAK,KAAK,MAAM,EAAE;YACrB,IAAI,GAAG,CAAC,UAAU,EAAE,EAAE;gBACrB,OAAO,CAAC,UAAU,CAAC,EAAE,EAAE,IAAI,CAAC,CAAC;aAC7B;YACD,2BAA2B;SAC3B;aACI,IAAI,KAAK,KAAK,OAAO,EAAE;YAC3B,IAAI,GAAG,CAAC,UAAU,EAAE,EAAE;gBACrB,OAAO,CAAC,UAAU,CAAC,EAAE,EAAE,IAAI,CAAC,CAAC;aAC7B;YACD,6BAA6B;SAC7B;QACD,yDAAyD;QACzD,kFAAkF;aAC7E,IAAI,GAAG,CAAC,UAAU,EAAE,IAAI,CAAC,KAAK,KAAK,SAAS,IAAI,KAAK,KAAK,UAAU,CAAC,EAAE;YAC3E,IAAI,KAAK,KAAK,SAAS,EAAE;gBACxB,OAAO,CAAC,UAAU,CAAC,EAAE,EAAE,IAAI,CAAC,CAAC;aAC7B;iBAAM;gBACN,6BAA6B;gBAC7B,OAAO,CAAC,UAAU,CAAC,EAAE,EAAE,KAAK,CAAC,CAAC;aAC9B;SACD;IACF,CAAC;IAED,SAAS,qBAAqB,CAAC,CAAC;QAC/B,0BAA0B,CAAC,CAAC,CAAC,WAAW,EAAE,CAAC,CAAC,KAAK,CAAC,CAAC;IACpD,CAAC;IAED,SAAS,aAAa,CAAC,CAAC;QACvB,IAAI,CAAC,CAAC,OAAO,KAAK,MAAM,EAAE;YACzB,IAAI,OAAO,GAAG,CAAC,CAAC,WAAW,CAAC;YAC5B,IAAI,KAAK,GAAG,CAAC,CAAC,KAAK,CAAC;SACpB;aACI;YACJ,OAAO,GAAG,CAAC,CAAC,YAAY,CAAC;YACzB,KAAK,GAAG,CAAC,CAAC,KAAK,CAAC;SAChB;QAED,OAAO;QACP,IAAI,OAAO,GAAG,IAAI,CAAC;QACnB,IAAI,CAAC,OAAO,EAAE;YACb,OAAO;SACP;QAED,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,QAAQ,EAAE,EAAE;YAC5B,IAAI,CAAC,CAAC,OAAO,KAAK,cAAc,EAAE;gBACjC,OAAO;gBACP,mDAAmD;gBACnD,+CAA+C;aAC/C;iBACI;gBACJ,OAAO,CAAC,QAAQ,CAAC,cAAc,EAAE,KAAK,CAAC,CAAC;gBACxC,OAAO,CAAC,QAAQ,CAAC,YAAY,EAAE,KAAK,CAAC,CAAC;gBACtC,OAAO,CAAC,QAAQ,CAAC,eAAe,EAAE,KAAK,CAAC,CAAC;gBACzC,OAAO,CAAC,QAAQ,CAAC,YAAY,EAAE,KAAK,CAAC,CAAC;aACtC;SACD;QAED,IAAI,GAAG,CAAC,IAAI,CAAC,aAAa,EAAE;YAC3B,OAAO,CAAC,UAAU,CAAC,MAAM,EAAE,IAAI,CAAC,CAAC;YACjC,OAAO,CAAC,UAAU,CAAC,MAAM,EAAE,IAAI,CAAC,CAAC;YACjC,OAAO;SACP;QAED,IAAI,CAAC,CAAC,OAAO,KAAK,aAAa,EAAE;YAChC,IAAI,OAAO,KAAK,CAAC,EAAE;gBAClB,OAAO,CAAC,UAAU,CAAC,MAAM,EAAE,KAAK,CAAC,CAAC;aAClC;iBACI;gBACJ,OAAO,CAAC,UAAU,CAAC,MAAM,EAAE,IAAI,CAAC,CAAC;aACjC;YAED,IAAI,OAAO,KAAK,KAAK,GAAG,CAAC,EAAE;gBAC1B,OAAO,CAAC,UAAU,CAAC,MAAM,EAAE,KAAK,CAAC,CAAC;aAClC;iBACI;gBACJ,OAAO,CAAC,UAAU,CAAC,MAAM,EAAE,IAAI,CAAC,CAAC;aACjC;SACD;IACF,CAAC;IAED,SAAS,eAAe,CAAC,CAAC;QACzB,IAAI,WAAW,GAAG,CAAC,CAAC,WAAW,CAAC;QAEhC,IAAI,WAAW,KAAK,WAAW,EAAE;YAChC,IAAI,CAAC,CAAC,OAAO,EAAE;gBACd,iDAAiD;gBACjD,GAAG,CAAC,aAAa,GAAG,IAAI,CAAC;gBAEzB,+BAA+B;gBAC/B,IAAI,GAAG,CAAC,eAAe,EAAE;oBACxB,IAAI,cAAc,GAAG,GAAG,CAAC,eAAe,CAAC;oBACzC,GAAG,CAAC,eAAe,GAAG,EAAE,CAAC;oBACzB,GAAG,CAAC,UAAU,CAAC,cAAc,CAAC,CAAC;iBAC/B;aACD;YACD,IAAI,cAAc,GAAG;gBACpB,OAAO,EAAE,CAAC,CAAC,OAAO;aAClB,CAAC;YACF,IAAI,CAAC,CAAC,CAAC,OAAO,EAAE;gBACf,yCAAyC;gBACzC,cAAc,CAAC,QAAQ,CAAC,GAAG,CAAC,CAAC,MAAM,IAAI,CAAC,CAAC,MAAM,CAAC,KAAK,CAAC;aACtD;YAED,GAAG,CAAC,IAAI,CAAC,aAAa,EAAE,EAAC,KAAK,EAAE,kBAAkB,EAAE,IAAI,EAAE,cAAc,EAAC,CAAC,CAAC;SAC3E;aACI,IAAI,CAAC,WAAW,KAAK,WAAW,IAAI,WAAW,KAAK,WAAW,CAAC;YACpE,CAAC,CAAC,OAAO,KAAK,IAAI,IAAI,CAAC,CAAC,MAAM,CAAC,KAAK,IAAI,CAAC,KAAK,CAAC,CAAC,CAAC,MAAM,CAAC,KAAK,CAAC,EAAE,EAAE,iBAAiB;YACnF,IAAI,YAAY,GAAG;gBAClB,QAAQ,EAAE;oBACT,CAAC,CAAC,+EAA+E,CAAC;iBAClF;aACD,CAAC;YACF,QAAQ,CAAC,wBAAwB,CAAC,qBAAqB,EAAE,YAAY,CAAC,CAAC;SACvE;aAAM,IAAI,GAAG,CAAC,MAAM;YACpB,CAAC,CAAC,WAAW,KAAK,0BAA0B,IAAI,CAAC,CAAC,MAAM,CAAC,mBAAmB,CAAC,UAAU,CAAC,eAAe,CAAC,CAAC;gBACzG,CAAC,WAAW,KAAK,kBAAkB,IAAI,CAAC,CAAC,MAAM,CAAC,WAAW,CAAC,UAAU,CAAC,SAAS,CAAC,CAAC;gBAClF,CAAC,WAAW,KAAK,oBAAoB,IAAI,CAAC,CAAC,MAAM,CAAC,aAAa,CAAC,UAAU,CAAC,aAAa,CAAC,CAAC,CAAC,EAAE;YAC7F,IAAI,WAAW,KAAK,oBAAoB;gBACvC,GAAG,CAAC,MAAM,CAAC,+BAA+B,CAAC,IAAI,CAAC,CAAC;YAClD,GAAG,CAAC,MAAM,CAAC,4BAA4B,CAAC,KAAK,CAAC,CAAC;SAC/C;aAAM,IAAI,GAAG,CAAC,MAAM,IAAI,WAAW,KAAK,qBAAqB,IAAI,CAAC,CAAC,MAAM,CAAC,cAAc,CAAC,UAAU,CAAC,cAAc,CAAC,EAAE;YACrH,GAAG,CAAC,MAAM,CAAC,iBAAiB,CAAC,CAAC,CAAC,MAAM,CAAC,cAAc,EAAE,EAAE,CAAC,CAAC;YAC1D,GAAG,CAAC,MAAM,CAAC,4BAA4B,CAAC,KAAK,CAAC,CAAC;SAC/C;aAAM,IAAI,WAAW,KAAK,oBAAoB,EAAE;YAChD,iDAAiD;YACjD,UAAU,CAAC;gBACV,GAAG,CAAC,SAAS,CAAC,WAAW,CAAC,IAAI,GAAG,CAAC,WAAW,CAAC,WAAW,CAAC,GAAG,CAAC,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,EAAE,EAAE,GAAG,CAAC,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,EAAE,CAAC,CAAC,CAAC;YAChI,CAAC,EAAE,CAAC,CAAC,CAAC;SACN;IACF,CAAC;IAED,SAAS,kBAAkB,CAAC,CAAC;QAC5B,IAAI,OAAO,GAAG,MAAM,CAAC,IAAI,CAAC,QAAQ,EAAE,CAAC,CAAC,CAAC,GAAG,CAAC,GAAG,CAAC,eAAe,CAAC,CAAC,CAAC,GAAG,CAAC,GAAG,CAAC,UAAU,CAAC;QACpF,IAAI,OAAO,EAAE;YACZ,uBAAuB;YACvB,IAAI,cAAc,GAAG,CAAC,aAAa,EAAE,MAAM,EAAE,MAAM,EAAE,kBAAkB,CAAC,CAAC;YAEzE,uBAAuB;YACvB,IAAI,KAAK,GAAG,OAAO,CAAC,YAAY,CAAC,GAAG,CAAC,GAAG,CAAC,UAAU,EAAE,CAAC,CAAC,KAAK,EAAE,CAAC;YAC/D,KAAK,IAAI,GAAG,IAAI,KAAK,EAAE;gBACtB,IAAI,KAAK,GAAG,cAAc,CAAC,MAAM,CAAC,UAAS,EAAE,IAAI,OAAO,EAAE,KAAK,KAAK,CAAC,GAAG,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC;gBACjF,IAAI,YAAY,GAAG,KAAK,CAAC,MAAM,KAAK,CAAC,CAAC;gBAEtC,IAAI,CAAC,CAAC,MAAM,CAAC,IAAI,KAAK,MAAM,EAAE;oBAC7B,IAAI,MAAM,GAAG,GAAG,CAAC,UAAU,EAAE,KAAK,aAAa,CAAC,CAAC,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC,QAAQ,CAAC,CAAC,CAAC,aAAa,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC,GAAG,CAAC,CAAC;oBACtG,IAAI,YAAY,GAAG,GAAG,CAAC,oBAAoB,CAAC,CAAC,YAAY,CAAC,MAAM,CAAC,KAAK,UAAU,CAAC;oBACjF,IAAI,CAAC,YAAY,IAAI,YAAY;wBAChC,OAAO,CAAC,UAAU,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC,EAAE,EAAE,IAAI,CAAC,CAAC;oBACzC,CAAC,CAAC,WAAW,CAAC,CAAC,WAAW,CAAC,UAAU,CAAC,CAAC;oBACvC,CAAC,CAAC,eAAe,CAAC,CAAC,WAAW,CAAC,UAAU,CAAC,CAAC;iBAC3C;qBAAM,IAAI,CAAC,YAAY,EAAE;oBACzB,CAAC,CAAC,WAAW,CAAC,CAAC,QAAQ,CAAC,UAAU,CAAC,CAAC;oBACpC,CAAC,CAAC,eAAe,CAAC,CAAC,QAAQ,CAAC,UAAU,CAAC,CAAC;oBACxC,OAAO,CAAC,UAAU,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC,EAAE,EAAE,KAAK,CAAC,CAAC;iBACzC;aACD;YAED,IAAI,CAAC,CAAC,MAAM,CAAC,IAAI,KAAK,MAAM,EAAE;gBAC7B,CAAC,CAAC,sBAAsB,CAAC,CAAC,WAAW,CAAC,cAAc,CAAC,CAAC;gBACtD,CAAC,CAAC,sBAAsB,CAAC,CAAC,QAAQ,CAAC,aAAa,CAAC,CAAC;gBAClD,OAAO,CAAC,UAAU,CAAC,EAAC,EAAE,EAAE,aAAa,EAAE,IAAI,EAAE,gBAAgB,EAAE,MAAM,EAAE,UAAU,EAAC,CAAC,CAAC;aACpF;iBAAM;gBACN,CAAC,CAAC,sBAAsB,CAAC,CAAC,WAAW,CAAC,aAAa,CAAC,CAAC;gBACrD,CAAC,CAAC,sBAAsB,CAAC,CAAC,QAAQ,CAAC,cAAc,CAAC,CAAC;gBACnD,OAAO,CAAC,UAAU,CAAC,EAAC,EAAE,EAAE,aAAa,EAAE,IAAI,EAAE,gBAAgB,EAAE,MAAM,EAAE,aAAa,EAAC,CAAC,CAAC;aACvF;SACD;IACF,CAAC;IAED,SAAS,YAAY,CAAC,CAAC;QACtB,IAAI,QAAQ,GAAG,GAAG,CAAC,SAAS,CAAC;QAE7B,IAAI,CAAC,CAAC,MAAM,CAAC,OAAO,EAAE;YACrB,IAAI,QAAQ,GAAG,QAAQ,CAAC,SAAS,CAAC;YAClC,GAAG,CAAC,kBAAkB,CAAC,QAAQ,CAAC,CAAC;YACjC,IAAI,QAAQ,KAAK,CAAC,CAAC,IAAI,QAAQ,KAAK,QAAQ,CAAC,OAAO;gBACnD,GAAG,CAAC,WAAW,CAAC,QAAQ,CAAC,CAAC;SAC3B;;YAEA,GAAG,CAAC,eAAe,EAAE,CAAC;QAEvB,GAAG,CAAC,QAAQ,CAAC,WAAW,EAAE,CAAC;IAC5B,CAAC;IAED,MAAM,CAAC,YAAY,GAAG,YAAY,CAAC;IAEnC,CAAC,CAAC,QAAQ,CAAC,CAAC,KAAK,CAAC;QACjB,4BAA4B;QAC5B,CAAC,CAAC,gBAAgB,CAAC,CAAC,EAAE,CAAC,QAAQ,EAAE,eAAe,CAAC,CAAC;QAClD,CAAC,CAAC,mBAAmB,CAAC,CAAC,EAAE,CAAC,QAAQ,EAAE,kBAAkB,CAAC,CAAC;QACxD,CAAC,CAAC,mBAAmB,CAAC,CAAC,EAAE,CAAC,QAAQ,EAAE,kBAAkB,CAAC,CAAC;IACzD,CAAC,CAAC,CAAC;IAEH,SAAS,YAAY,CAAC,CAAC;QACtB,GAAG,GAAG,CAAC,CAAC;QAER,GAAG,CAAC,EAAE,CAAC,aAAa,EAAE;YACrB,IAAI,KAAK,GAAG,CAAC,CAAC,OAAO,CAAC,GAAG,CAAC,cAAc,CAAC,CAAC;YAC1C,KAAK,CAAC,KAAK,EAAE,CAAC;YACd,KAAK,CAAC,MAAM,EAAE,CAAC;QAChB,CAAC,CAAC,CAAC;QAEH,GAAG,CAAC,EAAE,CAAC,QAAQ,EAAE,UAAU,CAAC;YAC3B,IAAI,WAAW,GAAG,CAAC,CAAC,OAAO,CAAC,GAAG,CAAC,cAAc,CAAC,CAAC;YAChD,IAAI,OAAO,GAAG,MAAM,CAAC,IAAI,CAAC,QAAQ,EAAE,CAAC,CAAC,CAAC,GAAG,CAAC,GAAG,CAAC,eAAe,CAAA,CAAC,CAAC,GAAG,CAAC,GAAG,CAAC,SAAS,CAAC;YAClF,IAAI,CAAC,OAAO,EAAE;gBACb,OAAO,CAAC,KAAK,CAAC,wBAAwB,CAAC,CAAC;gBACxC,OAAO;aACP;YACD,IAAI,CAAC,CAAC,KAAK,KAAK,CAAC,EAAE;gBAClB,OAAO,CAAC,UAAU,CAAC,YAAY,EAAE,KAAK,CAAC,CAAC;gBACxC,OAAO,CAAC,UAAU,CAAC,YAAY,EAAE,KAAK,CAAC,CAAC;gBACxC,OAAO,CAAC,QAAQ,CAAC,cAAc,EAAE,KAAK,CAAC,CAAC;gBACxC,CAAC,CAAC,OAAO,CAAC,QAAQ,CAAC,WAAW,EAAE,kBAAkB,CAAC,CAAC;gBACpD,CAAC,CAAC,WAAW,CAAC,CAAC,QAAQ,CAAC,kBAAkB,CAAC,CAAC;gBAC5C,GAAG,CAAC,aAAa,CAAC,cAAc,EAAE,CAAC;gBACnC,UAAU,CAAC;oBACV,CAAC,CAAC,WAAW,CAAC,CAAC,WAAW,CAAC,kBAAkB,CAAC,CAAC;oBAC/C,CAAC,CAAC,OAAO,CAAC,WAAW,CAAC,WAAW,EAAE,kBAAkB,CAAC,CAAC;gBACxD,CAAC,EAAE,GAAG,CAAC,CAAC;aACR;QACF,CAAC,CAAC,CAAC;QAEH,GAAG,CAAC,EAAE,CAAC,kBAAkB,EAAE,UAAU,CAAC;YACrC,IAAI,CAAC,CAAC,GAAG,EAAE;gBACV,IAAI,CAAC,CAAC,WAAW,EAAE;oBAClB,sFAAsF;oBACtF,iFAAiF;oBACjF,IAAI,QAAQ,GAAG,CAAC,CAAC,WAAW,CAAC,KAAK,CAAC,MAAM,CAAC,CAAC;oBAC3C,IAAI,YAAY,CAAC;oBACjB,IAAI,QAAQ,CAAC,MAAM,GAAG,CAAC,EAAE;wBACxB,YAAY,GAAG,IAAI,GAAG,CAAC,WAAW,CAAC,WAAW,CAAC,QAAQ,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC,EAAE,QAAQ,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;qBAC7F;oBACD,GAAG,CAAC,WAAW,CAAC,eAAe,CAAC,YAAY,CAAC,CAAC,CAAC,GAAG,EAAE,IAAI,GAAG,CAAC,WAAW,CAAC,WAAW,CAAC,QAAQ,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC,EAAE,QAAQ,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,YAAY,CAAC,CAAC;iBACjJ;qBAAM;oBACN,GAAG,CAAC,IAAI,CAAC,MAAM,EAAE,EAAC,GAAG,EAAE,CAAC,CAAC,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,UAAU,EAAC,CAAC,CAAC;iBAC1D;aACD;QACF,CAAC,CAAC,CAAC;QAEH,GAAG,CAAC,MAAM,CAAC,EAAE,CAAC,kBAAkB,EAAE,kBAAkB,CAAC,CAAC;QACtD,GAAG,CAAC,EAAE,CAAC,WAAW,EAAE,WAAW,CAAC,CAAC;QACjC,GAAG,CAAC,EAAE,CAAC,eAAe,EAAE,eAAe,CAAC,CAAC;QACzC,GAAG,CAAC,EAAE,CAAC,+BAA+B,EAAE,aAAa,CAAC,CAAC;QAEvD,IAAI,GAAG,CAAC,OAAO,CAAC,IAAI,IAAI,CAAC,CAAC,MAAM,CAAC,kBAAkB,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,QAAQ,EAAE,EAAE;YAC/E,CAAC,CAAC,qBAAqB,CAAC,CAAC,GAAG,CAAC,SAAS,EAAE,MAAM,CAAC,CAAC;YAChD,IAAI,MAAM,GAAG,CAAC,CAAC,OAAO,CAAC,GAAG,CAAC,aAAa,CAAC,CAAC;YAC1C,IAAI,MAAM,EAAE;gBACX,MAAM,CAAC,YAAY,CAAC,cAAc,EAAE,CAAC,CAAC,gBAAgB,CAAC,CAAC,CAAC;gBACzD,CAAC,CAAC,OAAO,CAAC,0BAA0B,CAAC,MAAM,EAAE,GAAG,CAAC,CAAC;aAClD;SACD;aAAM,IAAI,CAAC,CAAC,CAAC,MAAM,CAAC,kBAAkB,EAAE;YACxC,CAAC,CAAC,qBAAqB,CAAC,CAAC,IAAI,EAAE,CAAC;YAChC,CAAC,CAAC,8BAA8B,CAAC,CAAC,IAAI,EAAE,CAAC;SACzC;aAAM,IAAI,CAAC,CAAC,MAAM,CAAC,kBAAkB,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,QAAQ,EAAE,EAAE;YAClE,CAAC,CAAC,qBAAqB,CAAC,CAAC,GAAG,CAAC,SAAS,EAAE,MAAM,CAAC,CAAC;SAChD;QAED,CAAC,CAAC,cAAc,CAAC,CAAC,KAAK,CAAC;YACvB,IAAI,UAAU,GAAG,MAAM,CAAC,GAAG,CAAC,UAAU,CAAC;YACvC,IAAI,CAAC,UAAU;gBACd,UAAU,GAAG,IAAI,GAAG,CAAC,WAAW,CAAC,YAAY,CAAC,CAAC,QAAQ,CAAC,CAAC;YAE1D,UAAU,CAAC,QAAQ,CAAC,UAAU,CAAC,CAAC;QACjC,CAAC,CAAC,CAAC;IACJ,CAAC;IAED,MAAM,CAAC,YAAY,GAAG,YAAY,CAAC;IACnC,MAAM,CAAC,WAAW,GAAG,WAAW,CAAC;IACjC,MAAM,CAAC,2BAA2B,GAAG,2BAA2B,CAAC;IACjE,MAAM,CAAC,uBAAuB,GAAG,uBAAuB,CAAC;IACzD,MAAM,CAAC,sBAAsB,GAAG,sBAAsB,CAAC;IACvD,MAAM,CAAC,sBAAsB,GAAG,sBAAsB,CAAC;IACvD,MAAM,CAAC,0BAA0B,GAAG,0BAA0B,CAAC;IAC/D,MAAM,CAAC,oBAAoB,GAAG,oBAAoB,CAAC;IACnD,MAAM,CAAC,oBAAoB,GAAG,oBAAoB,CAAC;IACnD,MAAM,CAAC,sBAAsB,GAAG,sBAAsB,CAAC;IACvD,MAAM,CAAC,iBAAiB,GAAG,iBAAiB,CAAC;IAC7C,MAAM,CAAC,kBAAkB,GAAG,kBAAkB,CAAC;IAC/C,MAAM,CAAC,aAAa,GAAG,aAAa,CAAC;IACrC,MAAM,CAAC,iBAAiB,GAAG,iBAAiB,CAAC;IAC7C,MAAM,CAAC,qBAAqB,GAAG,qBAAqB,CAAC;IACrD,MAAM,CAAC,0BAA0B,GAAG,0BAA0B,CAAC;IAC/D,MAAM,CAAC,sBAAsB,GAAG,sBAAsB,CAAC;IACvD,MAAM,CAAC,aAAa,GAAG,aAAa,CAAC;IACrC,MAAM,CAAC,kBAAkB,GAAG,kBAAkB,CAAC;AAC/C,CAAC,CAAC,MAAM,CAAC,CAAC,CAAC","sourcesContent":["/* -*- js-indent-level: 8; fill-column: 100 -*- */\n\n/*\n * Copyright the Collabora Online contributors.\n *\n * SPDX-License-Identifier: MPL-2.0\n *\n * This Source Code Form is subject to the terms of the Mozilla Public\n * License, v. 2.0. If a copy of the MPL was not distributed with this\n * file, You can obtain one at http://mozilla.org/MPL/2.0/.\n */\n\n/*\n * Collabora Online toolbar\n */\n\n/* global app $ _ _UNO JSDialog */\n/*eslint indent: [error, \"tab\", { \"outerIIFEBody\": 0 }]*/\n\n(function(global) {\n\nvar map;\n\nfunction getUNOCommand(unoData) {\n\tif (typeof unoData !== 'object')\n\t\treturn unoData;\n\n\tif (!map._clip)\n\t\treturn unoData.textCommand;\n\n\tvar selectionType = map._clip._selectionType;\n\n\tif (!selectionType || selectionType === 'text')\n\t\treturn unoData.textCommand;\n\n\treturn unoData.objectCommand;\n}\n\nfunction _setBorders(left, right, bottom, top, horiz, vert, color) {\n\tvar params = {\n\t\tOuterBorder: {\n\t\t\ttype : '[]any',\n\t\t\tvalue : [\n\t\t\t\t{ type : 'com.sun.star.table.BorderLine2', value : { Color : { type : 'com.sun.star.util.Color', value : color }, InnerLineWidth : { type : 'short', value : 0 }, OuterLineWidth : { type : 'short', value : left }, LineDistance : { type : 'short', value : 0 },  LineStyle : { type : 'short', value : 0 }, LineWidth : { type : 'unsigned long', value : 0 } } },\n\t\t\t\t{ type : 'com.sun.star.table.BorderLine2', value : { Color : { type : 'com.sun.star.util.Color', value : color }, InnerLineWidth : { type : 'short', value : 0 }, OuterLineWidth : { type : 'short', value : right }, LineDistance : { type : 'short', value : 0 },  LineStyle : { type : 'short', value : 0 }, LineWidth : { type : 'unsigned long', value : 0 } } },\n\t\t\t\t{ type : 'com.sun.star.table.BorderLine2', value : { Color : { type : 'com.sun.star.util.Color', value : color }, InnerLineWidth : { type : 'short', value : 0 }, OuterLineWidth : { type : 'short', value : bottom }, LineDistance : { type : 'short', value : 0 },  LineStyle : { type : 'short', value : 0 }, LineWidth : { type : 'unsigned long', value : 0 } } },\n\t\t\t\t{ type : 'com.sun.star.table.BorderLine2', value : { Color : { type : 'com.sun.star.util.Color', value : color }, InnerLineWidth : { type : 'short', value : 0 }, OuterLineWidth : { type : 'short', value : top }, LineDistance : { type : 'short', value : 0 },  LineStyle : { type : 'short', value : 0 }, LineWidth : { type : 'unsigned long', value : 0 } } },\n\t\t\t\t{ type : 'long', value : 0 },\n\t\t\t\t{ type : 'long', value : 0 },\n\t\t\t\t{ type : 'long', value : 0 },\n\t\t\t\t{ type : 'long', value : 0 },\n\t\t\t\t{ type : 'long', value : 0 }\n\t\t\t]\n\t\t},\n\t\tInnerBorder: {\n\t\t\ttype : '[]any',\n\t\t\tvalue : [\n\t\t\t\t{ type : 'com.sun.star.table.BorderLine2', value : { Color : { type : 'com.sun.star.util.Color', value : color }, InnerLineWidth : { type : 'short', value : 0 }, OuterLineWidth : { type : 'short', value : horiz }, LineDistance : { type : 'short', value : 0 },  LineStyle : { type : 'short', value : 0 }, LineWidth : { type : 'unsigned long', value : 0 } } },\n\t\t\t\t{ type : 'com.sun.star.table.BorderLine2', value : { Color : { type : 'com.sun.star.util.Color', value : color }, InnerLineWidth : { type : 'short', value : 0 }, OuterLineWidth : { type : 'short', value : vert }, LineDistance : { type : 'short', value : 0 },  LineStyle : { type : 'short', value : 0 }, LineWidth : { type : 'unsigned long', value : 0 } } },\n\t\t\t\t{ type : 'short', value : 0 },\n\t\t\t\t{ type : 'short', value : 127 },\n\t\t\t\t{ type : 'long', value : 0 }\n\t\t\t]\n\t\t}};\n\tmap.sendUnoCommand('.uno:SetBorderStyle', params);\n}\n\n// close the popup\n\nvar lastClosePopupCallback = undefined;\n\nfunction closePopup() {\n\tif (lastClosePopupCallback) {\n\t\tlastClosePopupCallback();\n\t\tlastClosePopupCallback = undefined;\n\t}\n\tmap.focus();\n}\n\nfunction setBorderStyle(num, color) {\n\tif (color === undefined)\n\t\tcolor = 0; // black\n\telse if (color.startsWith('#'))\n\t\tcolor = parseInt('0x' + color.substring(1, color.length));\n\n\tswitch (num) {\n\tcase 0: map.sendUnoCommand('.uno:FormatCellBorders'); break;\n\n\tcase 1: _setBorders(0, 0, 0, 0, 0, 0, color); break;\n\tcase 2: _setBorders(1, 0, 0, 0, 0, 0, color); break;\n\tcase 3: _setBorders(0, 1, 0, 0, 0, 0, color); break;\n\tcase 4: _setBorders(1, 1, 0, 0, 0, 0, color); break;\n\n\tcase 5: _setBorders(0, 0, 0, 1, 0, 0, color); break;\n\tcase 6: _setBorders(0, 0, 1, 0, 0, 0, color); break;\n\tcase 7: _setBorders(0, 0, 1, 1, 0, 0, color); break;\n\tcase 8: _setBorders(1, 1, 1, 1, 0, 0, color); break;\n\n\tcase 9:  _setBorders(0, 0, 1, 1, 1, 0, color); break;\n\tcase 10: _setBorders(1, 1, 1, 1, 1, 0, color); break;\n\tcase 11: _setBorders(1, 1, 1, 1, 0, 1, color); break;\n\tcase 12: _setBorders(1, 1, 1, 1, 1, 1, color); break;\n\n\tdefault: window.app.console.log('ignored border: ' + num);\n\t}\n\n\t// TODO we may consider keeping it open in the future if we add border color\n\t// and style to this popup too\n\tclosePopup();\n}\n\nglobal.setBorderStyle = setBorderStyle;\n\nfunction getBorderStyleMenuElements(closeCallback) {\n\tlastClosePopupCallback = closeCallback;\n\n\tconst table = document.createElement('table');\n\ttable.id = 'setborderstyle-grid';\n\n\tfor (let i = 0; i < 12; i++) {\n\t\tlet tr = document.createElement('tr');\n\t\ttable.appendChild(tr);\n\t\tfor (let j = 0; j < 4; j++) {\n\t\t\tlet td = document.createElement('td');\n\t\t\ttr.appendChild(td);\n\t\t\tconst num = String(i + j + 1);\n\t\t\ttd.className = 'w2ui-tb-image w2ui-icon ' + (i + j < 9 ? 'frame0' + String(i + j + 1): 'frame' + String(i + j + 1));\n\t\t\ttd.onclick = function() { setBorderStyle(parseInt(num)); };\n\t\t}\n\t\ti += 3;\n\t}\n\n\tlet tr = document.createElement('tr');\n\tlet td = document.createElement('td');\n\ttd.setAttribute('colspan', 4);\n\ttd.onclick = function() { setBorderStyle(0); };\n\n\tlet div = document.createElement('div');\n\tdiv.id = 'div-frame13';\n\tdiv.textContent = _('More...');\n\n\ttd.appendChild(div);\n\ttr.appendChild(td);\n\ttable.appendChild(tr);\n\n\treturn table;\n}\n\nglobal.getBorderStyleMenuElements = getBorderStyleMenuElements;\n\nfunction setConditionalFormat(num, unoCommand, jsdialogDropdown) {\n\tvar params = {\n\t\tIconSet: {\n\t\t\ttype : 'short',\n\t\t\tvalue : num\n\t\t}};\n\tmap.sendUnoCommand(unoCommand, params);\n\n\tif (jsdialogDropdown)\n\t\tJSDialog.CloseAllDropdowns();\n\telse\n\t\tclosePopup();\n}\n\nglobal.setConditionalFormat = setConditionalFormat;\n\nfunction moreConditionalFormat (unoCommand, jsdialogDropdown) {\n\tmap.sendUnoCommand(unoCommand);\n\n\tif (jsdialogDropdown)\n\t\tJSDialog.CloseAllDropdowns();\n\telse\n\t\tclosePopup();\n}\n\nglobal.moreConditionalFormat = moreConditionalFormat;\n\nfunction getConditionalFormatMenuElementsImpl(more, type, count, unoCommand, jsdialogDropdown) {\n\tconst table = document.createElement('table');\n\ttable.id = 'conditionalformatmenu-grid';\n\n\tfor (let i = 0; i < count; i += 3) {\n\t\tfor (let j = i; j < i + 3; j++) {\n\t\t\tlet number = j;\n\n\t\t\t// iconset07 deliberately left out, see the .css for the reason\n\t\t\tif (type === 'iconset' && number >= 7)\n\t\t\t\tnumber++;\n\n\t\t\tconst iconClass = type + (number < 10 ? '0': '') + number;\n\t\t\tconst button = document.createElement('button');\n\t\t\tbutton.className = 'w2ui-tb-image w2ui-icon ' + iconClass;\n\t\t\tbutton.onclick = function() {\n\t\t\t\tsetConditionalFormat(number, unoCommand, !!jsdialogDropdown);\n\t\t\t};\n\t\t\ttable.appendChild(button);\n\t\t}\n\t}\n\n\tif (more) {\n\t\tconst button = document.createElement('button');\n\t\tbutton.id = 'more';\n\t\tbutton.onclick = function() {\n\t\t\tmoreConditionalFormat(unoCommand, !!jsdialogDropdown);\n\t\t};\n\t\tbutton.textContent = _('More...');\n\t\ttable.appendChild(button);\n\t}\n\n\treturn table;\n}\n\n// for icon set conditional formatting\nfunction getConditionalFormatMenuElements(more, jsdialogDropdown) {\n\treturn getConditionalFormatMenuElementsImpl(more, 'iconset', 21, '.uno:IconSetFormatDialog', jsdialogDropdown);\n}\n\nglobal.getConditionalFormatMenuElements = getConditionalFormatMenuElements;\n\n// for color scale conditional formatting\nfunction getConditionalColorScaleMenuElements(more, jsdialogDropdown) {\n\treturn getConditionalFormatMenuElementsImpl(more, 'scaleset', 12, '.uno:ColorScaleFormatDialog', jsdialogDropdown);\n}\n\nglobal.getConditionalColorScaleMenuElements = getConditionalColorScaleMenuElements;\n\n// for data bar conditional formatting\nfunction getConditionalDataBarMenuElements(more, jsdialogDropdown) {\n\treturn getConditionalFormatMenuElementsImpl(more, 'databarset', 12, '.uno:DataBarFormatDialog', jsdialogDropdown);\n}\n\nglobal.getConditionalDataBarMenuElements = getConditionalDataBarMenuElements;\n\nvar sendInsertTableFunction = function(event) {\n\tvar col = $(event.target).index() + 1;\n\tvar row = $(event.target).parent().index() + 1;\n\t$('.col').removeClass('bright');\n\tvar status = $('#inserttable-status')\n\tstatus.html('<br/>');\n\tvar msg = 'uno .uno:InsertTable {' +\n\t\t' \"Columns\": { \"type\": \"long\",\"value\": '\n\t\t+ col +\n\t\t' }, \"Rows\": { \"type\": \"long\",\"value\": '\n\t\t+ row + ' }}';\n\n\tapp.socket.sendMessage(msg);\n\tclosePopup();\n};\n\nvar highlightTableFunction = function(event) {\n\tvar col = $(event.target).index() + 1;\n\tvar row = $(event.target).parent().index() + 1;\n\t$('.col').removeClass('bright');\n\t$('.col').removeAttr('title');\n\tvar elements = $('.row:nth-child(-n+' + row + ') .col:nth-child(-n+' + col + ')')\n\t\t.addClass('bright');\n\n\tvar lastHighlightedCell = elements.last();\n\tlastHighlightedCell.attr('title', `${col} x ${row}`);\n};\n\nfunction getInsertTablePopupElements(closeCallback) {\n\tlastClosePopupCallback = closeCallback;\n\n\tconst container = document.createElement('div');\n\n\tconst grid = document.createElement('div');\n\tgrid.className = 'inserttable-grid';\n\tgrid.onmouseover = highlightTableFunction;\n\tgrid.onclick = sendInsertTableFunction;\n\n\tcontainer.textContent = '\\n';\n\tcontainer.appendChild(grid);\n\n\tinsertTable(container.children[0]);\n\n\tconst wrapperContainer = document.createElement('div');\n\n\tconst wrapper = document.createElement('div');\n\twrapper.id = 'inserttable-wrapper';\n\n\tconst popUp = document.createElement('div');\n\tpopUp.id = 'inserttable-popup';\n\tpopUp.className = 'inserttable-pop ui-widget ui-corner-all';\n\tpopUp.tabIndex = 0;\n\n\twrapperContainer.appendChild(wrapper);\n\twrapperContainer.appendChild(popUp);\n\n\tpopUp.appendChild(grid);\n\n\treturn wrapperContainer;\n}\n\nfunction insertTable(grid = document.getElementsByClassName('inserttable-grid')[0]) {\n\tvar rows = 10;\n\tvar cols = 10;\n\n\tfor (var r = 0; r < rows; r++) {\n\t\tconst row = document.createElement('div');\n\t\trow.className = 'row';\n\t\tgrid.appendChild(row);\n\n\t\tfor (var c = 0; c < cols; c++) {\n\t\t\tconst col = document.createElement('button');\n\t\t\tcol.setAttribute('aria-label', (1 + r) + 'x' + (1 + c));\n\t\t\tcol.onfocus = highlightTableFunction;\n\t\t\tcol.className = 'col';\n\t\t\trow.appendChild(col);\n\t\t}\n\t}\n}\n\nvar shapes = {\n\t'insertshapes': {\n\t\t'Basic Shapes': [\n\t\t\t{img: 'basicshapes_rectangle', uno: 'BasicShapes.rectangle', text: _UNO('.uno:BasicShapes.rectangle')},\n\t\t\t{img: 'basicshapes_round-rectangle', uno: 'BasicShapes.round-rectangle', text: _UNO('.uno:BasicShapes.round-rectangle')},\n\t\t\t{img: 'basicshapes_quadrat', uno: 'BasicShapes.quadrat', text: _UNO('.uno:BasicShapes.quadrat')},\n\t\t\t{img: 'basicshapes_round-quadrat', uno: 'BasicShapes.round-quadrat', text: _UNO('.uno:BasicShapes.round-quadrat')},\n\t\t\t{img: 'basicshapes_circle', uno: 'BasicShapes.circle', text: _UNO('.uno:BasicShapes.circle')},\n\t\t\t{img: 'basicshapes_ellipse', uno: 'BasicShapes.ellipse', text: _UNO('.uno:BasicShapes.ellipse')},\n\n\t\t\t{img: 'basicshapes_circle-pie', uno: 'BasicShapes.circle-pie', text: _UNO('.uno:BasicShapes.circle-pie')},\n\t\t\t{img: 'basicshapes_isosceles-triangle', uno: 'BasicShapes.isosceles-triangle', text: _UNO('.uno:BasicShapes.isosceles-triangle')},\n\t\t\t{img: 'basicshapes_right-triangle', uno: 'BasicShapes.right-triangle', text: _UNO('.uno:BasicShapes.right-triangle')},\n\t\t\t{img: 'basicshapes_trapezoid', uno: 'BasicShapes.trapezoid', text: _UNO('.uno:BasicShapes.trapezoid')},\n\t\t\t{img: 'basicshapes_diamond', uno: 'BasicShapes.diamond', text: _UNO('.uno:BasicShapes.diamond')},\n\t\t\t{img: 'basicshapes_parallelogram', uno: 'BasicShapes.parallelogram', text: _UNO('.uno:BasicShapes.parallelogram')},\n\n\t\t\t{img: 'basicshapes_pentagon', uno: 'BasicShapes.pentagon', text: _UNO('.uno:BasicShapes.pentagon')},\n\t\t\t{img: 'basicshapes_hexagon', uno: 'BasicShapes.hexagon', text: _UNO('.uno:BasicShapes.hexagon')},\n\t\t\t{img: 'basicshapes_octagon', uno: 'BasicShapes.octagon', text: _UNO('.uno:BasicShapes.octagon')},\n\t\t\t{img: 'basicshapes_cross', uno: 'BasicShapes.cross', text: _UNO('.uno:BasicShapes.cross')},\n\t\t\t{img: 'basicshapes_ring', uno: 'BasicShapes.ring', text: _UNO('.uno:BasicShapes.ring')},\n\t\t\t{img: 'basicshapes_block-arc', uno: 'BasicShapes.block-arc', text: _UNO('.uno:BasicShapes.block-arc')},\n\n\t\t\t{img: 'basicshapes_can', uno: 'BasicShapes.can', text: _UNO('.uno:BasicShapes.can')},\n\t\t\t{img: 'basicshapes_cube', uno: 'BasicShapes.cube', text: _UNO('.uno:BasicShapes.cube')},\n\t\t\t{img: 'basicshapes_paper', uno: 'BasicShapes.paper', text: _UNO('.uno:BasicShapes.paper')},\n\t\t\t{img: 'basicshapes_frame', uno: 'BasicShapes.frame', text: _UNO('.uno:BasicShapes.frame')}\n\t\t],\n\n\t\t'Symbol Shapes':  [\n\t\t\t{img: 'symbolshapes', uno: 'SymbolShapes.smiley', text: _UNO('.uno:SymbolShapes.smiley')},\n\t\t\t{img: 'symbolshapes_sun', uno: 'SymbolShapes.sun', text: _UNO('.uno:SymbolShapes.sun')},\n\t\t\t{img: 'symbolshapes_moon', uno: 'SymbolShapes.moon', text: _UNO('.uno:SymbolShapes.moon')},\n\t\t\t{img: 'symbolshapes_lightning', uno: 'SymbolShapes.lightning', text: _UNO('.uno:SymbolShapes.lightning')},\n\t\t\t{img: 'symbolshapes_heart', uno: 'SymbolShapes.heart', text: _UNO('.uno:SymbolShapes.heart')},\n\t\t\t{img: 'symbolshapes_flower', uno: 'SymbolShapes.flower', text: _UNO('.uno:SymbolShapes.flower')},\n\n\t\t\t{img: 'symbolshapes_cloud', uno: 'SymbolShapes.cloud', text: _UNO('.uno:SymbolShapes.cloud')},\n\t\t\t{img: 'symbolshapes_forbidden', uno: 'SymbolShapes.forbidden', text: _UNO('.uno:SymbolShapes.forbidden')},\n\t\t\t{img: 'symbolshapes_puzzle', uno: 'SymbolShapes.puzzle', text: _UNO('.uno:SymbolShapes.puzzle')},\n\t\t\t{img: 'symbolshapes_bracket-pair', uno: 'SymbolShapes.bracket-pair', text: _UNO('.uno:SymbolShapes.bracket-pair')},\n\t\t\t{img: 'symbolshapes_left-bracket', uno: 'SymbolShapes.left-bracket', text: _UNO('.uno:SymbolShapes.left-bracket')},\n\t\t\t{img: 'symbolshapes_right-bracket', uno: 'SymbolShapes.right-bracket', text: _UNO('.uno:SymbolShapes.right-bracket')},\n\n\t\t\t{img: 'symbolshapes_brace-pair', uno: 'SymbolShapes.brace-pair', text: _UNO('.uno:SymbolShapes.brace-pair')},\n\t\t\t{img: 'symbolshapes_left-brace', uno: 'SymbolShapes.left-brace', text: _UNO('.uno:SymbolShapes.left-brace')},\n\t\t\t{img: 'symbolshapes_right-brace', uno: 'SymbolShapes.right-brace', text: _UNO('.uno:SymbolShapes.right-brace')},\n\t\t\t{img: 'symbolshapes_quad-bevel', uno: 'SymbolShapes.quad-bevel', text: _UNO('.uno:SymbolShapes.quad-bevel')},\n\t\t\t{img: 'symbolshapes_octagon-bevel', uno: 'SymbolShapes.octagon-bevel', text: _UNO('.uno:SymbolShapes.octagon-bevel')},\n\t\t\t{img: 'symbolshapes_diamond-bevel', uno: 'SymbolShapes.diamond-bevel', text: _UNO('.uno:SymbolShapes.diamond-bevel')}\n\t\t],\n\n\t\t'Block Arrows': [\n\t\t\t{img: 'arrowshapes_left-arrow', uno: 'ArrowShapes.left-arrow', text: _UNO('.uno:ArrowShapes.left-arrow')},\n\t\t\t{img: 'arrowshapes_right-arrow', uno: 'ArrowShapes.right-arrow', text: _UNO('.uno:ArrowShapes.right-arrow')},\n\t\t\t{img: 'arrowshapes_up-arrow', uno: 'ArrowShapes.up-arrow', text: _UNO('.uno:ArrowShapes.up-arrow')},\n\t\t\t{img: 'arrowshapes_down-arrow', uno: 'ArrowShapes.down-arrow', text: _UNO('.uno:ArrowShapes.down-arrow')},\n\t\t\t{img: 'arrowshapes_left-right-arrow', uno: 'ArrowShapes.left-right-arrow', text: _UNO('.uno:ArrowShapes.left-right-arrow')},\n\t\t\t{img: 'arrowshapes_up-down-arrow', uno: 'ArrowShapes.up-down-arrow', text: _UNO('.uno:ArrowShapes.up-down-arrow')},\n\n\t\t\t{img: 'arrowshapes_up-right-arrow', uno: 'ArrowShapes.up-right-arrow', text: _UNO('.uno:ArrowShapes.up-right-arrow')},\n\t\t\t{img: 'arrowshapes_up-right-down-arrow', uno: 'ArrowShapes.up-right-down-arrow', text: _UNO('.uno:ArrowShapes.up-right-down-arrow')},\n\t\t\t{img: 'arrowshapes_quad-arrow', uno: 'ArrowShapes.quad-arrow', text: _UNO('.uno:ArrowShapes.quad-arrow')},\n\t\t\t{img: 'arrowshapes_corner-right-arrow', uno: 'ArrowShapes.corner-right-arrow', text: _UNO('.uno:ArrowShapes.corner-right-arrow')},\n\t\t\t{img: 'arrowshapes_split-arrow', uno: 'ArrowShapes.split-arrow', text: _UNO('.uno:ArrowShapes.split-arrow')},\n\t\t\t{img: 'arrowshapes_striped-right-arrow', uno: 'ArrowShapes.striped-right-arrow', text: _UNO('.uno:ArrowShapes.striped-right-arrow')},\n\n\t\t\t{img: 'arrowshapes_notched-right-arrow', uno: 'ArrowShapes.notched-right-arrow', text: _UNO('.uno:ArrowShapes.notched-right-arrow')},\n\t\t\t{img: 'arrowshapes_pentagon-right', uno: 'ArrowShapes.pentagon-right', text: _UNO('.uno:ArrowShapes.pentagon-right')},\n\t\t\t{img: 'arrowshapes_chevron', uno: 'ArrowShapes.chevron', text: _UNO('.uno:ArrowShapes.chevron')},\n\t\t\t{img: 'arrowshapes_right-arrow-callout', uno: 'ArrowShapes.right-arrow-callout', text: _UNO('.uno:ArrowShapes.right-arrow-callout')},\n\t\t\t{img: 'arrowshapes_left-arrow-callout', uno: 'ArrowShapes.left-arrow-callout', text: _UNO('.uno:ArrowShapes.left-arrow-callout')},\n\t\t\t{img: 'arrowshapes_up-arrow-callout', uno: 'ArrowShapes.up-arrow-callout', text: _UNO('.uno:ArrowShapes.up-arrow-callout')},\n\n\t\t\t{img: 'arrowshapes_down-arrow-callout', uno: 'ArrowShapes.down-arrow-callout', text: _UNO('.uno:ArrowShapes.down-arrow-callout')},\n\t\t\t{img: 'arrowshapes_left-right-arrow-callout', uno: 'ArrowShapes.left-right-arrow-callout', text: _UNO('.uno:ArrowShapes.left-right-arrow-callout')},\n\t\t\t{img: 'arrowshapes_up-down-arrow-callout', uno: 'ArrowShapes.up-down-arrow-callout', text: _UNO('.uno:ArrowShapes.up-down-arrow-callout')},\n\t\t\t{img: 'arrowshapes_up-right-arrow-callout', uno: 'ArrowShapes.up-right-arrow-callout', text: _UNO('.uno:ArrowShapes.up-right-arrow-callout')},\n\t\t\t{img: 'arrowshapes_quad-arrow-callout', uno: 'ArrowShapes.quad-arrow-callout', text: _UNO('.uno:ArrowShapes.quad-arrow-callout')},\n\t\t\t{img: 'arrowshapes_circular-arrow', uno: 'ArrowShapes.circular-arrow', text: _UNO('.uno:ArrowShapes.circular-arrow')},\n\n\t\t\t{img: 'arrowshapes_split-round-arrow', uno: 'ArrowShapes.split-round-arrow', text: _UNO('.uno:ArrowShapes.split-round-arrow')},\n\t\t\t{img: 'arrowshapes_s-sharped-arrow', uno: 'ArrowShapes.s-sharped-arrow', text: _UNO('.uno:ArrowShapes.s-sharped-arrow')}\n\t\t],\n\n\t\t'Stars and Banners': [\n\t\t\t{img: 'starshapes_bang', uno: 'StarShapes.bang', text: _UNO('.uno:StarShapes.bang')},\n\t\t\t{img: 'starshapes_star4', uno: 'StarShapes.star4', text: _UNO('.uno:StarShapes.star4')},\n\t\t\t{img: 'starshapes_star5', uno: 'StarShapes.star5', text: _UNO('.uno:StarShapes.star5')},\n\t\t\t{img: 'starshapes_star6', uno: 'StarShapes.star6', text: _UNO('.uno:StarShapes.star6')},\n\t\t\t{img: 'starshapes_star8', uno: 'StarShapes.star8', text: _UNO('.uno:StarShapes.star8')},\n\t\t\t{img: 'starshapes_star12', uno: 'StarShapes.star12', text: _UNO('.uno:StarShapes.star12')},\n\n\t\t\t{img: 'starshapes_star24', uno: 'StarShapes.star24', text: _UNO('.uno:StarShapes.star24')},\n\t\t\t{img: 'starshapes_concave-star6', uno: 'StarShapes.concave-star6', text: _UNO('.uno:StarShapes.concave-star6')},\n\t\t\t{img: 'starshapes_vertical-scroll', uno: 'StarShapes.vertical-scroll', text: _UNO('.uno:StarShapes.vertical-scroll')},\n\t\t\t{img: 'starshapes_horizontal-scroll', uno: 'StarShapes.horizontal-scroll', text: _UNO('.uno:StarShapes.horizontal-scroll')},\n\t\t\t{img: 'starshapes_signet', uno: 'StarShapes.signet', text: _UNO('.uno:StarShapes.signet')},\n\t\t\t{img: 'starshapes_doorplate', uno: 'StarShapes.doorplate', text: _UNO('.uno:StarShapes.doorplate')}\n\t\t],\n\n\t\t'Callouts': [\n\t\t\t{img: 'calloutshapes_rectangular-callout', uno: 'CalloutShapes.rectangular-callout', text: _UNO('.uno:CalloutShapes.rectangular-callout')},\n\t\t\t{img: 'calloutshapes_round-rectangular-callout',uno: 'CalloutShapes.round-rectangular-callout', text: _UNO('.uno:CalloutShapes.round-rectangular-callout')},\n\t\t\t{img: 'calloutshapes_round-callout', uno: 'CalloutShapes.round-callout', text: _UNO('.uno:CalloutShapes.round-callout')},\n\t\t\t{img: 'calloutshapes_cloud-callout', uno: 'CalloutShapes.cloud-callout', text: _UNO('.uno:CalloutShapes.cloud-callout')},\n\t\t\t{img: 'calloutshapes_line-callout-1', uno: 'CalloutShapes.line-callout-1', text: _UNO('.uno:CalloutShapes.line-callout-1')},\n\t\t\t{img: 'calloutshapes_line-callout-2', uno: 'CalloutShapes.line-callout-2', text: _UNO('.uno:CalloutShapes.line-callout-2')},\n\t\t\t{img: 'calloutshapes_line-callout-3', uno: 'CalloutShapes.line-callout-3', text: _UNO('.uno:CalloutShapes.line-callout-3')}\n\t\t],\n\n\t\t'Flowchart': [\n\t\t\t{img: 'flowchartshapes_flowchart-process', uno: 'FlowchartShapes.flowchart-process', text: _UNO('.uno:FlowChartShapes.flowchart-process')},\n\t\t\t{img: 'flowchartshapes_flowchart-alternate-process', uno: 'FlowchartShapes.flowchart-alternate-process', text: _UNO('.uno:FlowChartShapes.flowchart-alternate-process')},\n\t\t\t{img: 'flowchartshapes_flowchart-decision', uno: 'FlowchartShapes.flowchart-decision', text: _UNO('.uno:FlowChartShapes.flowchart-decision')},\n\t\t\t{img: 'flowchartshapes_flowchart-data', uno: 'FlowchartShapes.flowchart-data', text: _UNO('.uno:FlowChartShapes.flowchart-data')},\n\t\t\t{img: 'flowchartshapes_flowchart-predefined-process', uno: 'FlowchartShapes.flowchart-predefined-process', text: _UNO('.uno:FlowChartShapes.flowchart-predefined-process')},\n\t\t\t{img: 'flowchartshapes_flowchart-internal-storage', uno: 'FlowchartShapes.flowchart-internal-storage', text: _UNO('.uno:FlowChartShapes.flowchart-internal-storage')},\n\n\t\t\t{img: 'flowchartshapes_flowchart-document', uno: 'FlowchartShapes.flowchart-document', text: _UNO('.uno:FlowChartShapes.flowchart-document')},\n\t\t\t{img: 'flowchartshapes_flowchart-multidocument', uno: 'FlowchartShapes.flowchart-multidocument', text: _UNO('.uno:FlowChartShapes.flowchart-multidocument')},\n\t\t\t{img: 'flowchartshapes_flowchart-terminator', uno: 'FlowchartShapes.flowchart-terminator', text: _UNO('.uno:FlowChartShapes.flowchart-terminator')},\n\t\t\t{img: 'flowchartshapes_flowchart-preparation', uno: 'FlowchartShapes.flowchart-preparation', text: _UNO('.uno:FlowChartShapes.flowchart-preparation')},\n\t\t\t{img: 'flowchartshapes_flowchart-manual-input', uno: 'FlowchartShapes.flowchart-manual-input', text: _UNO('.uno:FlowChartShapes.flowchart-manual-input')},\n\t\t\t{img: 'flowchartshapes_flowchart-manual-operation', uno: 'FlowchartShapes.flowchart-manual-operation', text: _UNO('.uno:FlowChartShapes.flowchart-manual-operation')},\n\n\t\t\t{img: 'flowchartshapes_flowchart-connector', uno: 'FlowchartShapes.flowchart-connector', text: _UNO('.uno:FlowChartShapes.flowchart-connector')},\n\t\t\t{img: 'flowchartshapes_flowchart-off-page-connector', uno: 'FlowchartShapes.flowchart-off-page-connector', text: _UNO('.uno:FlowChartShapes.flowchart-off-page-connector')},\n\t\t\t{img: 'flowchartshapes_flowchart-card', uno: 'FlowchartShapes.flowchart-card', text: _UNO('.uno:FlowChartShapes.flowchart-card')},\n\t\t\t{img: 'flowchartshapes_flowchart-punched-tape', uno: 'FlowchartShapes.flowchart-punched-tape', text: _UNO('.uno:FlowChartShapes.flowchart-punched-tape')},\n\t\t\t{img: 'flowchartshapes_flowchart-summing-junction', uno: 'FlowchartShapes.flowchart-summing-junction', text: _UNO('.uno:FlowChartShapes.flowchart-summing-junction')},\n\t\t\t{img: 'flowchartshapes_flowchart-or', uno: 'FlowchartShapes.flowchart-or', text: _UNO('.uno:FlowChartShapes.flowchart-or')},\n\n\t\t\t{img: 'flowchartshapes_flowchart-collate', uno: 'FlowchartShapes.flowchart-collate', text: _UNO('.uno:FlowChartShapes.flowchart-collate')},\n\t\t\t{img: 'flowchartshapes_flowchart-sort', uno: 'FlowchartShapes.flowchart-sort', text: _UNO('.uno:FlowChartShapes.flowchart-sort')},\n\t\t\t{img: 'flowchartshapes_flowchart-extract', uno: 'FlowchartShapes.flowchart-extract', text: _UNO('.uno:FlowChartShapes.flowchart-extract')},\n\t\t\t{img: 'flowchartshapes_flowchart-merge', uno: 'FlowchartShapes.flowchart-merge', text: _UNO('.uno:FlowChartShapes.flowchart-merge')},\n\t\t\t{img: 'flowchartshapes_flowchart-stored-data', uno: 'FlowchartShapes.flowchart-stored-data', text: _UNO('.uno:FlowChartShapes.flowchart-stored-data')},\n\t\t\t{img: 'flowchartshapes_flowchart-delay', uno: 'FlowchartShapes.flowchart-delay', text: _UNO('.uno:FlowChartShapes.flowchart-delay')},\n\n\t\t\t{img: 'flowchartshapes_flowchart-sequential-access', uno: 'FlowchartShapes.flowchart-sequential-access', text: _UNO('.uno:FlowChartShapes.flowchart-sequential-access')},\n\t\t\t{img: 'flowchartshapes_flowchart-magnetic-disk', uno: 'FlowchartShapes.flowchart-magnetic-disk', text: _UNO('.uno:FlowChartShapes.flowchart-magnetic-disk')},\n\t\t\t{img: 'flowchartshapes_flowchart-direct-access-storage', uno: 'FlowchartShapes.flowchart-direct-access-storage', text: _UNO('.uno:FlowChartShapes.flowchart-direct-access-storage')},\n\t\t\t{img: 'flowchartshapes_flowchart-display', uno: 'FlowchartShapes.flowchart-display', text: _UNO('.uno:FlowChartShapes.flowchart-display')}\n\t\t]\n\t},\n\t'insertconnectors': {\n\t\t'Connectors': [\n\t\t\t{img: 'connectors_connector', uno: 'Connector', text: _UNO('.uno:Connector', 'presentation')},\n\t\t\t{img: 'connectors_connectorarrows', uno: 'ConnectorArrows', text: _UNO('.uno:ConnectorArrows', 'presentation')},\n\t\t\t{img: 'connectors_connectorarrowend', uno: 'ConnectorArrowEnd', text: _UNO('.uno:ConnectorArrowEnd', 'presentation')},\n\t\t\t{img: 'connectors_connectorlinearrowend', uno: 'ConnectorLineArrowEnd', text: _UNO('.uno:ConnectorLineArrowEnd', 'presentation')},\n\t\t\t{img: 'connectors_connectorcurvearrowend', uno: 'ConnectorCurveArrowEnd', text: _UNO('.uno:ConnectorCurveArrowEnd', 'presentation')},\n\t\t\t{img: 'connectors_connectorlinesarrowend', uno: 'ConnectorLinesArrowEnd', text: _UNO('.uno:ConnectorLinesArrowEnd', 'presentation')},\n\t\t\t{img: 'connectors_connectorline', uno: 'ConnectorLine', text: _UNO('.uno:ConnectorLine', 'presentation')},\n\t\t\t{img: 'connectors_connectorcurve', uno: 'ConnectorCurve', text: _UNO('.uno:ConnectorCurve', 'presentation')},\n\t\t\t{img: 'connectors_connectorlines', uno: 'ConnectorLines', text: _UNO('.uno:ConnectorLines', 'presentation')},\n\t\t\t{img: 'connectors_connectorlinearrows', uno: 'ConnectorLineArrows', text: _UNO('.uno:ConnectorLineArrows', 'presentation')},\n\t\t\t{img: 'connectors_connectorcurvearrows', uno: 'ConnectorCurvearrows', text: _UNO('.uno:ConnectorCurveArrows', 'presentation')}\n\t\t]\n\t}\n};\n\nfunction createShapesPanel(shapeType) {\n\tconst wrapper = document.createElement('div');\n\twrapper.className = 'ui-grid-cell';\n\twrapper.id = 'insertshape-wrapper';\n\n\tconst grid = document.createElement('div');\n\tgrid.className = 'insertshape-grid insertshapes';\n\n\tvar collection = shapes[shapeType];\n\n\tfor (var s in collection) {\n\t\tconst rowHeader = document.createElement('div');\n\t\trowHeader.className = 'row-header cool-font';\n\t\trowHeader.textContent = _(s);\n\t\tgrid.appendChild(rowHeader);\n\n\t\tconst row = document.createElement('div');\n\t\trow.className = 'row';\n\t\tgrid.appendChild(row);\n\n\t\tfor (let idx = 0; idx < collection[s].length; ++idx) {\n\t\t\tconst shape = collection[s][idx];\n\n\t\t\tconst col = document.createElement('div');\n\t\t\tcol.className = 'col w2ui-icon ' + shape.img;\n\t\t\tcol.dataset.uno = shape.uno;\n\t\t\trow.appendChild(col);\n\t\t}\n\t}\n\n\tgrid.onclick = function(e) {\n\t\tmap.sendUnoCommand('.uno:' + e.target.dataset.uno);\n\t\tmap._docLayer._closeMobileWizard();\n\t};\n\n\twrapper.appendChild(grid);\n\n\treturn wrapper;\n}\n\nvar onShapeClickFunction = function(e) {\n\tapp.map.sendUnoCommand('.uno:' + $(e.target).data().uno);\n\tclosePopup();\n\te.stopPropagation();\n};\n\nvar onShapeKeyUpFunction = function(event) {\n\tif (event.code === 'Enter' || event.code === 'Space') {\n\t\tapp.map.sendUnoCommand('.uno:' + event.target.dataset.uno);\n\t\tclosePopup();\n\t}\n\tevent.stopPropagation();\n};\n\nvar onShapeKeyDownFunction = function(event) {\n\tif (event.code === 'Escape') {\n\t\tclosePopup();\n\t\tapp.map.focus();\n\t}\n};\n\nfunction insertShapes(shapeType, grid = document.getElementsByClassName('insertshape-grid')[0], width) {\n\n\tgrid.classList.add(shapeType);\n\n\tif (window.mode.isDesktop() || window.mode.isTablet())\n\t\tgrid.style.marginBottom = '0px';\n\n\tif (grid.firstChild)\n\t\treturn;\n\n\tvar collection = shapes[shapeType];\n\n\tfor (let s in collection) {\n\t\tconst rowHeader = document.createElement('div');\n\t\trowHeader.className = 'row-header cool-font';\n\t\trowHeader.textContent = _(s);\n\t\tgrid.appendChild(rowHeader);\n\n\t\tvar rows = Math.ceil(collection[s].length / width);\n\t\tvar idx = 0;\n\t\tconst row = document.createElement('div');\n\t\trow.className = 'row';\n\t\tgrid.appendChild(row);\n\t\tfor (let r = 0; r < rows; r++) {\n\n\t\t\tfor (let c = 0; c < width; c++) {\n\t\t\t\tif (idx >= collection[s].length) {\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\n\t\t\t\tconst shape = collection[s][idx++];\n\t\t\t\tconst col = document.createElement('div');\n\n\t\t\t\tcol.className = 'col w2ui-icon ' + shape.img;\n\t\t\t\tcol.dataset.uno = shape.uno;\n\t\t\t\tcol.setAttribute('data-cooltip', shape.text);\n\t\t\t\tL.control.attachTooltipEventListener(col, map);\n\t\t\t\tcol.tabIndex = 0;\n\t\t\t\tcol.setAttribute('index', r + ':' + c);\n\t\t\t\trow.appendChild(col);\n\t\t\t}\n\n\t\t\tif (idx >= collection[s].length)\n\t\t\t\tbreak;\n\t\t}\n\t}\n}\n\nfunction getShapesPopupElements(closeCallback) {\n\tlastClosePopupCallback = closeCallback;\n\n\tconst grid = document.createElement('div');\n\tgrid.className = 'insertshape-grid';\n\tgrid.onclick = onShapeClickFunction;\n\tgrid.onkeyup = onShapeKeyUpFunction;\n\tgrid.onkeydown = onShapeKeyDownFunction;\n\n\tconst container = document.createElement('div');\n\tcontainer.appendChild(grid);\n\n\tinsertShapes('insertshapes', container.children[0], 10);\n\n\tconst wrapperContainer = document.createElement('div');\n\n\tconst wrapper = document.createElement('div');\n\twrapper.id = 'insertshape-wrapper';\n\n\twrapperContainer.appendChild(wrapper);\n\n\tconst popUp = document.createElement('div');\n\tpopUp.id = 'insertshape-popup';\n\tpopUp.className = 'insertshape-pop ui-widget ui-corner-all';\n\n\twrapperContainer.appendChild(popUp);\n\n\tpopUp.appendChild(grid);\n\n\treturn wrapperContainer;\n}\n\nfunction getConnectorsPopupElements(closeCallback) {\n\tlastClosePopupCallback = closeCallback;\n\n\tconst gridContainer = document.createElement('div');\n\n\tconst grid = document.createElement('div');\n\tgrid.className = 'insertshape-grid';\n\tgrid.onclick = onShapeClickFunction;\n\tgrid.onkeyup = onShapeKeyUpFunction;\n\tgrid.onkeydown = onShapeKeyDownFunction;\n\n\tgridContainer.appendChild(grid);\n\n\tinsertShapes('insertconnectors', gridContainer.children[0], 2);\n\n\n\tconst wrapperContainer = document.createElement('div');\n\tconst wrapper = document.createElement('div');\n\n\twrapper.id = 'insertshape-wrapper';\n\n\tconst popUp = document.createElement('div');\n\tpopUp.id = 'insertshape-popup';\n\tpopUp.className = 'insertshape-pop ui-widget ui-corner-all';\n\n\twrapperContainer.appendChild(wrapper);\n\twrapperContainer.appendChild(popUp);\n\tpopUp.appendChild(grid);\n\n\treturn wrapperContainer;\n}\n\nfunction getColorPickerElements(id) {\n\tconst div = document.createElement('div');\n\tdiv.id = id + '-wrapper';\n\treturn div;\n}\n\nfunction getColorPickerData(type) {\n\tvar uno;\n\tif (type === 'Font Color') {\n\t\tif (map.getDocType() === 'spreadsheet' ||\n\t\t    map.getDocType() === 'presentation')\n\t\t\tuno = '.uno:Color';\n\t\telse\n\t\t\tuno = '.uno:FontColor';\n\t} else if (type === 'Highlight Color') {\n\t\tif (map.getDocType() === 'spreadsheet')\n\t\t\tuno = '.uno:BackgroundColor';\n\t\telse\n\t\t\tuno = '.uno:CharBackColor';\n\t}\n\tvar data = {\n\t\tid: 'colorpicker',\n\t\ttype: 'window',\n\t\ttext: _(type),\n\t\tenabled: 'true',\n\t\tchildren: [\n\t\t\t{\n\t\t\t\ttype: 'toolitem',\n\t\t\t\ttext: '',\n\t\t\t\tcommand: uno,\n\t\t\t\tnosubmenu: true\n\t\t\t}\n\t\t],\n\t\tvertical: 'true'\n\t};\n\treturn data;\n}\n\nfunction unoCmdToToolbarId(commandname)\n{\n\tvar id = commandname.toLowerCase().substr(5);\n\tvar selectionType = 'text';\n\n\tif (map._clip && map._clip._selectionType)\n\t\tselectionType = map._clip._selectionType;\n\n\tif (map.getDocType() === 'spreadsheet') {\n\t\tswitch (id) {\n\t\tcase 'alignleft':\n\t\t\tid = 'leftpara';\n\t\t\tbreak;\n\t\tcase 'alignhorizontalcenter':\n\t\t\tid = 'centerpara';\n\t\t\tbreak;\n\t\tcase 'alignright':\n\t\t\tid = 'rightpara';\n\t\t\tbreak;\n\t\t}\n\t}\n\telse if (selectionType == 'complex') {\n\n\t\t// ignore the text align state messages.\n\t\tif (id === 'leftpara' || id === 'rightpara' ||\n\t\t\tid === 'centerpara') {\n\t\t\tid = '';\n\t\t}\n\n\t\t// convert the object align statemessages to align button ids.\n\t\tswitch (id) {\n\t\tcase 'objectalignleft':\n\t\t\tid = 'leftpara';\n\t\t\tbreak;\n\t\tcase 'aligncenter':\n\t\t\tid = 'centerpara';\n\t\t\tbreak;\n\t\tcase 'objectalignright':\n\t\t\tid = 'rightpara';\n\t\t\tbreak;\n\t\t}\n\t}\n\telse if (id === 'objectalignleft' || id === 'aligncenter' ||\n\t\tid === 'objectalignright') {\n\t\t// selectionType is 'text', so ignore object align state messages.\n\t\tid = '';\n\t}\n\n\tif (id === 'hyperlinkdialog')\n\t\tid = 'link';\n\n\treturn id;\n}\n\nfunction onInsertGraphic() {\n\tvar insertGraphic = L.DomUtil.get('insertgraphic');\n\tif ('files' in insertGraphic) {\n\t\tfor (var i = 0; i < insertGraphic.files.length; i++) {\n\t\t\tvar file = insertGraphic.files[i];\n\t\t\tmap.insertGraphic(file);\n\t\t}\n\t}\n\n\t// Set the value to null everytime so that onchange event is triggered,\n\t// even if the same file is selected\n\tinsertGraphic.value = null;\n\treturn false;\n}\n\nfunction onInsertMultimedia() {\n\tvar insertMultimedia = L.DomUtil.get('insertmultimedia');\n\tif ('files' in insertMultimedia) {\n\t\tfor (var i = 0; i < insertMultimedia.files.length; i++) {\n\t\t\tvar file = insertMultimedia.files[i];\n\t\t\tmap.insertMultimedia(file);\n\t\t}\n\t}\n\n\t// Set the value to null everytime so that onchange event is triggered,\n\t// even if the same file is selected\n\tinsertMultimedia.value = null;\n\treturn false;\n}\n\nfunction onInsertBackground() {\n\tvar selectBackground = L.DomUtil.get('selectbackground');\n\tif ('files' in selectBackground) {\n\t\tfor (var i = 0; i < selectBackground.files.length; i++) {\n\t\t\tvar file = selectBackground.files[i];\n\t\t\tmap.selectBackground(file);\n\t\t}\n\t}\n\n\t// Set the value to null everytime so that onchange event is triggered,\n\t// even if the same file is selected\n\tselectBackground.value = null;\n\treturn false;\n}\n\nfunction onWopiProps(e) {\n\tif (e.DisableCopy) {\n\t\t$('#addressInput input').bind('copy', function(evt) {\n\t\t\tevt.preventDefault();\n\t\t});\n\t}\n}\n\nfunction processStateChangedCommand(commandName, state) {\n\tvar toolbar = window.mode.isMobile() ? app.map.mobileBottomBar : app.map.topToolbar;\n\tif (!toolbar)\n\t\treturn;\n\n\tvar color, div;\n\n\tif (!commandName)\n\t\treturn;\n\n\tif (commandName === '.uno:AssignLayout') {\n\t\t$('.styles-select').val(state).trigger('change');\n\t}\n\telse if (commandName === '.uno:FontColor' || commandName === '.uno:Color') {\n\t\tif (!toolbar) return;\n\t\t// confusingly, the .uno: command is named differently in Writer, Calc and Impress\n\t\tcolor = parseInt(state);\n\t\tif (color === -1) {\n\t\t\tcolor = 'transparent';\n\t\t}\n\t\telse {\n\t\t\tcolor = color.toString(16);\n\t\t\tcolor = '#' + Array(7 - color.length).join('0') + color;\n\t\t}\n\n\t\tdiv = L.DomUtil.get('fontcolorindicator');\n\t\tif (div) {\n\t\t\tL.DomUtil.setStyle(div, 'background', color);\n\t\t}\n\t}\n\telse if (commandName === '.uno:BackgroundColor' || commandName === '.uno:CharBackColor') {\n\t\tif (!toolbar) return;\n\t\t// confusingly, the .uno: command is named differently in Writer, Calc and Impress\n\t\tcolor = parseInt(state);\n\t\tif (color === -1) {\n\t\t\tcolor = 'transparent';\n\t\t}\n\t\telse {\n\t\t\tcolor = color.toString(16);\n\t\t\tcolor = '#' + Array(7 - color.length).join('0') + color;\n\t\t}\n\n\t\tdiv = L.DomUtil.get('backcolorindicator');\n\t\tif (div) {\n\t\t\tL.DomUtil.setStyle(div, 'background', color);\n\t\t}\n\t}\n\telse if (commandName === '.uno:ModifiedStatus') {\n\t\tif (document.getElementById('save')) {\n\t\t\tif (state === 'true' && map.saveState)\n\t\t\t\tmap.saveState.showModifiedStatus();\n\t\t\telse\n\t\t\t\tdocument.getElementById('save').classList.remove('savemodified');\n\t\t}\n\t\tstate = ''; // stop processing below\n\t}\n\telse if (commandName === '.uno:DocumentRepair') {\n\t\tif (state === 'true') {\n\t\t\ttoolbar.enableItem('repair', true);\n\t\t} else {\n\t\t\ttoolbar.enableItem('repair', false);\n\t\t}\n\t}\n\n\tif (commandName === '.uno:SpacePara1' || commandName === '.uno:SpacePara15'\n\t\t|| commandName === '.uno:SpacePara2') {\n\t\t// TODO\n\t\t//if (toolbar) toolbar.refresh();\n\t}\n\n\tvar id = unoCmdToToolbarId(commandName);\n\t// id is set to '' by unoCmdToToolbarId() if the statechange message should be ignored.\n\tif (id === '')\n\t\treturn;\n\n\tif (state === 'true') {\n\t\tif (map.isEditMode()) {\n\t\t\ttoolbar.enableItem(id, true);\n\t\t}\n\t\t// TODO: toolbar.check(id);\n\t}\n\telse if (state === 'false') {\n\t\tif (map.isEditMode()) {\n\t\t\ttoolbar.enableItem(id, true);\n\t\t}\n\t\t// TODO: toolbar.uncheck(id);\n\t}\n\t// Change the toolbar button states if we are in editmode\n\t// If in non-edit mode, will be taken care of when permission is changed to 'edit'\n\telse if (map.isEditMode() && (state === 'enabled' || state === 'disabled')) {\n\t\tif (state === 'enabled') {\n\t\t\ttoolbar.enableItem(id, true);\n\t\t} else {\n\t\t\t// TODO: toolbar.uncheck(id);\n\t\t\ttoolbar.enableItem(id, false);\n\t\t}\n\t}\n}\n\nfunction onCommandStateChanged(e) {\n\tprocessStateChangedCommand(e.commandName, e.state);\n}\n\nfunction onUpdateParts(e) {\n\tif (e.docType === 'text') {\n\t\tvar current = e.currentPage;\n\t\tvar count = e.pages;\n\t}\n\telse {\n\t\tcurrent = e.selectedPart;\n\t\tcount = e.parts;\n\t}\n\n\t// TODO\n\tvar toolbar = null;\n\tif (!toolbar) {\n\t\treturn;\n\t}\n\n\tif (!window.mode.isMobile()) {\n\t\tif (e.docType === 'presentation') {\n\t\t\t// TODO\n\t\t\t//toolbar.set('prev', {hint: _('Previous slide')});\n\t\t\t//toolbar.set('next', {hint: _('Next slide')});\n\t\t}\n\t\telse {\n\t\t\ttoolbar.showItem('presentation', false);\n\t\t\ttoolbar.showItem('insertpage', false);\n\t\t\ttoolbar.showItem('duplicatepage', false);\n\t\t\ttoolbar.showItem('deletepage', false);\n\t\t}\n\t}\n\n\tif (app.file.fileBasedView) {\n\t\ttoolbar.enableItem('prev', true);\n\t\ttoolbar.enableItem('next', true);\n\t\treturn;\n\t}\n\n\tif (e.docType !== 'spreadsheet') {\n\t\tif (current === 0) {\n\t\t\ttoolbar.enableItem('prev', false);\n\t\t}\n\t\telse {\n\t\t\ttoolbar.enableItem('prev', true);\n\t\t}\n\n\t\tif (current === count - 1) {\n\t\t\ttoolbar.enableItem('next', false);\n\t\t}\n\t\telse {\n\t\t\ttoolbar.enableItem('next', true);\n\t\t}\n\t}\n}\n\nfunction onCommandResult(e) {\n\tvar commandName = e.commandName;\n\n\tif (commandName === '.uno:Save') {\n\t\tif (e.success) {\n\t\t\t// Saved a new version; the document is modified.\n\t\t\tmap._everModified = true;\n\n\t\t\t// document is saved for rename\n\t\t\tif (map._renameFilename) {\n\t\t\t\tvar renameFilename = map._renameFilename;\n\t\t\t\tmap._renameFilename = '';\n\t\t\t\tmap.renameFile(renameFilename);\n\t\t\t}\n\t\t}\n\t\tvar postMessageObj = {\n\t\t\tsuccess: e.success\n\t\t};\n\t\tif (!e.success) {\n\t\t\t// add the result reason string if failed\n\t\t\tpostMessageObj['result'] = e.result && e.result.value;\n\t\t}\n\n\t\tmap.fire('postMessage', {msgId: 'Action_Save_Resp', args: postMessageObj});\n\t}\n\telse if ((commandName === '.uno:Undo' || commandName === '.uno:Redo') &&\n\t\te.success === true && e.result.value && !isNaN(e.result.value)) { /*UNDO_CONFLICT*/\n\t\tvar alertOptions = {\n\t\t\tmessages: [\n\t\t\t\t_('Conflict Undo/Redo with multiple users. Please use document repair to resolve')\n\t\t\t],\n\t\t};\n\t\tJSDialog.showInfoModalWithOptions('undo-conflict-error', alertOptions);\n\t} else if (map.zotero &&\n\t\t((commandName === '.uno:DeleteTextFormField' && e.result.DeleteTextFormField.startsWith('ADDIN ZOTERO_')) ||\n\t\t(commandName === '.uno:DeleteField' && e.result.DeleteField.startsWith('ZOTERO_')) ||\n\t\t(commandName === '.uno:DeleteSection' && e.result.DeleteSection.startsWith('ZOTERO_BIBL')))) {\n\t\tif (commandName === '.uno:DeleteSection')\n\t\t\tmap.zotero.markBibliographyStyleHasBeenSet(true);\n\t\tmap.zotero.handleRefreshCitationsAndBib(false);\n\t} else if (map.zotero && commandName === '.uno:DeleteBookmark' && e.result.DeleteBookmark.startsWith('ZOTERO_BREF_')) {\n\t\tmap.zotero.setCustomProperty(e.result.DeleteBookmark, '');\n\t\tmap.zotero.handleRefreshCitationsAndBib(false);\n\t} else if (commandName === '.uno:OpenHyperlink') {\n\t\t// allow to process other incoming messages first\n\t\tsetTimeout(function () {\n\t\t\tmap._docLayer.scrollToPos(new app.definitions.simplePoint(app.file.textCursor.rectangle.x1, app.file.textCursor.rectangle.y1));\n\t\t}, 0);\n\t}\n}\n\nfunction onUpdatePermission(e) {\n\tvar toolbar = window.mode.isMobile() ? app.map.mobileBottomBar : app.map.topToolbar;\n\tif (toolbar) {\n\t\t// always enabled items\n\t\tvar enabledButtons = ['closemobile', 'undo', 'redo', 'hamburger-tablet'];\n\n\t\t// copy the first array\n\t\tvar items = toolbar.getToolItems(app.map.getDocType()).slice();\n\t\tfor (var idx in items) {\n\t\t\tvar found = enabledButtons.filter(function(id) { return id === items[idx].id; });\n\t\t\tvar alwaysEnable = found.length !== 0;\n\n\t\t\tif (e.detail.perm === 'edit') {\n\t\t\t\tvar unoCmd = map.getDocType() === 'spreadsheet' ? items[idx].unosheet : getUNOCommand(items[idx].uno);\n\t\t\t\tvar keepDisabled = map['stateChangeHandler'].getItemValue(unoCmd) === 'disabled';\n\t\t\t\tif (!keepDisabled || alwaysEnable)\n\t\t\t\t\ttoolbar.enableItem(items[idx].id, true);\n\t\t\t\t$('.main-nav').removeClass('readonly');\n\t\t\t\t$('#toolbar-down').removeClass('readonly');\n\t\t\t} else if (!alwaysEnable) {\n\t\t\t\t$('.main-nav').addClass('readonly');\n\t\t\t\t$('#toolbar-down').addClass('readonly');\n\t\t\t\ttoolbar.enableItem(items[idx].id, false);\n\t\t\t}\n\t\t}\n\n\t\tif (e.detail.perm === 'edit') {\n\t\t\t$('#toolbar-mobile-back').removeClass('editmode-off');\n\t\t\t$('#toolbar-mobile-back').addClass('editmode-on');\n\t\t\ttoolbar.updateItem({id: 'closemobile', type: 'customtoolitem', w2icon: 'editmode'});\n\t\t} else {\n\t\t\t$('#toolbar-mobile-back').removeClass('editmode-on');\n\t\t\t$('#toolbar-mobile-back').addClass('editmode-off');\n\t\t\ttoolbar.updateItem({id: 'closemobile', type: 'customtoolitem', w2icon: 'closemobile'});\n\t\t}\n\t}\n}\n\nfunction editorUpdate(e) { // eslint-disable-line no-unused-vars\n\tvar docLayer = map._docLayer;\n\n\tif (e.target.checked) {\n\t\tvar editorId = docLayer._editorId;\n\t\tapp.setFollowingEditor(editorId);\n\t\tif (editorId !== -1 && editorId !== docLayer._viewId)\n\t\t\tmap._goToViewId(editorId);\n\t}\n\telse\n\t\tapp.setFollowingOff();\n\n\tmap.userList.hideTooltip();\n}\n\nglobal.editorUpdate = editorUpdate;\n\n$(document).ready(function() {\n\t// Attach insert file action\n\t$('#insertgraphic').on('change', onInsertGraphic);\n\t$('#insertmultimedia').on('change', onInsertMultimedia);\n\t$('#selectbackground').on('change', onInsertBackground);\n});\n\nfunction setupToolbar(e) {\n\tmap = e;\n\n\tmap.on('focussearch', function () {\n\t\tvar entry = L.DomUtil.get('search-input');\n\t\tentry.focus();\n\t\tentry.select();\n\t});\n\n\tmap.on('search', function (e) {\n\t\tvar searchInput = L.DomUtil.get('search-input');\n\t\tvar toolbar = window.mode.isMobile() ? app.map.mobileSearchBar: app.map.statusBar;\n\t\tif (!toolbar) {\n\t\t\tconsole.debug('Cannot find search bar');\n\t\t\treturn;\n\t\t}\n\t\tif (e.count === 0) {\n\t\t\ttoolbar.enableItem('searchprev', false);\n\t\t\ttoolbar.enableItem('searchnext', false);\n\t\t\ttoolbar.showItem('cancelsearch', false);\n\t\t\tL.DomUtil.addClass(searchInput, 'search-not-found');\n\t\t\t$('#findthis').addClass('search-not-found');\n\t\t\tapp.searchService.resetSelection();\n\t\t\tsetTimeout(function () {\n\t\t\t\t$('#findthis').removeClass('search-not-found');\n\t\t\t\tL.DomUtil.removeClass(searchInput, 'search-not-found');\n\t\t\t}, 800);\n\t\t}\n\t});\n\n\tmap.on('hyperlinkclicked', function (e) {\n\t\tif (e.url) {\n\t\t\tif (e.coordinates) {\n\t\t\t\t// Coordinates contains a list of numbers, 0-1 top-left of the cell with the hyperlink\n\t\t\t\t// 2-3 size of the cell, 4-5 number of th cell, 6-7 are the position of the click\n\t\t\t\tvar strTwips = e.coordinates.match(/\\d+/g);\n\t\t\t\tvar linkPosition;\n\t\t\t\tif (strTwips.length > 7) {\n\t\t\t\t\tlinkPosition = new app.definitions.simplePoint(parseInt(strTwips[6]), parseInt(strTwips[7]));\n\t\t\t\t}\n\t\t\t\tapp.definitions.urlPopUpSection.showURLPopUP(e.url, new app.definitions.simplePoint(parseInt(strTwips[6]), parseInt(strTwips[1])), linkPosition);\n\t\t\t} else {\n\t\t\t\tmap.fire('warn', {url: e.url, map: map, cmd: 'openlink'});\n\t\t\t}\n\t\t}\n\t});\n\n\tapp.events.on('updatepermission', onUpdatePermission);\n\tmap.on('wopiprops', onWopiProps);\n\tmap.on('commandresult', onCommandResult);\n\tmap.on('updateparts pagenumberchanged', onUpdateParts);\n\n\tif (map.options.wopi && L.Params.closeButtonEnabled && !window.mode.isMobile()) {\n\t\t$('#closebuttonwrapper').css('display', 'flex');\n\t\tvar button = L.DomUtil.get('closebutton');\n\t\tif (button) {\n\t\t\tbutton.setAttribute('data-cooltip', _('Close document'));\n\t\t\tL.control.attachTooltipEventListener(button, map);\n\t\t}\n\t} else if (!L.Params.closeButtonEnabled) {\n\t\t$('#closebuttonwrapper').hide();\n\t\t$('#closebuttonwrapperseparator').hide();\n\t} else if (L.Params.closeButtonEnabled && !window.mode.isMobile()) {\n\t\t$('#closebuttonwrapper').css('display', 'flex');\n\t}\n\n\t$('#closebutton').click(function () {\n\t\tlet dispatcher = global.app.dispatcher;\n\t\tif (!dispatcher)\n\t\t\tdispatcher = new app.definitions['dispatcher']('global');\n\n\t\tdispatcher.dispatch('closeapp');\n\t});\n}\n\nglobal.setupToolbar = setupToolbar;\nglobal.insertTable = insertTable;\nglobal.getInsertTablePopupElements = getInsertTablePopupElements;\nglobal.sendInsertTableFunction = sendInsertTableFunction;\nglobal.highlightTableFunction = highlightTableFunction;\nglobal.getShapesPopupElements = getShapesPopupElements;\nglobal.getConnectorsPopupElements = getConnectorsPopupElements;\nglobal.onShapeClickFunction = onShapeClickFunction;\nglobal.onShapeKeyUpFunction = onShapeKeyUpFunction;\nglobal.onShapeKeyDownFunction = onShapeKeyDownFunction;\nglobal.createShapesPanel = createShapesPanel;\nglobal.onUpdatePermission = onUpdatePermission;\nglobal.getUNOCommand = getUNOCommand;\nglobal.unoCmdToToolbarId = unoCmdToToolbarId;\nglobal.onCommandStateChanged = onCommandStateChanged;\nglobal.processStateChangedCommand = processStateChangedCommand;\nglobal.getColorPickerElements = getColorPickerElements;\nglobal.onUpdateParts = onUpdateParts;\nglobal.getColorPickerData = getColorPickerData;\n}(window));\n"]}