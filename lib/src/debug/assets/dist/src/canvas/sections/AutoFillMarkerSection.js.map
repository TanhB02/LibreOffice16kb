{"version":3,"file":"AutoFillMarkerSection.js","sourceRoot":"","sources":["../../../../../../../../../../../TanhX/online/browser/src/canvas/sections/AutoFillMarkerSection.ts"],"names":[],"mappings":"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","sourcesContent":["// @ts-strict-ignore\n/* -*- js-indent-level: 8 -*- */\n\n/*\n * Copyright the Collabora Online contributors.\n *\n * SPDX-License-Identifier: MPL-2.0\n *\n * This Source Code Form is subject to the terms of the Mozilla Public\n * License, v. 2.0. If a copy of the MPL was not distributed with this\n * file, You can obtain one at http://mozilla.org/MPL/2.0/.\n */\n/* See CanvasSectionContainer.ts for explanations. */\n\ndeclare var L: any;\n\napp.definitions.AutoFillMarkerSection =\nclass AutoFillMarkerSection extends CanvasSectionObject {\n\tname: string = L.CSections.AutoFillMarker.name;\n\tprocessingOrder: number = L.CSections.AutoFillMarker.processingOrder;\n\tdrawingOrder: number = L.CSections.AutoFillMarker.drawingOrder;\n\tzIndex: number = L.CSections.AutoFillMarker.zIndex;\n\n\tmap: any;\n\tcursorBorderWidth: number = 2;\n\tselectionBorderWidth: number = 1;\n\n\tconstructor () {\n\t\tsuper();\n\t\tthis.documentObject = true;\n\t\tthis.map = L.Map.THIS;\n\t\tthis.sectionProperties.docLayer = this.map._docLayer;\n\t\tthis.sectionProperties.selectedAreaPoint = null;\n\t\tthis.sectionProperties.cellCursorPoint = null;\n\t\tthis.sectionProperties.inMouseDown = false;\n\n\t\tthis.sectionProperties.draggingStarted = false;\n\t\tthis.sectionProperties.dragStartPosition = null;\n\n\t\tthis.sectionProperties.mapPane = (<HTMLElement>(document.querySelectorAll('.leaflet-map-pane')[0]));\n\n\t\tvar cursorStyle = getComputedStyle(this.sectionProperties.docLayer._cursorDataDiv);\n\t\tvar selectionStyle = getComputedStyle(this.sectionProperties.docLayer._selectionsDataDiv);\n\t\tvar cursorColor = cursorStyle.getPropertyValue('border-top-color');\n\t\tthis.backgroundColor = cursorColor ? cursorColor : this.backgroundColor;\n\t\tthis.cursorBorderWidth = Math.round(window.devicePixelRatio * parseInt(cursorStyle.getPropertyValue('border-top-width')));\n\t\tthis.selectionBorderWidth = Math.round(window.devicePixelRatio * parseInt(selectionStyle.getPropertyValue('border-top-width')));\n\t}\n\n\tpublic onInitialize () {\n\t\tif ((<any>window).mode.isDesktop()) {\n\t\t\tthis.size = [Math.round(6 * app.dpiScale), Math.round(6 * app.dpiScale)];\n\t\t}\n\t\telse {\n\t\t\tthis.size = [Math.round(16 * app.dpiScale), Math.round(16 * app.dpiScale)];\n\t\t}\n\t}\n\n\tpublic onResize () {\n\t\treturn;\n\t}\n\n\tprivate setMarkerPosition () {\n\t\tvar center: number = 0;\n\t\tif (!(<any>window).mode.isDesktop()) {\n\t\t\tcenter = app.calc.cellCursorRectangle.pWidth * 0.5;\n\t\t}\n\n\t\tvar position: Array<number> = [0, 0];\n\t\tthis.setShowSection(true);\n\n\t\tif (this.sectionProperties.selectedAreaPoint !== null)\n\t\t\tposition = [this.sectionProperties.selectedAreaPoint[0] - center, this.sectionProperties.selectedAreaPoint[1]];\n\t\telse if (this.sectionProperties.cellCursorPoint !== null)\n\t\t\tposition = [this.sectionProperties.cellCursorPoint[0] - center, this.sectionProperties.cellCursorPoint[1]];\n\t\telse\n\t\t\tthis.setShowSection(false);\n\n\t\tthis.setPosition(position[0], position[1]);\n\t}\n\n\tprivate calculatePositionFromPoint (point: Array<number>) {\n\t\tvar calcPoint: Array<number>;\n\t\tif (point === null) {\n\t\t\tcalcPoint = null;\n\t\t}\n\t\telse {\n\t\t\tvar translation = [Math.floor(this.size[0] * 0.5), Math.floor(this.size[1] * 0.5)];\n\t\t\tcalcPoint = [point[0] - translation[0], point[1] - translation[1]];\n\t\t}\n\t\treturn calcPoint;\n\t}\n\n\t// Give bottom right position of selected area, in core pixels. Call with null parameter when auto fill marker is not visible.\n\tpublic calculatePositionViaCellSelection (point: Array<number>) {\n\t       this.sectionProperties.selectedAreaPoint = this.calculatePositionFromPoint(point);\n\t       this.setMarkerPosition();\n\t}\n\n\t// Give bottom right position of cell cursor, in core pixels. Call with null parameter when auto fill marker is not visible.\n\tpublic calculatePositionViaCellCursor (point: Array<number>) {\n\t       this.sectionProperties.cellCursorPoint = this.calculatePositionFromPoint(point);\n\t       this.setMarkerPosition();\n\t}\n\n\t// This is for enhancing contrast of the marker with the background\n\t// similar to what we have for cell cursors.\n\tprivate drawWhiteOuterBorders () {\n\t\tthis.context.strokeStyle = 'white';\n\t\tthis.context.lineCap = 'square';\n\t\tthis.context.lineWidth = 1;\n\n\t\tvar desktop: boolean = (<any>window).mode.isDesktop();\n\t\tvar translation = desktop ?\n\t\t\t[this.size[0], this.size[1]] :\n\t\t\t[Math.floor(this.size[0] * 0.5), Math.floor(this.size[1] * 0.5)];\n\t\tconst adjustForRTL = app.map._docLayer.isCalcRTL();\n\t\tconst transformX = (xcoord: number) => {\n\t\t\treturn adjustForRTL ? this.size[0] - xcoord : xcoord;\n\t\t};\n\n\t\t// top white line\n\t\tthis.context.beginPath();\n\t\tthis.context.moveTo(transformX(-0.5), -0.5);\n\t\tvar borderWidth = this.sectionProperties.selectedAreaPoint ? this.selectionBorderWidth : this.cursorBorderWidth;\n\t\tthis.context.lineTo(transformX(this.size[0] + 0.5 - (desktop ? borderWidth : 0)), - 0.5);\n\t\tthis.context.stroke();\n\n\t\tif (!desktop) {\n\t\t\tthis.context.beginPath();\n\t\t\tthis.context.moveTo(transformX(this.size[0] - 0.5 - (desktop ? borderWidth : 0)), -0.5);\n\t\t\tthis.context.lineTo(transformX(this.size[0] - 0.5 - (desktop ? borderWidth : 0)), translation[1] - 0.5 - borderWidth);\n\t\t\tthis.context.stroke();\n\t\t}\n\n\t\t// bottom white line\n\t\tthis.context.beginPath();\n\t\tthis.context.moveTo(transformX(-0.5), -0.5);\n\t\tthis.context.lineTo(transformX(-0.5), translation[1] + 0.5 - borderWidth);\n\t\tthis.context.stroke();\n\t}\n\n\tpublic onDraw () {\n\t\tthis.drawWhiteOuterBorders();\n\t}\n\n\tpublic onMouseMove (point: Array<number>, dragDistance: Array<number>, e: MouseEvent) {\n\t\tif ((<any>window).mode.isDesktop())\n\t\t\treturn;\n\n\t\tif (dragDistance === null || !this.sectionProperties.docLayer._cellAutoFillAreaPixels)\n\t\t\treturn; // No dragging or no event handling or auto fill marker is not visible.\n\n\t\tvar pos: any;\n\n\t\tif (!this.sectionProperties.draggingStarted) { // Is it first move?\n\t\t\tthis.sectionProperties.draggingStarted = true;\n\t\t\tthis.sectionProperties.dragStartPosition = this.sectionProperties.docLayer._cellAutoFillAreaPixels.getCenter();\n\t\t\tpos = new L.Point(this.sectionProperties.dragStartPosition[0], this.sectionProperties.dragStartPosition[1]);\n\t\t\tpos = this.sectionProperties.docLayer._corePixelsToTwips(pos);\n\t\t\tthis.sectionProperties.docLayer._postMouseEvent('buttondown', pos.x, pos.y, 1, 1, 0);\n\t\t}\n\n\t\tpoint[0] = this.sectionProperties.dragStartPosition[0] + dragDistance[0];\n\t\tpoint[1] = this.sectionProperties.dragStartPosition[1] + dragDistance[1];\n\t\tpos = this.sectionProperties.docLayer._corePixelsToTwips(new L.Point(point[0], point[1]));\n\n\t\tthis.sectionProperties.docLayer._postMouseEvent('move', pos.x, pos.y, 1, 1, 0);\n\n\t\tthis.map.scrollingIsHandled = true;\n\t\tthis.stopPropagating(); // Stop propagating to sections.\n\t\te.stopPropagation(); // Stop native event.\n\t}\n\n\tpublic onMouseUp (point: Array<number>, e: MouseEvent) {\n\t\tif (this.sectionProperties.draggingStarted) {\n\t\t\tthis.sectionProperties.draggingStarted = false;\n\t\t\tpoint[0] += this.myTopLeft[0] + this.size[0] * 0.5;\n\t\t\tpoint[1] += this.myTopLeft[1] + this.size[1] * 0.5;\n\t\t\tvar pos = this.sectionProperties.docLayer._corePixelsToTwips(new L.Point(point[0], point[1]));\n\t\t\tthis.sectionProperties.docLayer._postMouseEvent('buttonup', pos.x, pos.y, 1, 1, 0);\n\t\t}\n\n\t\tthis.map.scrollingIsHandled = false;\n\t\tthis.stopPropagating();\n\t\te.stopPropagation();\n\t\t(<any>window).IgnorePanning = false;\n\t}\n\n\tpublic onMouseDown (point: Array<number>, e: MouseEvent) {\n\t\tif ((<any>window).mode.isDesktop()) {\n\t\t\tif (this.sectionProperties.inMouseDown)\n\t\t\t\treturn;\n\n\t\t\tthis.sectionProperties.inMouseDown = true;\n\n\t\t\t// revert coordinates to global and fire event again with position in the center\n\t\t\t// inverse of convertPositionToCanvasLocale\n\t\t\tvar canvasClientRect = this.containerObject.getCanvasBoundingClientRect();\n\t\t\tpoint[0] = (this.myTopLeft[0] + this.size[0] * 0.5 + 1) / app.dpiScale + canvasClientRect.left;\n\t\t\tpoint[1] = (this.myTopLeft[1] + this.size[1] * 0.5 + 1) / app.dpiScale + canvasClientRect.top;\n\n\t\t\tvar newPoint = {\n\t\t\t\tclientX: point[0],\n\t\t\t\tclientY: point[1],\n\t\t\t};\n\n\t\t\tvar newEvent = this.sectionProperties.docLayer._createNewMouseEvent('mousedown', newPoint);\n\t\t\tthis.sectionProperties.mapPane.dispatchEvent(newEvent);\n\t\t}\n\n\t\t// Just to be safe. We don't need this, but it makes no harm.\n\t\tthis.stopPropagating();\n\t\te.stopPropagation();\n\t\t(<any>window).IgnorePanning = true; // We'll keep this until we have consistent sections and remove map element.\n\n\t\tthis.sectionProperties.inMouseDown = false;\n\t}\n\n\tpublic onMouseEnter () {\n\t\tthis.sectionProperties.mapPane.style.cursor = 'crosshair';\n\t}\n\n\tpublic onMouseLeave () {\n\t\tthis.sectionProperties.mapPane.style.cursor = 'default';\n\t}\n\n\tpublic onNewDocumentTopLeft () {\n\t\tthis.setMarkerPosition();\n\t}\n\n\tpublic onMouseWheel () { return; }\n\tpublic onClick () { return; }\n\tpublic onDoubleClick (point: Array<number>, e: MouseEvent) {\n\t\tthis.sectionProperties.dragStartPosition = this.sectionProperties.docLayer._cellAutoFillAreaPixels.getCenter();\n\t\tvar pos = new L.Point(this.sectionProperties.dragStartPosition[0], this.sectionProperties.dragStartPosition[1]);\n\t\tpos = this.sectionProperties.docLayer._corePixelsToTwips(pos);\n\t\tthis.sectionProperties.docLayer._postMouseEvent('buttondown', pos.x, pos.y, 2, 1, 0);\n\t\tthis.stopPropagating(); // Stop propagating to sections.\n\t\te.stopPropagation(); // Stop native event.\n\t}\n\tpublic onContextMenu () { return; }\n\tpublic onMultiTouchStart () { return; }\n\tpublic onMultiTouchMove () { return; }\n\tpublic onMultiTouchEnd () { return; }\n};\n"]}