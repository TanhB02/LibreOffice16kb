{"version":3,"file":"CellCursorSection.js","sourceRoot":"","sources":["../../../../../../../../../../../TanhX/online/browser/src/canvas/sections/CellCursorSection.ts"],"names":[],"mappings":"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","sourcesContent":["/* global Proxy _ */\n/*\n * Copyright the Collabora Online contributors.\n *\n * SPDX-License-Identifier: MPL-2.0\n *\n * This Source Code Form is subject to the terms of the Mozilla Public\n * License, v. 2.0. If a copy of the MPL was not distributed with this\n * file, You can obtain one at http://mozilla.org/MPL/2.0/.\n*/\n\nclass CellCursorSection extends CanvasSectionObject {\n\tname: string = L.CSections.CellCursor.name;\n    zIndex: number = L.CSections.CellCursor.zIndex;\n    drawingOrder: number = L.CSections.CellCursor.drawingOrder;\n    processingOrder: number = L.CSections.CellCursor.processingOrder;\n\n\tconstructor (color: string, weight: number, viewId: number) {\n        super();\n\n\t\tthis.documentObject = true;\n\n\t\tthis.sectionProperties.viewId = viewId;\n\t\tthis.sectionProperties.weight = weight;\n\t\tthis.sectionProperties.color = color;\n\t}\n\n\tpublic getViewId(): number {\n\t\treturn this.sectionProperties.viewId;\n\t}\n\n\tpublic setViewId(viewId: number) {\n\t\tthis.sectionProperties.viewId = viewId;\n\t}\n\n\tpublic onDraw() {\n\t\tif (app.calc.cellCursorVisible) {\n\t\t\tthis.context.lineJoin = 'miter';\n\t\t\tthis.context.lineCap = 'butt';\n\t\t\tthis.context.lineWidth = 1;\n\n\t\t\tthis.context.strokeStyle = this.sectionProperties.color;\n\n\t\t\tlet x: number = 0;\n\t\t\tif (app.calc.isRTL()) {\n\t\t\t\tconst rightMost = this.containerObject.getDocumentAnchor()[0] + this.containerObject.getDocumentAnchorSection().size[0];\n\t\t\t\tx = rightMost - this.size[0];\n\t\t\t}\n\n\t\t\tfor (let i: number = 0; i < this.sectionProperties.weight; i++)\n\t\t\t\tthis.context.strokeRect(x + -0.5 - i, -0.5 - i, this.size[0] + i * 2, this.size[1] + i * 2);\n\n\t\t\tif (window.prefs.getBoolean('darkTheme')) {\n\t\t\t\tthis.context.strokeStyle = 'white';\n\t\t\t\tconst diff = 1;\n\t\t\t\tthis.context.strokeRect(x + -0.5 + diff, -0.5 + diff, this.size[0] - 2 * diff, this.size[1] - 2 * diff);\n\t\t\t\tthis.context.strokeRect(x + -0.5 + diff, -0.5 + diff, this.size[0] - 2 * diff, this.size[1] - 2 * diff);\n\t\t\t}\n\t\t}\n\t}\n}\n\napp.definitions.cellCursorSection = CellCursorSection;\n"]}