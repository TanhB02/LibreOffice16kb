{"version":3,"file":"CalcGridSection.js","sourceRoot":"","sources":["../../../../../../../../../../../TanhX/online/browser/src/canvas/sections/CalcGridSection.ts"],"names":[],"mappings":"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","sourcesContent":["// @ts-strict-ignore\n/* global Proxy _ */\n/*\n * Copyright the Collabora Online contributors.\n *\n * SPDX-License-Identifier: MPL-2.0\n *\n * This Source Code Form is subject to the terms of the Mozilla Public\n * License, v. 2.0. If a copy of the MPL was not distributed with this\n * file, You can obtain one at http://mozilla.org/MPL/2.0/.\n*/\n\nclass CalcGridSection extends app.definitions.canvasSectionObject {\n\tconstructor () {\n        super();\n\n        // Even if this one is drawn on top, won't be able to catch events.\n        // Sections with \"interactable: true\" can catch events even if they are under a section with property \"interactable: false\".\n        this.interactable = false;\n        this.name = L.CSections.CalcGrid.name,\n        this.anchor = ['top', 'left'];\n        this.processingOrder = L.CSections.CalcGrid.processingOrder, // Size and position will be copied (boundSection), this value is not important.\n        this.drawingOrder = L.CSections.CalcGrid.drawingOrder,\n        this.zIndex = L.CSections.CalcGrid.zIndex,\n        this.boundToSection = 'tiles';\n        this.sectionProperties = {\n            docLayer: app.map._docLayer,\n            strokeStyle: getComputedStyle(document.body).getPropertyValue('--color-calc-grid'),\n\t\t\ttsManager: null\n        };\n\t}\n\n\tpublic resetStrokeStyle() {\n\t\tthis.sectionProperties.strokeStyle = getComputedStyle(document.body).getPropertyValue('--color-calc-grid');\n\t}\n\n\t// repaintArea, paneTopLeft, canvasCtx\n\tonDrawArea(area?: Bounds, paneTopLeft?: any): void {\n\t\tif (!this.sectionProperties.docLayer.sheetGeometry)\n\t\t\treturn;\n\n\t\tvar tsManager = this.sectionProperties.tsManager;\n\t\tthis.context.strokeStyle = this.sectionProperties.strokeStyle;\n\t\tthis.context.lineWidth = 1.0;\n\t\tvar scale = 1.0;\n\t\tif (tsManager._inZoomAnim && tsManager._zoomFrameScale)\n\t\t\tscale = tsManager._zoomFrameScale;\n\n\t\tvar ctx = tsManager._paintContext();\n\t\tvar isRTL = this.sectionProperties.docLayer.isLayoutRTL();\n\t\tvar sectionWidth = this.size[0];\n\t\tvar xTransform = function (xcoord: any) {\n\t\t\treturn isRTL ? sectionWidth - xcoord : xcoord;\n\t\t}.bind(this);\n\n\t\t// This is called just before and after the dashed line drawing.\n\t\tvar startEndDash = function (ctx2D: CanvasRenderingContext2D, end: boolean) {\n\t\t\t// Style the dashed lines.\n\t\t\tvar dashLen = 5;\n\t\t\tvar gapLen = 5;\n\n\t\t\t// Restart the path to apply the dashed line style.\n\t\t\tctx2D.closePath();\n\t\t\tctx2D.beginPath();\n\t\t\tctx2D.setLineDash(end ? [] : [dashLen, gapLen]);\n\t\t}.bind(this);\n\n\t\tvar docLayer = this.sectionProperties.docLayer;\n\t\tvar currentPart = docLayer._selectedPart;\n\t\t// Draw the print range with dashed line if singleton to match desktop Calc.\n\t\tvar printRange: any = [];\n\t\tif (docLayer._printRanges && docLayer._printRanges.length > currentPart\n\t\t\t&& docLayer._printRanges[currentPart].length == 1)\n\t\t\tprintRange = docLayer._printRanges[currentPart][0];\n\n\t\tfor (var i = 0; i < ctx.paneBoundsList.length; ++i) {\n\t\t\t// co-ordinates of this pane in core document pixels\n\t\t\tvar paneBounds = ctx.paneBoundsList[i];\n\t\t\t// co-ordinates of the main-(bottom right) pane in core document pixels\n\t\t\tvar viewBounds = ctx.viewBounds;\n\t\t\t// into real pixel-land ...\n\t\t\tpaneBounds.round();\n\t\t\tviewBounds.round();\n\n\t\t\tvar paneOffset: any;\n\t\t\tvar doOnePane = false;\n\t\t\tif (!area || !paneTopLeft) {\n\t\t\t\tarea = paneBounds;\n\t\t\t\tpaneOffset = paneBounds.getTopLeft(); // allocates\n\t\t\t\t// Cute way to detect the in-canvas pixel offset of each pane\n\t\t\t\tpaneOffset.x = Math.min(paneOffset.x, viewBounds.min.x);\n\t\t\t\tpaneOffset.y = Math.min(paneOffset.y, viewBounds.min.y);\n\t\t\t} else {\n\t\t\t\t// do only for the predefined pane (paneOffset / repaintArea)\n\t\t\t\tdoOnePane = true;\n\t\t\t\tpaneOffset = paneTopLeft.clone();\n\t\t\t}\n\n\t\t\t// Vertical line rendering on large areas is ~10x as expensive\n\t\t\t// as horizontal line rendering: due to cache effects - so to\n\t\t\t// help our poor CPU renderers - render in horizontal strips.\n\t\t\tvar bandSize = 256;\n\t\t\tvar printRangeLine = false;\n\n\t\t\tvar drawPrintLine = function(ctx: CanvasRenderingContext2D,\n\t\t\t\t\t\t    x1: number, y1: number, x2: number, y2: number) {\n\t\t\t\tctx.moveTo(x1 + 0.5, y1 + 0.5);\n\t\t\t\tctx.lineTo(x2 - 0.5, y2 - 0.5);\n\t\t\t\tctx.stroke();\n\t\t\t};\n\t\t\tvar drawHairLine = function(ctx: CanvasRenderingContext2D,\n\t\t\t\t\t\t    x1: number, y1: number, x2: number, y2: number) {\n\t\t\t\t// https://bugzilla.mozilla.org/show_bug.cgi?id=1857185\n\t\t\t\tctx.fillRect(x1, y1, x2 - x1, y2 - y1);\n\t\t\t};\n\n\t\t\tthis.context.fillStyle = this.sectionProperties.strokeStyle;\n\t\t\tfor (var miny = area.min.y; miny < area.max.y; miny += bandSize)\n\t\t\t{\n\t\t\t\tvar maxy = Math.min(area.max.y, miny + bandSize);\n\n\t\t\t\tthis.context.beginPath();\n\n\t\t\t\t// vertical lines\n\t\t\t\tthis.sectionProperties.docLayer.sheetGeometry._columns.forEachInCorePixelRange(\n\t\t\t\t\tarea.min.x, area.max.x,\n\t\t\t\t\tfunction(pos: any, colIndex: any) {\n\t\t\t\t\t\tvar xcoord = xTransform(Math.floor(scale * (pos - paneOffset.x)));\n\n\t\t\t\t\t\tprintRangeLine = false;\n\t\t\t\t\t\tvar drawLine = drawHairLine;\n\t\t\t\t\t\tif (printRange.length === 4\n\t\t\t\t\t\t\t&& (printRange[0] === colIndex || printRange[2] + 1 === colIndex)) {\n\t\t\t\t\t\t\tprintRangeLine = true;\n\t\t\t\t\t\t\tstartEndDash(this.context, false /* end? */);\n\t\t\t\t\t\t\tdrawLine = drawPrintLine;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tdrawLine(this.context,\n\t\t\t\t\t\t\t xcoord - 1, Math.floor(scale * (miny - paneOffset.y)) - 1,\n\t\t\t\t\t\t\t xcoord, Math.floor(scale * (maxy - paneOffset.y)));\n\n\t\t\t\t\t\tif (printRangeLine)\n\t\t\t\t\t\t\tstartEndDash(this.context, true /* end? */);\n\t\t\t\t\t}.bind(this));\n\n\t\t\t\t// horizontal lines\n\t\t\t\tthis.sectionProperties.docLayer.sheetGeometry._rows.forEachInCorePixelRange(\n\t\t\t\t\tminy, maxy,\n\t\t\t\t\tfunction(pos: any, rowIndex: any) {\n\n\t\t\t\t\t\tprintRangeLine = false;\n\t\t\t\t\t\tvar drawLine = drawHairLine;\n\t\t\t\t\t\tif (printRange.length === 4\n\t\t\t\t\t\t\t&& (printRange[1] === rowIndex || printRange[3] + 1 === rowIndex)) {\n\t\t\t\t\t\t\tprintRangeLine = true;\n\t\t\t\t\t\t\tstartEndDash(this.context, false /* end? */);\n\t\t\t\t\t\t\tdrawLine = drawPrintLine;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tdrawLine(this.context,\n\t\t\t\t\t\t\t xTransform(Math.floor(scale * (area.min.x - paneOffset.x))) - 1,\n\t\t\t\t\t\t\t Math.floor(scale * (pos - paneOffset.y)) - 1,\n\t\t\t\t\t\t\t xTransform(Math.floor(scale * (area.max.x - paneOffset.x))),\n\t\t\t\t\t\t\t Math.floor(scale * (pos - paneOffset.y)));\n\n\t\t\t\t\t\tif (printRangeLine)\n\t\t\t\t\t\t\tstartEndDash(this.context, true /* end? */);\n\t\t\t\t\t}.bind(this));\n\n\t\t\t\tthis.context.closePath();\n\t\t\t}\n\n\t\t\tif (doOnePane)\n\t\t\t\tbreak;\n\t\t}\n\t}\n\n    onDraw(frameCount?: number, elapsedTime?: number): void {\n\t\tif (this.containerObject.isInZoomAnimation() || this.sectionProperties.tsManager.waitForTiles())\n\t\t\treturn;\n\n\t\t// We don't show the sheet grid, so we don't draw it.\n\t\tif (!this.sectionProperties.docLayer._sheetGrid)\n\t\t\treturn;\n\n\t\t// grid-section's onDrawArea is TileSectionManager's _drawGridSectionArea().\n\t\tthis.onDrawArea();\n    }\n}\n\napp.definitions.calcGridSection = CalcGridSection;\n"]}