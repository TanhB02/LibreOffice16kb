{"version":3,"file":"SimpleDissolveTransition.js","sourceRoot":"","sources":["../../../../../../../../../../../TanhX/online/browser/src/slideshow/transition/SimpleDissolveTransition.ts"],"names":[],"mappings":"AAAA,gCAAgC;;;;;;;;;;;;;;;;AAchC;IAAuC,4CAAkB;IACxD,kCAAY,oBAA0C;eACrD,kBAAM,oBAAoB,CAAC;IAC5B,CAAC;IAES,kDAAe,GAAzB;QACC,IAAM,UAAU,GAAG,EAAE,CAAC;QACtB,IAAM,QAAQ,GAAG,GAAG,GAAG,UAAU,CAAC;QAClC,OAAO,2TASqB,QAAQ,UAAK,QAAQ,sOAUhD,CAAC;IACH,CAAC;IACF,+BAAC;AAAD,CAAC,AA7BD,CAAuC,kBAAkB,GA6BxD;AACD,SAAS,CAAC,wBAAwB,GAAG,wBAAwB,CAAC","sourcesContent":["/* -*- js-indent-level: 8 -*- */\n\n/*\n * Copyright the Collabora Online contributors.\n *\n * SPDX-License-Identifier: MPL-2.0\n *\n * This Source Code Form is subject to the terms of the Mozilla Public\n * License, v. 2.0. If a copy of the MPL was not distributed with this\n * file, You can obtain one at http://mozilla.org/MPL/2.0/.\n */\n\ndeclare var SlideShow: any;\n\nclass SimpleDissolveTransition extends ClippingTransition {\n\tconstructor(transitionParameters: TransitionParameters) {\n\t\tsuper(transitionParameters);\n\t}\n\n\tprotected getMaskFunction(): string {\n\t\tconst numSquares = 16;\n\t\tconst edgeSize = 1.0 / numSquares;\n\t\treturn `\n\t\t\t\t// generate a pseudo-random value based on coordinates\n\t\t\t\tfloat random(vec2 co) {\n\t\t\t\t\treturn fract(sin(dot(co.xy, vec2(12.9898, 78.233))) * 43758.5453);\n\t\t\t\t}\n\n\t\t\t\tfloat getMaskValue(vec2 uv, float time) {\n\t\t\t\t\tfloat progress = time;\n\n\t\t\t\t\tvec2 squareSize = vec2(${edgeSize}, ${edgeSize});\n\n\t\t\t\t\tvec2 checkerCoord = floor(uv / squareSize);\n\n\t\t\t\t\tfloat randValue = random(checkerCoord);\n\n\t\t\t\t\tbool showEntering = progress > randValue;\n\n\t\t\t\t\treturn float(showEntering);\n\t\t\t\t}\n\t\t`;\n\t}\n}\nSlideShow.SimpleDissolveTransition = SimpleDissolveTransition;\n"]}