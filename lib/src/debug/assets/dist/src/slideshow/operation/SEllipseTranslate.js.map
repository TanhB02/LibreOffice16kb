{"version":3,"file":"SEllipseTranslate.js","sourceRoot":"","sources":["../../../../../../../../../../../TanhX/online/browser/src/slideshow/operation/SEllipseTranslate.ts"],"names":[],"mappings":"AAAA,gCAAgC;;;;;;;;;;;;;;;;AAe1B,IAAA,IAAI,GAAW,QAAQ,KAAnB,EAAE,IAAI,GAAK,QAAQ,KAAb,CAAc;AAE9B;IAAgC,qCAAS;IASxC,2BACC,MAAc,EACd,OAAe,EACf,cAAsB,EACtB,YAAoB,EACpB,MAAe,EACf,EAAU,EACV,EAAU;QAPX,YASC,iBAAO,SAQP;QAzBO,WAAK,GAAW,GAAG,CAAC;QACpB,YAAM,GAAW,GAAG,CAAC;QACrB,mBAAa,GAAW,GAAG,CAAC;QAC5B,iBAAW,GAAW,GAAG,CAAC;QAC1B,mBAAa,GAAY,KAAK,CAAC;QAC/B,UAAI,GAAW,GAAG,CAAC;QACnB,UAAI,GAAW,GAAG,CAAC;QAY1B,KAAI,CAAC,KAAK,GAAG,MAAM,CAAC;QACpB,KAAI,CAAC,MAAM,GAAG,OAAO,CAAC;QACtB,KAAI,CAAC,aAAa,GAAG,cAAc,CAAC;QACpC,KAAI,CAAC,WAAW,GAAG,YAAY,CAAC;QAChC,KAAI,CAAC,aAAa,GAAG,MAAM,CAAC;QAC5B,KAAI,CAAC,IAAI,GAAG,EAAE,CAAC;QACf,KAAI,CAAC,IAAI,GAAG,EAAE,CAAC;;IAChB,CAAC;IAEM,uCAAW,GAAlB,UACC,MAAY,EACZ,CAAS,EACT,eAAuB,EACvB,gBAAwB;QAExB,IAAI,CAAC,IAAI,IAAI,CAAC,IAAI;YAAE,OAAO,MAAM,CAAC;QAClC,IAAI,CAAC,IAAI,CAAC,aAAa,IAAI,CAAC,GAAG,IAAI,CAAC,IAAI;YAAE,CAAC,GAAG,IAAI,CAAC,IAAI,CAAC;QACxD,CAAC,GAAG,SAAS,CAAC,aAAa,CAAC,CAAC,EAAE,IAAI,CAAC,IAAI,EAAE,IAAI,CAAC,IAAI,CAAC,CAAC;QAErD,oDAAoD;QACpD,IAAM,EAAE,GAAG,IAAI,CAAC,aAAa,GAAG,CAAC,GAAG,IAAI,CAAC,EAAE,CAAC;QAC5C,IAAM,EAAE,GACP,CAAC,IAAI,CAAC,aAAa,GAAG,CAAC,GAAG,CAAC,IAAI,CAAC,WAAW,GAAG,IAAI,CAAC,aAAa,CAAC,CAAC;YAClE,CAAC;YACD,IAAI,CAAC,EAAE,CAAC;QACT,IAAM,CAAC,GAAG,CAAC,IAAI,CAAC,KAAK,GAAG,CAAC,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC;QAC3D,IAAM,CAAC,GAAG,CAAC,IAAI,CAAC,MAAM,GAAG,CAAC,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC;QAE5D,IAAI,CAAC,SAAS,CAAC,MAAM,EAAE,MAAM,EAAE,IAAI,CAAC,UAAU,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC;QACzD,OAAO,MAAM,CAAC;IACf,CAAC;IACF,wBAAC;AAAD,CAAC,AAlDD,CAAgC,SAAS,GAkDxC;AAED,SAAS,qBAAqB,CAC7B,MAAc,EACd,OAAe,EACf,cAAsB,EACtB,YAAoB,EACpB,MAAe,EACf,EAAU,EACV,EAAU;IAEV,OAAO,IAAI,iBAAiB,CAC3B,MAAM,EACN,OAAO,EACP,cAAc,EACd,YAAY,EACZ,MAAM,EACN,EAAE,EACF,EAAE,CACF,CAAC;AACH,CAAC;AAED,SAAS,CAAC,qBAAqB,GAAG,qBAAqB,CAAC","sourcesContent":["/* -*- js-indent-level: 8 -*- */\n\n/*\n * Copyright the Collabora Online contributors.\n *\n * SPDX-License-Identifier: MPL-2.0\n *\n * This Source Code Form is subject to the terms of the Mozilla Public\n * License, v. 2.0. If a copy of the MPL was not distributed with this\n * file, You can obtain one at http://mozilla.org/MPL/2.0/.\n */\n\ndeclare var glMatrix: any;\ndeclare var SlideShow: any;\n\nvar { vec3, mat4 } = glMatrix;\n\nclass SEllipseTranslate extends Operation {\n\tprivate width: number = 0.0;\n\tprivate height: number = 0.0;\n\tprivate startPosition: number = 0.0;\n\tprivate endPosition: number = 0.0;\n\tprivate mbInterpolate: boolean = false;\n\tprivate mnT0: number = 0.0;\n\tprivate mnT1: number = 0.0;\n\n\tconstructor(\n\t\tdWidth: number,\n\t\tdHeight: number,\n\t\tdStartPosition: number,\n\t\tdEndPosition: number,\n\t\tbInter: boolean,\n\t\tT0: number,\n\t\tT1: number,\n\t) {\n\t\tsuper();\n\t\tthis.width = dWidth;\n\t\tthis.height = dHeight;\n\t\tthis.startPosition = dStartPosition;\n\t\tthis.endPosition = dEndPosition;\n\t\tthis.mbInterpolate = bInter;\n\t\tthis.mnT0 = T0;\n\t\tthis.mnT1 = T1;\n\t}\n\n\tpublic interpolate(\n\t\tmatrix: mat4,\n\t\tt: number,\n\t\tSlideWidthScale: number,\n\t\tSlideHeightScale: number,\n\t): mat4 {\n\t\tif (t <= this.mnT0) return matrix;\n\t\tif (!this.mbInterpolate || t > this.mnT1) t = this.mnT1;\n\t\tt = OpsHelper.intervalInter(t, this.mnT0, this.mnT1);\n\n\t\t// let a1:number ,a2: number ,x :number, y: number ;\n\t\tconst a1 = this.startPosition * 2 * Math.PI;\n\t\tconst a2 =\n\t\t\t(this.startPosition + t * (this.endPosition - this.startPosition)) *\n\t\t\t2 *\n\t\t\tMath.PI;\n\t\tconst x = (this.width * (Math.cos(a2) - Math.cos(a1))) / 2;\n\t\tconst y = (this.height * (Math.sin(a2) - Math.sin(a1))) / 2;\n\n\t\tmat4.translate(matrix, matrix, vec3.fromValues(x, 0, y));\n\t\treturn matrix;\n\t}\n}\n\nfunction makeSEllipseTranslate(\n\tdWidth: number,\n\tdHeight: number,\n\tdStartPosition: number,\n\tdEndPosition: number,\n\tbInter: boolean,\n\tT0: number,\n\tT1: number,\n) {\n\treturn new SEllipseTranslate(\n\t\tdWidth,\n\t\tdHeight,\n\t\tdStartPosition,\n\t\tdEndPosition,\n\t\tbInter,\n\t\tT0,\n\t\tT1,\n\t);\n}\n\nSlideShow.makeSEllipseTranslate = makeSEllipseTranslate;\n"]}