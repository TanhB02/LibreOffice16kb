{"version":3,"file":"STranslate.js","sourceRoot":"","sources":["../../../../../../../../../../../TanhX/online/browser/src/slideshow/operation/STranslate.ts"],"names":[],"mappings":"AAAA,gCAAgC;;;;;;;;;;;;;;;;AAe1B,IAAA,IAAI,GAAW,QAAQ,KAAnB,EAAE,IAAI,GAAK,QAAQ,KAAb,CAAc;AAE9B;IAAyB,8BAAS;IAMjC,iCAAiC;IACjC,wBAAwB;IACxB,oBACC,MAAY,EACZ,aAAsB,EACtB,IAAY,EACZ,IAAY;QAJb,YAMC,iBAAO,SAKP;QAjBO,mBAAa,GAAY,KAAK,CAAC;QAC/B,UAAI,GAAW,GAAG,CAAC;QACnB,UAAI,GAAW,GAAG,CAAC;QAW1B,KAAI,CAAC,MAAM,GAAG,MAAM,CAAC;QACrB,KAAI,CAAC,aAAa,GAAG,aAAa,CAAC;QACnC,KAAI,CAAC,IAAI,GAAG,IAAI,CAAC;QACjB,KAAI,CAAC,IAAI,GAAG,IAAI,CAAC;;IAClB,CAAC;IAEM,gCAAW,GAAlB,UACC,MAAY,EACZ,CAAS,EACT,eAAuB,EACvB,gBAAwB;QAExB,IAAI,CAAC,IAAI,IAAI,CAAC,IAAI;YAAE,OAAO,MAAM,CAAC;QAClC,IAAI,CAAC,IAAI,CAAC,aAAa,IAAI,CAAC,GAAG,IAAI,CAAC,IAAI;YAAE,CAAC,GAAG,IAAI,CAAC,IAAI,CAAC;QACxD,CAAC,GAAG,SAAS,CAAC,aAAa,CAAC,CAAC,EAAE,IAAI,CAAC,IAAI,EAAE,IAAI,CAAC,IAAI,CAAC,CAAC;QACrD,IAAI,CAAC,SAAS,CACb,MAAM,EACN,MAAM,EACN,IAAI,CAAC,UAAU,CACd,eAAe,GAAG,CAAC,GAAG,IAAI,CAAC,MAAM,CAAC,CAAC,CAAC,EACpC,gBAAgB,GAAG,CAAC,GAAG,IAAI,CAAC,MAAM,CAAC,CAAC,CAAC,EACrC,CAAC,GAAG,IAAI,CAAC,MAAM,CAAC,CAAC,CAAC,CAClB,CACD,CAAC;QACF,OAAO,MAAM,CAAC;IACf,CAAC;IAEF,iBAAC;AAAD,CAAC,AA1CD,CAAyB,SAAS,GA0CjC;AAED,SAAS,cAAc,CACtB,MAAY,EACZ,aAAsB,EACtB,IAAY,EACZ,IAAY;IAEZ,OAAO,IAAI,UAAU,CAAC,MAAM,EAAE,aAAa,EAAE,IAAI,EAAE,IAAI,CAAC,CAAC;AAC1D,CAAC;AAED,SAAS,CAAC,cAAc,GAAG,cAAc,CAAC","sourcesContent":["/* -*- js-indent-level: 8 -*- */\n\n/*\n * Copyright the Collabora Online contributors.\n *\n * SPDX-License-Identifier: MPL-2.0\n *\n * This Source Code Form is subject to the terms of the Mozilla Public\n * License, v. 2.0. If a copy of the MPL was not distributed with this\n * file, You can obtain one at http://mozilla.org/MPL/2.0/.\n */\n\ndeclare var glMatrix: any;\ndeclare var SlideShow: any;\n\nvar { vec3, mat4 } = glMatrix;\n\nclass STranslate extends Operation {\n\tprivate vector: vec3;\n\tprivate mbInterpolate: boolean = false;\n\tprivate mnT0: number = 0.0;\n\tprivate mnT1: number = 0.0;\n\n\t// TODO - remove code duplication\n\t/* jscpd:ignore-start */\n\tconstructor(\n\t\tvector: vec3,\n\t\tmbInterpolate: boolean,\n\t\tmnT0: number,\n\t\tmnT1: number,\n\t) {\n\t\tsuper();\n\t\tthis.vector = vector;\n\t\tthis.mbInterpolate = mbInterpolate;\n\t\tthis.mnT0 = mnT0;\n\t\tthis.mnT1 = mnT1;\n\t}\n\n\tpublic interpolate(\n\t\tmatrix: mat4,\n\t\tt: number,\n\t\tSlideWidthScale: number,\n\t\tSlideHeightScale: number,\n\t): mat4 {\n\t\tif (t <= this.mnT0) return matrix;\n\t\tif (!this.mbInterpolate || t > this.mnT1) t = this.mnT1;\n\t\tt = OpsHelper.intervalInter(t, this.mnT0, this.mnT1);\n\t\tmat4.translate(\n\t\t\tmatrix,\n\t\t\tmatrix,\n\t\t\tvec3.fromValues(\n\t\t\t\tSlideWidthScale * t * this.vector[0],\n\t\t\t\tSlideHeightScale * t * this.vector[1],\n\t\t\t\tt * this.vector[2],\n\t\t\t),\n\t\t);\n\t\treturn matrix;\n\t}\n\t/* jscpd:ignore-end */\n}\n\nfunction makeSTranslate(\n\tvector: vec3,\n\tmbInterpolate: boolean,\n\tmnT0: number,\n\tmnT1: number,\n) {\n\treturn new STranslate(vector, mbInterpolate, mnT0, mnT1);\n}\n\nSlideShow.makeSTranslate = makeSTranslate;\n"]}