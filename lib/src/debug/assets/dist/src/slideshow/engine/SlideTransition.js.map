{"version":3,"file":"SlideTransition.js","sourceRoot":"","sources":["../../../../../../../../../../../TanhX/online/browser/src/slideshow/engine/SlideTransition.ts"],"names":[],"mappings":"AAAA,oBAAoB;AACpB,0BAA0B;AAE1B;;;;;;;;GAQG;AAEH;IAMC,yBAAY,SAAoB;QAC/B,IAAI,CAAC,SAAS,GAAG,SAAS,CAAC;QAC3B,IAAI,CAAC,QAAQ;YACZ,IAAI,CAAC,OAAO,EAAE,KAAK,SAAS,IAAI,IAAI,CAAC,OAAO,EAAE,KAAK,cAAc,CAAC,OAAO,CAAC;QAC3E,IAAI,IAAI,CAAC,SAAS,CAAC,iBAAiB,KAAK,SAAS;YACjD,IAAI,CAAC,SAAS,CAAC,iBAAiB,GAAG,SAAS,CAAC;QAC9C,IAAI,CAAC,SAAS,GAAG,IAAI,QAAQ,CAAC,IAAI,CAAC,SAAS,CAAC,kBAAkB,GAAG,IAAI,CAAC,CAAC;QACxE,IAAI,CAAC,IAAI,CAAC,SAAS,CAAC,KAAK,EAAE,EAAE;YAC5B,IAAI,CAAC,SAAS,GAAG,IAAI,QAAQ,CAAC,IAAI,CAAC,CAAC,CAAC,kBAAkB;SACvD;QAED,gCAAgC;QAChC,IAAI,CAAC,cAAc,GAAG,IAAI,CAAC,WAAW,EAAE,CAAC,OAAO,EAAE;YACjD,CAAC,CAAC,IAAI,CAAC,WAAW,EAAE,CAAC,QAAQ,EAAE;gBAC9B,gBAAgB,CAAC,0BAA0B;YAC5C,CAAC,CAAC,gBAAgB,CAAC,0BAA0B,CAAC;QAC/C,IAAI,IAAI,CAAC,cAAc,GAAG,GAAG;YAAE,IAAI,CAAC,cAAc,GAAG,CAAC,CAAC;aAClD,IAAI,IAAI,CAAC,cAAc,GAAG,gBAAgB,CAAC,0BAA0B;YACzE,IAAI,CAAC,cAAc,GAAG,gBAAgB,CAAC,0BAA0B,CAAC;IACpE,CAAC;IAED,iCAAO,GAAP;QACC,OAAO,IAAI,CAAC,QAAQ,CAAC;IACtB,CAAC;IAED,+CAAqB,GAArB,UACC,oBAA0C;QAE1C,IAAI,CAAC,IAAI,CAAC,OAAO,EAAE;YAAE,OAAO,IAAI,CAAC;QACjC,OAAO,gBAAgB,CAAC,oBAAoB,EAAE,qBAAqB,CAAC,IAAI,CAAC,CAAC;IAC3E,CAAC;IAEM,iCAAO,GAAd;QACC,OAAO,yBAAyB,CAAC,IAAI,CAAC,SAAS,CAAC,cAAc,CAAC,CAAC;IACjE,CAAC;IAEM,oCAAU,GAAjB;QACC,OAAO,4BAA4B,CAAC,IAAI,CAAC,SAAS,CAAC,iBAAiB,CAAC,CAAC;IACvE,CAAC;IAEM,sCAAY,GAAnB;QACC,OAAO,IAAI,CAAC,SAAS,CAAC,mBAAmB,IAAI,SAAS,CAAC;IACxD,CAAC;IAEM,4CAAkB,GAAzB;QACC,OAAO,IAAI,CAAC,SAAS,CAAC,mBAAmB,CAAC;IAC3C,CAAC;IAEM,qCAAW,GAAlB;QACC,OAAO,IAAI,CAAC,SAAS,CAAC;IACvB,CAAC;IAEM,0CAAgB,GAAvB;QACC,OAAO,IAAI,CAAC,cAAc,CAAC;IAC5B,CAAC;IACF,sBAAC;AAAD,CAAC,AA7DD,IA6DC","sourcesContent":["// @ts-strict-ignore\n/* -*- tab-width: 4 -*- */\n\n/*\n * Copyright the Collabora Online contributors.\n *\n * SPDX-License-Identifier: MPL-2.0\n *\n * This Source Code Form is subject to the terms of the Mozilla Public\n * License, v. 2.0. If a copy of the MPL was not distributed with this\n * file, You can obtain one at http://mozilla.org/MPL/2.0/.\n */\n\nclass SlideTransition {\n\tslideInfo: SlideInfo;\n\taDuration: Duration;\n\tnMinFrameCount: number;\n\tbIsValid: boolean;\n\n\tconstructor(slideInfo: SlideInfo) {\n\t\tthis.slideInfo = slideInfo;\n\t\tthis.bIsValid =\n\t\t\tthis.getType() !== undefined && this.getType() !== TransitionType.INVALID;\n\t\tif (this.slideInfo.transitionSubtype === undefined)\n\t\t\tthis.slideInfo.transitionSubtype = 'Default';\n\t\tthis.aDuration = new Duration(this.slideInfo.transitionDuration + 'ms');\n\t\tif (!this.aDuration.isSet()) {\n\t\t\tthis.aDuration = new Duration(null); // duration == 0.0\n\t\t}\n\n\t\t// set up min frame count value;\n\t\tthis.nMinFrameCount = this.getDuration().isValue()\n\t\t\t? this.getDuration().getValue() *\n\t\t\t\tSlideShowHandler.MINIMUM_FRAMES_PER_SECONDS\n\t\t\t: SlideShowHandler.MINIMUM_FRAMES_PER_SECONDS;\n\t\tif (this.nMinFrameCount < 1.0) this.nMinFrameCount = 1;\n\t\telse if (this.nMinFrameCount > SlideShowHandler.MINIMUM_FRAMES_PER_SECONDS)\n\t\t\tthis.nMinFrameCount = SlideShowHandler.MINIMUM_FRAMES_PER_SECONDS;\n\t}\n\n\tisValid() {\n\t\treturn this.bIsValid;\n\t}\n\n\tcreateSlideTransition(\n\t\ttransitionParameters: TransitionParameters,\n\t): ISlideChangeBase {\n\t\tif (!this.isValid()) return null;\n\t\treturn createTransition(transitionParameters, /*isSlideTransition*/ true);\n\t}\n\n\tpublic getType() {\n\t\treturn stringToTransitionTypeMap[this.slideInfo.transitionType];\n\t}\n\n\tpublic getSubType() {\n\t\treturn stringToTransitionSubTypeMap[this.slideInfo.transitionSubtype];\n\t}\n\n\tpublic getFadeColor(): string {\n\t\treturn this.slideInfo.transitionFadeColor || '#000000';\n\t}\n\n\tpublic isDirectionForward() {\n\t\treturn this.slideInfo.transitionDirection;\n\t}\n\n\tpublic getDuration() {\n\t\treturn this.aDuration;\n\t}\n\n\tpublic getMinFrameCount(): number {\n\t\treturn this.nMinFrameCount;\n\t}\n}\n"]}