{"version":3,"file":"Timing.js","sourceRoot":"","sources":["../../../../../../../../../../../TanhX/online/browser/src/slideshow/engine/Timing.ts"],"names":[],"mappings":"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","sourcesContent":["// @ts-strict-ignore\n/* -*- tab-width: 4 -*- */\n\n/*\n * Copyright the Collabora Online contributors.\n *\n * SPDX-License-Identifier: MPL-2.0\n *\n * This Source Code Form is subject to the terms of the Mozilla Public\n * License, v. 2.0. If a copy of the MPL was not distributed with this\n * file, You can obtain one at http://mozilla.org/MPL/2.0/.\n */\n\nenum TimingType {\n\tUnknown,\n\tOffset,\n\tWallClock,\n\tIndefinite,\n\tEvent,\n\tSyncBase,\n\tMedia,\n}\n\nenum EventTrigger {\n\tUnknown,\n\tOnBegin, // on slide begin\n\tOnEnd, // on slide end\n\tBeginEvent,\n\tEndEvent,\n\tOnClick,\n\tOnDblClick,\n\tOnMouseEnter,\n\tOnMouseLeave,\n\tOnNext, // on next effect\n\tOnPrev, // on previous effect\n\tRepeat,\n}\n\nfunction getEventTriggerType(sEventTrigger: string): EventTrigger {\n\tif (sEventTrigger == 'BeginEvent') return EventTrigger.BeginEvent;\n\telse if (sEventTrigger == 'EndEvent') return EventTrigger.EndEvent;\n\telse if (sEventTrigger == 'OnNext') return EventTrigger.OnNext;\n\telse if (sEventTrigger == 'OnPrev') return EventTrigger.OnPrev;\n\telse if (sEventTrigger == 'OnClick') return EventTrigger.OnClick;\n\telse return EventTrigger.Unknown;\n}\n\nclass Timing {\n\tprivate eTimingType = TimingType.Unknown;\n\tprivate aAnimationNode: BaseNode;\n\tprivate sTimingDescription: string;\n\tprivate nOffset = 0.0;\n\tprivate sEventBaseElementId = '';\n\tprivate eEventType: EventTrigger = EventTrigger.Unknown;\n\n\tprivate static CHARCODE_PLUS = '+'.charCodeAt(0);\n\tprivate static CHARCODE_MINUS = '-'.charCodeAt(0);\n\tprivate static CHARCODE_0 = '0'.charCodeAt(0);\n\tprivate static CHARCODE_9 = '9'.charCodeAt(0);\n\n\tconstructor(aAnimationNode: BaseNode, sTimingAttribute: string) {\n\t\tthis.aAnimationNode = aAnimationNode; // the node, the timing attribute belongs to\n\t\tthis.sTimingDescription = removeWhiteSpaces(sTimingAttribute);\n\n\t\tthis.nOffset = 0.0; // in seconds\n\t\tthis.sEventBaseElementId = ''; // the element id for event based timing\n\t}\n\n\tgetAnimationNode() {\n\t\treturn this.aAnimationNode;\n\t}\n\n\tgetType() {\n\t\treturn this.eTimingType;\n\t}\n\n\tgetOffset() {\n\t\treturn this.nOffset;\n\t}\n\n\tgetEventBaseElementId() {\n\t\treturn this.sEventBaseElementId;\n\t}\n\n\tgetEventType() {\n\t\treturn this.eEventType;\n\t}\n\n\tparse() {\n\t\tif (!this.sTimingDescription) {\n\t\t\tthis.eTimingType = TimingType.Offset;\n\t\t\treturn;\n\t\t}\n\n\t\tif (this.sTimingDescription == 'indefinite')\n\t\t\tthis.eTimingType = TimingType.Indefinite;\n\t\telse {\n\t\t\tconst nFirstCharCode = this.sTimingDescription.charCodeAt(0);\n\t\t\tlet bPositiveOffset = !(nFirstCharCode == Timing.CHARCODE_MINUS);\n\t\t\tif (\n\t\t\t\tnFirstCharCode == Timing.CHARCODE_PLUS ||\n\t\t\t\tnFirstCharCode == Timing.CHARCODE_MINUS ||\n\t\t\t\t(nFirstCharCode >= Timing.CHARCODE_0 &&\n\t\t\t\t\tnFirstCharCode <= Timing.CHARCODE_9)\n\t\t\t) {\n\t\t\t\tconst sClockValue =\n\t\t\t\t\tnFirstCharCode == Timing.CHARCODE_PLUS ||\n\t\t\t\t\tnFirstCharCode == Timing.CHARCODE_MINUS\n\t\t\t\t\t\t? this.sTimingDescription.substring(1)\n\t\t\t\t\t\t: this.sTimingDescription;\n\n\t\t\t\tconst TimeInSec = Timing.parseClockValue(sClockValue);\n\t\t\t\tif (TimeInSec != undefined) {\n\t\t\t\t\tthis.eTimingType = TimingType.Offset;\n\t\t\t\t\tthis.nOffset = bPositiveOffset ? TimeInSec : -TimeInSec;\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tlet aTimingSplit = [];\n\t\t\t\tbPositiveOffset = true;\n\t\t\t\tif (this.sTimingDescription.indexOf('+') != -1) {\n\t\t\t\t\taTimingSplit = this.sTimingDescription.split('+');\n\t\t\t\t} else if (this.sTimingDescription.indexOf('-') != -1) {\n\t\t\t\t\taTimingSplit = this.sTimingDescription.split('-');\n\t\t\t\t\tbPositiveOffset = false;\n\t\t\t\t} else {\n\t\t\t\t\taTimingSplit[0] = this.sTimingDescription;\n\t\t\t\t\taTimingSplit[1] = '';\n\t\t\t\t}\n\n\t\t\t\tif (aTimingSplit[0].indexOf('.') != -1) {\n\t\t\t\t\tconst aEventSplit = aTimingSplit[0].split('.');\n\t\t\t\t\tthis.sEventBaseElementId = aEventSplit[0];\n\t\t\t\t\tthis.eEventType = getEventTriggerType(aEventSplit[1]);\n\t\t\t\t} else {\n\t\t\t\t\tthis.eEventType = getEventTriggerType(aTimingSplit[0]);\n\t\t\t\t}\n\n\t\t\t\tif (this.eEventType == EventTrigger.Unknown) return;\n\n\t\t\t\tif (\n\t\t\t\t\tthis.eEventType == EventTrigger.BeginEvent ||\n\t\t\t\t\tthis.eEventType == EventTrigger.EndEvent\n\t\t\t\t) {\n\t\t\t\t\tthis.eTimingType = TimingType.SyncBase;\n\t\t\t\t} else {\n\t\t\t\t\tthis.eTimingType = TimingType.Event;\n\t\t\t\t}\n\n\t\t\t\tif (aTimingSplit[1]) {\n\t\t\t\t\tconst sClockValue = aTimingSplit[1];\n\t\t\t\t\tconst TimeInSec = Timing.parseClockValue(sClockValue);\n\t\t\t\t\tif (TimeInSec != undefined) {\n\t\t\t\t\t\tthis.nOffset = bPositiveOffset ? TimeInSec : -TimeInSec;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tthis.eTimingType = TimingType.Unknown;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\tpublic static parseClockValue(sClockValue: string) {\n\t\tif (!sClockValue) return 0.0;\n\n\t\tlet nTimeInSec = undefined;\n\n\t\tconst reFullClockValue = /^([0-9]+):([0-5][0-9]):([0-5][0-9])(.[0-9]+)?$/;\n\t\tconst rePartialClockValue = /^([0-5][0-9]):([0-5][0-9])(.[0-9]+)?$/;\n\t\tconst reTimeCountValue = /^([0-9]+)(.[0-9]+)?(h|min|s|ms)?$/;\n\n\t\tif (reFullClockValue.test(sClockValue)) {\n\t\t\tconst aClockTimeParts = reFullClockValue.exec(sClockValue);\n\n\t\t\tconst nHours = parseInt(aClockTimeParts[1]);\n\t\t\tconst nMinutes = parseInt(aClockTimeParts[2]);\n\t\t\tlet nSeconds = parseInt(aClockTimeParts[3]);\n\t\t\tif (aClockTimeParts[4]) nSeconds += parseFloat(aClockTimeParts[4]);\n\n\t\t\tnTimeInSec = (nHours * 60 + nMinutes) * 60 + nSeconds;\n\t\t} else if (rePartialClockValue.test(sClockValue)) {\n\t\t\tconst aClockTimeParts = rePartialClockValue.exec(sClockValue);\n\n\t\t\tconst nMinutes = parseInt(aClockTimeParts[1]);\n\t\t\tlet nSeconds = parseInt(aClockTimeParts[2]);\n\t\t\tif (aClockTimeParts[3]) nSeconds += parseFloat(aClockTimeParts[3]);\n\n\t\t\tnTimeInSec = nMinutes * 60 + nSeconds;\n\t\t} else if (reTimeCountValue.test(sClockValue)) {\n\t\t\tconst aClockTimeParts = reTimeCountValue.exec(sClockValue);\n\n\t\t\tlet nTimeCount = parseInt(aClockTimeParts[1]);\n\t\t\tif (aClockTimeParts[2]) nTimeCount += parseFloat(aClockTimeParts[2]);\n\n\t\t\tif (aClockTimeParts[3]) {\n\t\t\t\tif (aClockTimeParts[3] == 'h') {\n\t\t\t\t\tnTimeInSec = nTimeCount * 3600;\n\t\t\t\t} else if (aClockTimeParts[3] == 'min') {\n\t\t\t\t\tnTimeInSec = nTimeCount * 60;\n\t\t\t\t} else if (aClockTimeParts[3] == 's') {\n\t\t\t\t\tnTimeInSec = nTimeCount;\n\t\t\t\t} else if (aClockTimeParts[3] == 'ms') {\n\t\t\t\t\tnTimeInSec = nTimeCount / 1000;\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tnTimeInSec = nTimeCount;\n\t\t\t}\n\t\t}\n\n\t\tif (nTimeInSec) nTimeInSec = parseFloat(nTimeInSec.toFixed(3));\n\t\treturn nTimeInSec;\n\t}\n\n\tinfo(bVerbose: boolean = false) {\n\t\tlet sInfo = '';\n\n\t\tif (bVerbose) {\n\t\t\tsInfo = 'description: ' + this.sTimingDescription + ', ';\n\n\t\t\tsInfo += ', type: ' + TimingType[this.getType()];\n\t\t\tsInfo += ', offset: ' + this.getOffset();\n\t\t\tsInfo += ', event base element id: ' + this.getEventBaseElementId();\n\t\t\tsInfo += ', timing event type: ' + EventTrigger[this.getEventType()];\n\t\t} else {\n\t\t\tswitch (this.getType()) {\n\t\t\t\tcase TimingType.Indefinite:\n\t\t\t\t\tsInfo += 'indefinite';\n\t\t\t\t\tbreak;\n\t\t\t\tcase TimingType.Offset:\n\t\t\t\t\tsInfo += this.getOffset();\n\t\t\t\t\tbreak;\n\t\t\t\tcase TimingType.Event:\n\t\t\t\tcase TimingType.SyncBase:\n\t\t\t\t\tif (this.getEventBaseElementId())\n\t\t\t\t\t\tsInfo += this.getEventBaseElementId() + '.';\n\t\t\t\t\tsInfo += EventTrigger[this.getEventType()];\n\t\t\t\t\tif (this.getOffset()) {\n\t\t\t\t\t\tif (this.getOffset() > 0) sInfo += '+';\n\t\t\t\t\t\tsInfo += this.getOffset();\n\t\t\t\t\t}\n\t\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t\treturn sInfo;\n\t}\n}\n"]}