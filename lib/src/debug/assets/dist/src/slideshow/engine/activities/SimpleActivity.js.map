{"version":3,"file":"SimpleActivity.js","sourceRoot":"","sources":["../../../../../../../../../../../../TanhX/online/browser/src/slideshow/engine/activities/SimpleActivity.ts"],"names":[],"mappings":"AAAA,oBAAoB;AACpB,gCAAgC;;;;;;;;;;;;;;;;AAEhC;;;;;;;;GAQG;AAEH,IAAK,aAGJ;AAHD,WAAK,aAAa;IACjB,yDAAQ,CAAA;IACR,uDAAO,CAAA;AACR,CAAC,EAHI,aAAa,KAAb,aAAa,QAGjB;AAED;IAA6B,kCAAsB;IAIlD,wBACC,eAAiC,EACjC,gBAA+B,EAC/B,UAAyB;QAH1B,YAKC,kBAAM,eAAe,CAAC,SAetB;QAbA,MAAM,CACL,UAAU,IAAI,aAAa,CAAC,QAAQ;YACnC,UAAU,IAAI,aAAa,CAAC,OAAO,EACpC,8DAA8D,CAC9D,CAAC;QAEF,MAAM,CACL,gBAAgB,EAChB,2DAA2D,CAC3D,CAAC;QAEF,KAAI,CAAC,UAAU,GAAG,gBAAgB,CAAC;QACnC,KAAI,CAAC,UAAU,GAAG,UAAU,IAAI,aAAa,CAAC,OAAO,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,GAAG,CAAC;;IACnE,CAAC;IAEM,uCAAc,GAArB;QACC,IAAI,IAAI,CAAC,UAAU,EAAE,IAAI,CAAC,IAAI,CAAC,UAAU;YAAE,OAAO;QAElD,OAAO,CAAC,KAAK,CAAC,uCAAuC,CAAC,CAAC;QACvD,iBAAM,cAAc,WAAE,CAAC;QAEvB,kBAAkB;QAClB,IAAI,CAAC,UAAU,CAAC,KAAK,CAAC,IAAI,CAAC,gBAAgB,EAAE,CAAC,CAAC;IAChD,CAAC;IAEM,qCAAY,GAAnB;QACC,IAAI,IAAI,CAAC,UAAU;YAAE,IAAI,CAAC,UAAU,CAAC,GAAG,EAAE,CAAC;IAC5C,CAAC;IAES,8CAAqB,GAA/B,UACC,aAAqB,EACrB,YAAqB;QAErB,2BAA2B;QAE3B,IAAI,IAAI,CAAC,UAAU,EAAE,IAAI,CAAC,IAAI,CAAC,UAAU;YAAE,OAAO;QAElD,IAAM,EAAE,GACP,GAAG,GAAG,IAAI,CAAC,UAAU,GAAG,aAAa,GAAG,CAAC,GAAG,GAAG,IAAI,CAAC,UAAU,GAAG,GAAG,CAAC,CAAC;QACvE,IAAI,CAAC,UAAU,CAAC,OAAO,CAAC,EAAE,EAAE,EAAE,KAAK,IAAI,CAAC,UAAU,CAAC,CAAC;IACrD,CAAC;IAEM,mCAAU,GAAjB;QACC,IAAI,IAAI,CAAC,UAAU,EAAE;YACpB,OAAO,CAAC,KAAK,CAAC,2BAA2B,CAAC,CAAC;YAC3C,IAAI,CAAC,UAAU,CAAC,OAAO,CAAC,IAAI,CAAC,UAAU,EAAE,SAAS,CAAC,IAAI,CAAC,CAAC;SACzD;IACF,CAAC;IACF,qBAAC;AAAD,CAAC,AA3DD,CAA6B,sBAAsB,GA2DlD","sourcesContent":["// @ts-strict-ignore\n/* -*- js-indent-level: 8 -*- */\n\n/*\n * Copyright the Collabora Online contributors.\n *\n * SPDX-License-Identifier: MPL-2.0\n *\n * This Source Code Form is subject to the terms of the Mozilla Public\n * License, v. 2.0. If a copy of the MPL was not distributed with this\n * file, You can obtain one at http://mozilla.org/MPL/2.0/.\n */\n\nenum DirectionType {\n\tBackward,\n\tForward,\n}\n\nclass SimpleActivity extends ContinuousActivityBase {\n\tprivate aAnimation: AnimationBase;\n\tprivate nDirection: number;\n\n\tconstructor(\n\t\taCommonParamSet: ActivityParamSet,\n\t\taNumberAnimation: AnimationBase,\n\t\teDirection: DirectionType,\n\t) {\n\t\tsuper(aCommonParamSet);\n\n\t\tassert(\n\t\t\teDirection == DirectionType.Backward ||\n\t\t\t\teDirection == DirectionType.Forward,\n\t\t\t'SimpleActivity constructor: animation direction is not valid',\n\t\t);\n\n\t\tassert(\n\t\t\taNumberAnimation,\n\t\t\t'SimpleActivity constructor: animation object is not valid',\n\t\t);\n\n\t\tthis.aAnimation = aNumberAnimation;\n\t\tthis.nDirection = eDirection == DirectionType.Forward ? 1.0 : 0.0;\n\t}\n\n\tpublic startAnimation() {\n\t\tif (this.isDisposed() || !this.aAnimation) return;\n\n\t\tANIMDBG.print('SimpleActivity.startAnimation invoked');\n\t\tsuper.startAnimation();\n\n\t\t// start animation\n\t\tthis.aAnimation.start(this.getTargetElement());\n\t}\n\n\tpublic endAnimation() {\n\t\tif (this.aAnimation) this.aAnimation.end();\n\t}\n\n\tprotected performContinuousHook(\n\t\tnModifiedTime: number,\n\t\tnRepeatCount?: number,\n\t) {\n\t\t// nRepeatCount is not used\n\n\t\tif (this.isDisposed() || !this.aAnimation) return;\n\n\t\tconst nT =\n\t\t\t1.0 - this.nDirection + nModifiedTime * (2.0 * this.nDirection - 1.0);\n\t\tthis.aAnimation.perform(nT, nT === this.nDirection);\n\t}\n\n\tpublic performEnd() {\n\t\tif (this.aAnimation) {\n\t\t\tconsole.debug('SimpleActivity.performEnd');\n\t\t\tthis.aAnimation.perform(this.nDirection, /*last:*/ true);\n\t\t}\n\t}\n}\n"]}