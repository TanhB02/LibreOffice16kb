{"version":3,"file":"PresenterConsole.js","sourceRoot":"","sources":["../../../../../../../../../../TanhX/online/browser/src/slideshow/PresenterConsole.js"],"names":[],"mappings":"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","sourcesContent":["/* -*- js-indent-level: 8 -*- */\n\n/*\n * Copyright the Collabora Online contributors.\n *\n * SPDX-License-Identifier: MPL-2.0\n *\n * This Source Code Form is subject to the terms of the Mozilla Public\n * License, v. 2.0. If a copy of the MPL was not distributed with this\n * file, You can obtain one at http://mozilla.org/MPL/2.0/.\n */\n\n/*\n * PresenterConsole\n */\n\n/* global app SlideShow _ */\n\nclass PresenterConsole {\n\tconstructor(map, presenter) {\n\t\tthis._map = map;\n\t\tthis._presenter = presenter;\n\t\tthis._map.on('presentationinfo', this._onPresentationInfo, this);\n\t\tthis._map.on('newpresentinconsole', this._onPresentInConsole, this);\n\t}\n\n\t_generateHtml(title) {\n\t\tthis.labels = {\n\t\t\tcurrentSlide: _('Current Slide'),\n\t\t\tnextSlide: _('Next Slide'),\n\t\t\tprevious: _('Previous'),\n\t\t\tnext: _('Next'),\n\t\t\tnotes: _('Notes'),\n\t\t\tslides: _('Slides'),\n\t\t\tpause: _('Pause'),\n\t\t\trestart: _('Restart'),\n\t\t\tresume: _('Resume'),\n\t\t\tgoBack: _('Go Back'),\n\t\t\tzoomIn: _('Zoom In'),\n\t\t\tzoomOut: _('Zoom Out'),\n\t\t};\n\t\tlet sanitizer = document.createElement('div');\n\t\tsanitizer.innerText = title;\n\n\t\tlet sanitizedTitle = sanitizer.innerHTML;\n\t\treturn `\n\t\t\t<!DOCTYPE html>\n\t\t\t<html lang=\"en\">\n\t\t\t<head>\n\t\t\t\t<meta charset=\"UTF-8\">\n\t\t\t\t<meta name=\"viewport\" content=\"width=device-width, initial-scale=1\">\n\t\t\t\t<title>${sanitizedTitle}</title>\n\t\t\t</head>\n\t\t\t<body>\n                                <header>\n                                </header>\n                                <main id=\"main-content\">\n\t\t\t\t\t\t\t\t  <div id=\"toolbar\">\n\t\t\t\t\t\t\t\t\t<button type=\"button\" id=\"close-slides\" data-cooltip=\"${this.labels.goBack}\">\n\t\t\t\t\t\t\t\t\t\t<img src=\"images/presenterscreen-ArrowBack.svg\">\n\t\t\t\t\t\t\t\t\t</button>\n                                  </div>\n                                  <div id=\"presentation-content\">\n                                    <div id=\"first-presentation\">\n\t\t\t\t\t\t\t\t\t\t<div id=\"timer-container\">\n\t\t\t\t\t\t\t\t\t\t\t<div id=\"timer\"></div>\n\t\t\t\t\t\t\t\t\t\t\t <div id=\"timer-controls\">\n\t\t\t\t\t\t\t\t\t\t\t\t<button type=\"button\" id=\"pause\" data-cooltip=\"${this.labels.pause}\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t<img src=\"images/presenterscreen-ButtonPauseTimerNormal.svg\">\n\t\t\t\t\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t\t\t\t\t\t<button type=\"button\" id=\"restart\" data-cooltip=\"${this.labels.restart}\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t<img src=\"images/presenterscreen-ButtonRestartTimerNormal.svg\">\n\t\t\t\t\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t\t\t\t\t </div>\n\t\t\t\t\t\t\t\t\t\t\t<div id=\"today\"></div>\n\t\t\t\t\t\t\t\t\t\t</div>\n                                        <div id='current-slide-container'>\n                                            <canvas id=\"current-presentation\"></canvas>\n\t\t\t\t\t\t\t\t\t\t\t<div id=\"slideshow-control-container\">\n\t\t\t\t\t\t\t\t\t\t\t<div id=\"navigation-container\">\n\t\t\t\t\t\t\t\t\t\t\t\t<button type=\"button\" id=\"prev\" data-cooltip=\"${this.labels.previous}\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t<img src=\"images/presenterscreen-ButtonSlidePreviousSelected.svg\">\n\t\t\t\t\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t\t\t\t\t\t<div id=\"title-current\">${this.labels.currentSlide}</div>\n\t\t\t\t\t\t\t\t\t\t\t\t<button type=\"button\" id=\"next\" data-cooltip=\"${this.labels.next}\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t<img src=\"images/presenterscreen-ButtonEffectNextSelected.svg\">\n\t\t\t\t\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t<div id=\"action-buttons-container\">\n\t\t\t\t\t\t\t\t\t\t\t\t<button type=\"button\" id=\"notes\" data-cooltip=\"${this.labels.notes}\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t<img src=\"images/presenterscreen-ButtonNotesNormal.svg\">\n\t\t\t\t\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t\t\t\t\t\t<button type=\"button\" id=\"slides\" data-cooltip=\"${this.labels.slides}\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t<img src=\"images/presenterscreen-ButtonSlideSorterNormal.svg\">\n\t\t\t\t\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t</div>\n                                        </div>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t<div id=\"notes-separator\"></div>\n                                     <div id=\"second-presentation\">\n                                         <div id=\"title-next\">${this.labels.nextSlide}</div>\n                                         <div id='next-slide-container'>\n                                            <img id=\"next-presentation\"></img>\n                                         </div>\n                                    </div>\n                                  </div>\n                                </main>\n                                <footer>\n                                </footer>\n\t\t\t</body>\n\t\t\t</html>\n\t\t\t`;\n\t}\n\n\t_getSlidesCount() {\n\t\treturn this._presenter._getSlidesCount();\n\t}\n\n\t_getRepeatDuration() {\n\t\treturn this._presenter._getRepeatDuration();\n\t}\n\n\t_isSlideHidden(slideNumber) {\n\t\treturn this._presenter.isSlideHidden(slideNumber);\n\t}\n\n\t_getNextVisibleSlide(slideNumber) {\n\t\treturn this._presenter.getNextVisibleSlide(slideNumber);\n\t}\n\n\t_getVisibleIndex(slideNumber) {\n\t\treturn this._presenter.getVisibleIndex(slideNumber);\n\t}\n\n\t_onPresentationInfo() {\n\t\tif (!this._proxyPresenter) {\n\t\t\treturn;\n\t\t}\n\n\t\tthis._map.on('newslideshowframe', this._onNextFrame, this);\n\t\tthis._map.on('transitionstart', this._onTransitionStart, this);\n\t\tthis._map.on('transitionend', this._onTransitionEnd, this);\n\t\tthis._map.on('tilepreview', this._onTilePreview, this);\n\t\tthis._map.on('presentinwindowclose', this._onWindowClose, this);\n\n\t\t// safe check for current-presentation element\n\t\tconst currentPresentationCanvas =\n\t\t\tthis._proxyPresenter.document.querySelector('#current-presentation');\n\t\tif (!currentPresentationCanvas) return;\n\t\tthis._computeCanvas(currentPresentationCanvas);\n\n\t\tthis._timer = this._proxyPresenter.setInterval(\n\t\t\tL.bind(this._onTimer, this),\n\t\t\t1000,\n\t\t);\n\t\tthis._ticks = 0;\n\t\tthis._pause = false;\n\n\t\tthis._visibleSlidesCount = this._presenter.getVisibleSlidesCount();\n\t\tthis._previews = new Array(this._getSlidesCount());\n\n\t\tthis._disableButton(this._prevButton); // On start by default we should disable the prev button\n\n\t\tif (this._slides) {\n\t\t\tlet img;\n\t\t\tlet elem = this._slides.querySelector('#slides-preview');\n\t\t\tfor (let index = 0; index < this._getSlidesCount(); index++) {\n\t\t\t\tif (this._isSlideHidden(index)) continue;\n\t\t\t\timg = this._proxyPresenter.document.createElement('img');\n\t\t\t\timg.id = `preview-slide-${index}`;\n\t\t\t\timg.src = document.querySelector('meta[name=\"previewImg\"]').content;\n\t\t\t\timg.alt = _('Preview Slide {1}').replace('{1}', index + 1);\n\t\t\t\timg.style.marginLeft = '10px';\n\t\t\t\timg.style.marginRight = '10px';\n\t\t\t\timg.style.marginTop = '10px';\n\t\t\t\timg.style.marginBottom = '10px';\n\t\t\t\timg.style.border = '3px solid transparent';\n\t\t\t\timg.style.padding = '1px';\n\t\t\t\timg.style.borderRadius = '3px';\n\t\t\t\timg.width = 100;\n\t\t\t\timg.height = 100;\n\t\t\t\timg._index = index;\n\t\t\t\telem.append(img);\n\t\t\t}\n\t\t}\n\t}\n\n\t_onImpressModeChanged(e) {\n\t\tif (this._waitForExitingNotesMode && e.mode === 0) {\n\t\t\tthis._waitForExitingNotesMode = false;\n\t\t\tthis._map.off('impressmodechanged', this._onImpressModeChanged, this);\n\t\t\tsetTimeout(this._onPresentInConsole.bind(this), 500);\n\t\t}\n\t}\n\n\t_onPresentInConsole() {\n\t\tif (app.impress.notesMode) {\n\t\t\tconsole.debug(\n\t\t\t\t'PresenterConsole._onPresentInConsole: notes mode is enabled, exiting',\n\t\t\t);\n\t\t\t// exit notes view mode and wait for status update notification\n\t\t\t// so we're sure that impress mode is changed\n\t\t\t// finally skip next partsupdate event,\n\t\t\t// since it's only due to the mode change\n\t\t\tthis._presenter._skipNextSlideShowInfoChangedMsg = true;\n\t\t\tthis._waitForExitingNotesMode = true;\n\t\t\tthis._map.on('impressmodechanged', this._onImpressModeChanged, this);\n\t\t\tapp.map.sendUnoCommand('.uno:NormalMultiPaneGUI');\n\t\t\treturn;\n\t\t}\n\n\t\tthis._map.fire('newpresentinwindow');\n\t\tif (!this._presenter._slideShowWindowProxy) {\n\t\t\treturn;\n\t\t}\n\n\t\tthis._proxyPresenter = window.open(\n\t\t\t'',\n\t\t\t'_blank',\n\t\t\t'toolbar=0,scrollbars=0,location=0,statusbar=0,menubar=0,resizable=1,popup=true',\n\t\t);\n\t\tif (!this._proxyPresenter) {\n\t\t\tthis._presenter._notifyBlockedPresenting();\n\t\t\treturn;\n\t\t}\n\n\t\tthis._proxyPresenter.document.open();\n\t\tthis._proxyPresenter.document.write(\n\t\t\tthis._generateHtml(_('Presenter Console')),\n\t\t);\n\t\tthis._proxyPresenter.document.close();\n\n\t\tthis._currentSlideCanvas = this._proxyPresenter.document.querySelector(\n\t\t\t'#current-presentation',\n\t\t);\n\t\tthis._currentSlideContext =\n\t\t\tthis._currentSlideCanvas.getContext('bitmaprenderer');\n\n\t\tthis._proxyPresenter.addEventListener(\n\t\t\t'resize',\n\t\t\tL.bind(this._onResize, this),\n\t\t);\n\n\t\tif (this._presenter._slideShowWindowProxy) {\n\t\t\tthis._presenter._slideShowWindowProxy.addEventListener(\n\t\t\t\t'unload',\n\t\t\t\tL.bind(this._onWindowClose, this),\n\t\t\t);\n\t\t\twindow.addEventListener(\n\t\t\t\t'beforeunload',\n\t\t\t\tL.bind(this._onWindowClose, this),\n\t\t\t);\n\t\t}\n\t\tthis._proxyPresenter.addEventListener(\n\t\t\t'unload',\n\t\t\tL.bind(this._onConsoleClose, this),\n\t\t);\n\t\tthis._proxyPresenter.addEventListener(\n\t\t\t'keydown',\n\t\t\tL.bind(this._onKeyDown, this),\n\t\t);\n\n\t\t// Declare some basic elements that we will use often in next function calls\n\t\tthis._prevButton = this._proxyPresenter.document.querySelector('#prev');\n\t\tthis._nextButton = this._proxyPresenter.document.querySelector('#next');\n\n\t\tthis._proxyPresenter.document.body.style.margin = '0';\n\t\tthis._proxyPresenter.document.body.style.padding = '0';\n\t\tthis._proxyPresenter.document.body.style.overflowX = 'hidden';\n\n\t\tthis._proxyPresenter.document.body.style.display = 'flex';\n\t\tthis._proxyPresenter.document.body.style.flexDirection = 'column';\n\t\tthis._proxyPresenter.document.body.style.minHeight = '100vh';\n\t\tthis._proxyPresenter.document.body.style.minWidth = '100vw';\n\n\t\tlet elem;\n\t\tlet mainContentContainer =\n\t\t\tthis._proxyPresenter.document.querySelector('#main-content');\n\t\tlet slideShowBGColor = window\n\t\t\t.getComputedStyle(document.documentElement)\n\t\t\t.getPropertyValue('--color-background-slideshow');\n\t\tthis.slideShowColor = window\n\t\t\t.getComputedStyle(document.documentElement)\n\t\t\t.getPropertyValue('--color-slideshow');\n\t\tlet slideShowFontFamily = window\n\t\t\t.getComputedStyle(document.documentElement)\n\t\t\t.getPropertyValue('--cool-font');\n\t\tthis.slideSelectionColor = window\n\t\t\t.getComputedStyle(document.documentElement)\n\t\t\t.getPropertyValue('--orange1-txt-primary-color');\n\t\tthis.PresenterConsoleBtnHoverColor = window\n\t\t\t.getComputedStyle(document.documentElement)\n\t\t\t.getPropertyValue('--color-main-text');\n\t\tthis.PresenterConsoleBtnRadius = window\n\t\t\t.getComputedStyle(document.documentElement)\n\t\t\t.getPropertyValue('--border-radius');\n\n\t\tmainContentContainer.style.backgroundColor = slideShowBGColor;\n\t\tmainContentContainer.style.color = this.slideShowColor;\n\t\tmainContentContainer.style.fontFamily = slideShowFontFamily;\n\t\tmainContentContainer.style.display = 'flex';\n\t\tmainContentContainer.style.flexDirection = 'column';\n\t\tmainContentContainer.style.minWidth = '100vw';\n\t\tmainContentContainer.style.minHeight = '100vh';\n\n\t\t// Disable text selection\n\t\tmainContentContainer.style.userSelect = 'none'; //Firefox, Chrome etc.\n\n\t\tthis._proxyPresenter.document.body.style.backgroundColor = slideShowBGColor;\n\n\t\telem = this._proxyPresenter.document.querySelector('#presentation-content');\n\t\telem.style.display = 'flex';\n\t\telem.style.flexWrap = 'wrap';\n\t\telem.style.gap = '3vw';\n\t\telem.style.marginBottom = '10px';\n\n\t\tthis._first = elem = this._proxyPresenter.document.querySelector(\n\t\t\t'#first-presentation',\n\t\t);\n\t\telem.style.display = 'flex';\n\t\telem.style.flexDirection = 'column';\n\t\telem.style.flex = '1';\n\t\t// consistent gap between label and presentation preview\n\t\telem.style.gap = '1vh';\n\t\telem.style.marginTop = '4vh';\n\t\telem.style.marginLeft = '2vw';\n\n\t\t// Apply common button style to every button in Current slide division\n\t\tlet currentSlideActionButtons = this._first.querySelectorAll('button');\n\t\tcurrentSlideActionButtons.forEach((button) => {\n\t\t\tbutton.style.display = 'flex';\n\t\t\tbutton.style.flexDirection = 'column';\n\t\t\tbutton.style.alignItems = 'center';\n\t\t\tbutton.style.backgroundColor = 'transparent';\n\t\t\tbutton.style.color = this.slideShowColor;\n\t\t\tbutton.style.border = 'none';\n\t\t\tbutton.style.borderRadius = this.PresenterConsoleBtnRadius;\n\t\t});\n\n\t\telem = this._proxyPresenter.document.querySelector('#title-current');\n\t\telem.style.display = 'flex';\n\t\telem.style.flexDirection = 'column';\n\t\telem.style.justifyContent = 'center';\n\t\telem.style.alignItems = 'center';\n\t\telem.style.backgroundColor = 'transparent';\n\t\telem.style.color = this.slideShowColor;\n\t\telem.style.fontSize = '22px';\n\n\t\telem = this._proxyPresenter.document.querySelector(\n\t\t\t'#current-slide-container',\n\t\t);\n\t\t// this will handle the responsiveness on resize for current-presentation window\n\t\telem.style.width = '56vw';\n\t\telem.style.height = '67vh';\n\n\t\t// slideshow-control-container\n\t\tlet slideshowControlContainer = this._proxyPresenter.document.querySelector(\n\t\t\t'#slideshow-control-container',\n\t\t);\n\t\tslideshowControlContainer.style.display = 'flex';\n\t\tslideshowControlContainer.style.gap = '2vw';\n\t\tslideshowControlContainer.style.alignItems = 'center';\n\t\tslideshowControlContainer.style.marginTop = '1vh';\n\n\t\t// Select the parent container by its ID\n\t\tlet navigationContainer = this._proxyPresenter.document.getElementById(\n\t\t\t'navigation-container',\n\t\t);\n\n\t\t// Add the necessary styles to make elements appear in a row\n\t\tnavigationContainer.style.display = 'flex';\n\t\tnavigationContainer.style.width = 'max-content';\n\t\tnavigationContainer.style.alignItems = 'center';\n\t\tnavigationContainer.style.gap = '0.5vw'; // Adjust gap as needed\n\n\t\t// Select all button elements inside #navigation-container\n\t\tlet navigationButtons = this._proxyPresenter.document.querySelectorAll(\n\t\t\t'#navigation-container button',\n\t\t);\n\n\t\t// Apply additional style for navigation button\n\t\tnavigationButtons.forEach((button) => {\n\t\t\tbutton.style.border = 'none';\n\t\t\tbutton.style.justifyContent = 'center';\n\t\t});\n\n\t\t// slideshow-control-container\n\t\tlet actionBtnContainer = this._proxyPresenter.document.querySelector(\n\t\t\t'#action-buttons-container',\n\t\t);\n\t\tactionBtnContainer.style.display = 'flex';\n\t\tactionBtnContainer.style.gap = '1vw';\n\n\t\tthis._first.addEventListener('click', L.bind(this._onToolbarClick, this));\n\n\t\tlet notesSeparator =\n\t\t\tthis._proxyPresenter.document.querySelector('#notes-separator');\n\t\tnotesSeparator.style.backgroundColor = 'transparent';\n\t\tnotesSeparator.style.color = 'transparent';\n\t\tnotesSeparator.style.border = '1px solid';\n\t\tnotesSeparator.style.margin = '2vh 0vw';\n\t\tnotesSeparator.style.height = '85vh';\n\n\t\tthis._second = elem = this._proxyPresenter.document.querySelector(\n\t\t\t'#second-presentation',\n\t\t);\n\t\telem.style.display = 'flex';\n\t\telem.style.flexDirection = 'column';\n\t\telem.style.flex = '1';\n\t\t// consistent gap between label and presentation preview\n\t\telem.style.gap = '1vh';\n\t\telem.style.marginTop = '4vh';\n\n\t\telem = this._proxyPresenter.document.querySelector('#title-next');\n\t\telem.style.display = 'flex';\n\t\telem.style.flexDirection = 'column';\n\t\telem.style.backgroundColor = 'transparent';\n\t\telem.style.color = this.slideShowColor;\n\t\telem.style.height = '35px';\n\t\telem.style.fontSize = '22px';\n\t\telem.style.justifyContent = 'center';\n\n\t\tlet nextSlideContainer = this._proxyPresenter.document.querySelector(\n\t\t\t'#next-slide-container',\n\t\t);\n\t\tnextSlideContainer.style.width = '25vw';\n\t\tnextSlideContainer.style.height = '80vh';\n\t\tnextSlideContainer.style.display = 'flex';\n\t\tnextSlideContainer.style.flexDirection = 'column';\n\t\tnextSlideContainer.style.gap = '2vw';\n\n\t\telem = this._proxyPresenter.document.querySelector('#next-presentation');\n\t\telem.addEventListener('click', L.bind(this._onClickPreview, this));\n\n\t\tthis._notes = this._proxyPresenter.document.createElement('div');\n\t\tthis._notes.style.height = '45vh';\n\t\tthis._notes.style.width = '25vw';\n\t\tthis._notes.style.paddingTop = '10px';\n\t\tthis._notes.style.borderTop = '2px solid transparent';\n\t\tthis._notes.style.fontSize = '24px';\n\t\tthis._notes.style.overflowX = 'hidden';\n\n\t\telem = this._proxyPresenter.document.createElement('div');\n\t\telem.id = 'notes';\n\t\telem.style.height = '100%';\n\t\telem.style.width = '100%';\n\t\telem.style.userSelect = 'text'; // Enables text selection\n\n\t\tthis._notes.appendChild(elem);\n\n\t\t// Append the container div to the notes section\n\t\tnextSlideContainer.appendChild(this._createTextScalerContainer());\n\n\t\tthis._slides = this._proxyPresenter.document.createElement('div');\n\t\tthis._slides.style.height = '100%';\n\t\tthis._slides.style.width = '100%';\n\t\tthis._slides.style.display = 'flex';\n\t\tthis._slides.style.flexDirection = 'column';\n\t\tthis._slides.style.gap = '2vh';\n\n\t\telem = this._proxyPresenter.document.createElement('div');\n\t\telem.id = 'slides-preview';\n\t\telem.style.overflow = 'auto';\n\t\telem.style.height = '90vh';\n\t\telem.style.width = '100%';\n\t\telem.style.display = 'flex';\n\t\telem.style.flexWrap = 'wrap';\n\t\telem.style.justifyContent = 'center';\n\t\telem.style.columnGap = '5vw';\n\n\t\tthis._slides.appendChild(elem);\n\t\tthis._slides.addEventListener('click', L.bind(this._onClickSlides, this));\n\n\t\telem = this._proxyPresenter.document.querySelector('#toolbar');\n\t\telem.style.display = 'flex';\n\t\telem.style.alignItems = 'center';\n\t\telem.style.backgroundColor = slideShowBGColor;\n\t\telem.style.overflow = 'hidden';\n\t\telem.style.width = '100%';\n\t\telem.style.gap = '1vw';\n\t\telem.style.margin = '1vh 0vw';\n\t\telem.style.height = '6vh';\n\t\telem.addEventListener('click', L.bind(this._onToolbarClick, this));\n\n\t\tlet list =\n\t\t\tthis._proxyPresenter.document.querySelectorAll('#toolbar button');\n\t\tfor (elem = 0; elem < list.length; elem++) {\n\t\t\tlist[elem].style.display = 'flex';\n\t\t\tlist[elem].style.flexDirection = 'column';\n\t\t\tlist[elem].style.justifyContent = 'center';\n\t\t\tlist[elem].style.alignItems = 'center';\n\t\t\tlist[elem].style.backgroundColor = 'transparent';\n\t\t\tlist[elem].style.color = this.slideShowColor;\n\t\t\tlist[elem].style.padding = '10px';\n\t\t\tlist[elem].style.height = '6vh';\n\t\t\tlist[elem].style.border = 'none';\n\t\t}\n\n\t\t// By default we will hide the Back button to jump from Slides view to Normal view\n\t\tlet closeSlideButton =\n\t\t\tthis._proxyPresenter.document.querySelector('#close-slides');\n\t\tcloseSlideButton.style.display = 'none';\n\t\tcloseSlideButton.style.marginLeft = '10px';\n\n\t\telem = this._proxyPresenter.document.querySelector('#timer-container');\n\t\telem.style.display = 'flex';\n\t\telem.style.alignItems = 'center';\n\t\telem.style.gap = '15px';\n\n\t\telem = this._proxyPresenter.document.querySelector('#timer');\n\t\telem.style.fontSize = '22px';\n\t\telem.style.width = '85px';\n\t\telem.style.color = this.slideShowColor;\n\n\t\tlet timeControlElem =\n\t\t\tthis._proxyPresenter.document.querySelector('#timer-controls');\n\t\ttimeControlElem.style.display = 'flex';\n\t\ttimeControlElem.style.alignItems = 'center';\n\t\ttimeControlElem.style.gap = '5px';\n\n\t\ttimeControlElem.addEventListener(\n\t\t\t'click',\n\t\t\tL.bind(this._onToolbarClick, this),\n\t\t);\n\n\t\t// Style buttons in slideshow control container\n\t\tconst buttons = timeControlElem.querySelectorAll('button');\n\t\tbuttons.forEach(\n\t\t\tfunction (button) {\n\t\t\t\tbutton.style.display = 'flex';\n\t\t\t\tbutton.style.flexDirection = 'column';\n\t\t\t\tbutton.style.alignItems = 'center';\n\t\t\t\tbutton.style.justifyContent = 'center';\n\t\t\t\tbutton.style.backgroundColor = 'transparent';\n\t\t\t\tbutton.style.borderColor = 'none';\n\t\t\t}.bind(this),\n\t\t);\n\n\t\telem = this._proxyPresenter.document.querySelector('#today');\n\t\telem.style.textAlign = 'right';\n\t\telem.style.fontSize = '22px';\n\t\telem.style.marginLeft = 'auto';\n\t\telem.style.color = this.slideShowColor;\n\n\t\tthis._ticks = 0;\n\t\tthis._onTimer();\n\n\t\t// initialize tooltip division\n\t\tthis.tooltip = this._proxyPresenter.document.createElement('div');\n\t\tthis.tooltip.style.position = 'absolute';\n\t\tthis.tooltip.style.backgroundColor = '#262626';\n\t\tthis.tooltip.style.color = '#e8e8e8';\n\t\tthis.tooltip.style.padding = '7px 9px';\n\t\tthis.tooltip.style.borderRadius = '6px';\n\t\tthis.tooltip.style.fontSize = '14px';\n\t\tthis.tooltip.style.fontFamily = slideShowFontFamily;\n\t\tthis.tooltip.style.whiteSpace = 'nowrap';\n\t\tthis.tooltip.style.pointerEvents = 'none';\n\t\tthis.tooltip.style.zIndex = '2147483647';\n\t\tthis.tooltip.style.boxShadow = 'rgba(77, 77, 77, 0.5) 0px 0px 4px 0px';\n\t\tthis.tooltip.style.display = 'none'; // Initially hidden\n\n\t\tmainContentContainer.append(this.tooltip);\n\n\t\tthis._tooltip = L.control.tooltip({\n\t\t\twindow: this._proxyPresenter,\n\t\t\tcontainer: this.tooltip,\n\t\t});\n\n\t\tlet allPresenterConsoleButtons =\n\t\t\tthis._proxyPresenter.document.querySelectorAll('button');\n\t\tthis._attachTooltips(allPresenterConsoleButtons);\n\n\t\t// enable notes by default on start of present console\n\t\tthis._onShowNotes();\n\t\t// simulate resize to Firefox\n\t\tthis._onResize();\n\t}\n\n\t// Show the tooltip\n\t_showTooltip(button, text) {\n\t\t// Show the tooltip\n\t\tthis.tooltip.style.display = 'block';\n\n\t\t// Set the tooltip text\n\t\tthis.tooltip.textContent = text;\n\n\t\t// Get the button's position and tooltip dimensions\n\t\tconst rect = button.getBoundingClientRect();\n\t\tconst tooltipRect = this.tooltip.getBoundingClientRect();\n\n\t\t// Calculate initial position\n\t\tlet left = rect.left + this._proxyPresenter.scrollX;\n\t\tlet top = rect.bottom + this._proxyPresenter.scrollY + 5;\n\n\t\t// Adjust if tooltip goes off the right edge of the screen\n\t\tif (left + tooltipRect.width > this._proxyPresenter.innerWidth) {\n\t\t\tleft = this._proxyPresenter.innerWidth - tooltipRect.width - 10; // Add some padding\n\t\t}\n\n\t\t// Adjust if tooltip goes off the left edge of the screen\n\t\tif (left < 0) {\n\t\t\tleft = 10; // Add some padding\n\t\t}\n\n\t\t// Adjust if tooltip goes off the bottom edge of the screen\n\t\tif (top + tooltipRect.height > this._proxyPresenter.innerHeight) {\n\t\t\ttop = rect.top + this._proxyPresenter.scrollY - tooltipRect.height - 5; // Position above the button\n\t\t}\n\n\t\t// Adjust if tooltip goes off the top edge of the screen\n\t\tif (top < 0) {\n\t\t\ttop = rect.bottom + this._proxyPresenter.scrollY + 5; // Revert to below the button\n\t\t}\n\n\t\t// Apply the adjusted position\n\t\tthis.tooltip.style.left = `${left}px`;\n\t\tthis.tooltip.style.top = `${top}px`;\n\t}\n\n\t// Hide the tooltip\n\t_hideTooltip() {\n\t\tthis.tooltip.style.display = 'none';\n\t}\n\n\t// Attach tooltips to buttons\n\t_attachTooltips(buttons) {\n\t\tbuttons.forEach(\n\t\t\tfunction (button) {\n\t\t\t\tbutton.addEventListener(\n\t\t\t\t\t'mouseenter',\n\t\t\t\t\tfunction () {\n\t\t\t\t\t\t// Add hover effect for enabled button only\n\t\t\t\t\t\tif (!button.disable)\n\t\t\t\t\t\t\tbutton.style.backgroundColor = this.PresenterConsoleBtnHoverColor;\n\n\t\t\t\t\t\tbutton.style.borderRadius = this.PresenterConsoleBtnRadius;\n\t\t\t\t\t\tconst tooltipText = button.getAttribute('data-cooltip') || 'Button'; // Default text if no attribute\n\t\t\t\t\t\tthis._showTooltip(button, tooltipText);\n\t\t\t\t\t}.bind(this),\n\t\t\t\t);\n\n\t\t\t\tconst hideTooltip = this._hideTooltip.bind(this);\n\t\t\t\tbutton.addEventListener(\n\t\t\t\t\t'mouseleave',\n\t\t\t\t\tfunction () {\n\t\t\t\t\t\t// Remove hover effect\n\t\t\t\t\t\tif (!button.disable) button.style.backgroundColor = 'transparent';\n\n\t\t\t\t\t\t// Hide tooltip\n\t\t\t\t\t\tthis._hideTooltip();\n\t\t\t\t\t}.bind(this),\n\t\t\t\t);\n\t\t\t\t// for slides view change element on screen to show all the slides in that case tooltip should be hidden\n\t\t\t\tif (button.getAttribute('data-cooltip') === this.labels.slides)\n\t\t\t\t\tbutton.addEventListener('click', hideTooltip);\n\t\t\t}.bind(this),\n\t\t);\n\t}\n\n\t_adjustFontSize(increment) {\n\t\t// Define the font size bounds\n\t\tconst MIN_FONT_SIZE = 12;\n\t\tconst MAX_FONT_SIZE = 64;\n\n\t\tlet currentFontSize = parseInt(this._notes.style.fontSize);\n\t\tlet newFontSize = currentFontSize + increment;\n\t\tlet zoomInBtn = this._proxyPresenter.document.querySelector('#increase');\n\t\tlet zoomOutBtn = this._proxyPresenter.document.querySelector('#decrease');\n\n\t\t// Ensure the font size stays within bounds\n\t\tif (newFontSize >= MIN_FONT_SIZE && newFontSize <= MAX_FONT_SIZE) {\n\t\t\tthis._notes.style.fontSize = `${newFontSize}px`;\n\t\t\tthis._enableButton(zoomInBtn);\n\t\t\tthis._enableButton(zoomOutBtn);\n\t\t}\n\n\t\tif (newFontSize <= MIN_FONT_SIZE) {\n\t\t\tthis._disableButton(zoomOutBtn);\n\t\t} else if (newFontSize >= MAX_FONT_SIZE) {\n\t\t\tthis._disableButton(zoomInBtn);\n\t\t}\n\t}\n\n\t_createTextScalerContainer() {\n\t\t// Create the main container div\n\t\tlet fontChangeContainer =\n\t\t\tthis._proxyPresenter.document.createElement('div');\n\t\tfontChangeContainer.id = 'textScaler';\n\t\tfontChangeContainer.style.display = 'none';\n\n\t\t// Create the plus button\n\t\tlet plusButton = this._proxyPresenter.document.createElement('button');\n\t\tplusButton.id = 'increase';\n\t\tplusButton.setAttribute('data-cooltip', this.labels.zoomIn); // Set the tooltip text\n\n\t\t// Create the image for the plus button\n\t\tlet plusImage = this._proxyPresenter.document.createElement('img');\n\t\tplusImage.src = 'images/presenterscreen-ButtonPlusNormal.svg';\n\t\tplusImage.alt = 'Increase Font'; // Optional: Add alt text for accessibility\n\t\t// Add the image inside the plus button\n\t\tplusButton.appendChild(plusImage);\n\n\t\t// Create the minus button\n\t\tlet minusButton = this._proxyPresenter.document.createElement('button');\n\t\tminusButton.id = 'decrease';\n\t\tminusButton.setAttribute('data-cooltip', this.labels.zoomOut); // Set the tooltip text\n\t\t// Create the image for the minus button\n\t\tlet minusImage = this._proxyPresenter.document.createElement('img');\n\t\tminusImage.src = 'images/presenterscreen-ButtonMinusNormal.svg';\n\t\tminusImage.alt = 'Decrease Font'; // Optional: Add alt text for accessibility\n\n\t\t// Add the image inside the minus button\n\t\tminusButton.appendChild(minusImage);\n\n\t\t// Add buttons to the container div\n\t\tfontChangeContainer.appendChild(plusButton);\n\t\tfontChangeContainer.appendChild(minusButton);\n\n\t\t// common button settings\n\t\tlet fontScalerButtons = fontChangeContainer.querySelectorAll('button');\n\t\tfontScalerButtons.forEach(\n\t\t\tfunction (button) {\n\t\t\t\tbutton.style.display = 'flex';\n\t\t\t\tbutton.style.flexDirection = 'column';\n\t\t\t\tbutton.style.alignItems = 'center';\n\t\t\t\tbutton.style.backgroundColor = 'transparent';\n\t\t\t\tbutton.style.border = 'none';\n\t\t\t\tbutton.style.margin = '0 5px'; // Add some spacing between buttons\n\t\t\t}.bind(this),\n\t\t);\n\n\t\t// font change button action listener\n\t\tfontChangeContainer.addEventListener(\n\t\t\t'click',\n\t\t\tL.bind(this._onToolbarClick, this),\n\t\t);\n\n\t\treturn fontChangeContainer;\n\t}\n\n\t_pauseButton() {\n\t\t// Update the image source\n\t\tlet pauseBtn = this._proxyPresenter.document.querySelector('#pause');\n\t\tlet imgElem = this._proxyPresenter.document.querySelector('#pause>img');\n\t\tif (this._pause) {\n\t\t\timgElem.src = 'images/presenterscreen-ButtonResumeTimerNormal.svg';\n\t\t\tpauseBtn.setAttribute('data-cooltip', this.labels.resume); // Set the tooltip text\n\t\t} else {\n\t\t\timgElem.src = 'images/presenterscreen-ButtonPauseTimerNormal.svg';\n\t\t\tpauseBtn.setAttribute('data-cooltip', this.labels.pause); // Set the tooltip text\n\t\t}\n\n\t\t// Kind of special case, on restart we will nor show tooltip on play/pause button\n\t\tif (!this._timerReset) {\n\t\t\tthis._showTooltip(pauseBtn, pauseBtn.getAttribute('data-cooltip'));\n\t\t\treturn;\n\t\t}\n\t\tthis._timerReset = false;\n\t}\n\n\t_onKeyDown(e) {\n\t\tthis._presenter.getNavigator().onKeyDown(e);\n\t}\n\n\t_onClickPreview(e) {\n\t\tthis._presenter.getNavigator().onClick(e);\n\t}\n\n\t_onToolbarClick(e) {\n\t\tlet target = e.target;\n\t\tif (!target) {\n\t\t\treturn;\n\t\t}\n\n\t\tif (target.localName !== 'button') {\n\t\t\ttarget = target.parentElement;\n\t\t}\n\n\t\tif (target.localName !== 'button') {\n\t\t\treturn;\n\t\t}\n\n\t\tconst isLastSlide = this._currentIndex + 1 == this._visibleSlidesCount;\n\t\tswitch (target.id) {\n\t\t\tcase 'prev': {\n\t\t\t\tthis._presenter.getNavigator().rewindEffect();\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\tcase 'next': {\n\t\t\t\tthis._presenter.getNavigator().dispatchEffect();\n\t\t\t\t// if repeat after sec is set then do not close on last slide\n\t\t\t\tif (isLastSlide && !this._presenter._presentationInfo.isEndless) {\n\t\t\t\t\tthis._onWindowClose();\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\tcase 'pause':\n\t\t\t\tthis._pause = !this._pause;\n\t\t\t\tthis._pauseButton();\n\t\t\t\tbreak;\n\t\t\tcase 'restart':\n\t\t\t\tthis._pause = false;\n\t\t\t\tthis._ticks = 0;\n\t\t\t\tthis._drawClock();\n\t\t\t\tthis._timerReset = true;\n\t\t\t\tthis._pauseButton();\n\t\t\t\tthis._proxyPresenter.clearInterval(this._timer);\n\t\t\t\tthis._timer = this._proxyPresenter.setInterval(\n\t\t\t\t\tL.bind(this._onTimer, this),\n\t\t\t\t\t1000,\n\t\t\t\t);\n\t\t\t\tbreak;\n\t\t\tcase 'help':\n\t\t\t\t// TODO. add help.collaboraonline.com\n\t\t\t\twindow.open('https://collaboraonline.com', '_blank');\n\t\t\t\tbreak;\n\t\t\tcase 'notes':\n\t\t\t\tif (this._proxyPresenter.document.contains(this._notes)) {\n\t\t\t\t\tthis._onHideNotes();\n\t\t\t\t} else {\n\t\t\t\t\tthis._onShowNotes();\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\tcase 'slides':\n\t\t\t\tthis._onShowSlides();\n\t\t\t\tbreak;\n\t\t\tcase 'close-slides':\n\t\t\t\tthis._onHideSlides();\n\t\t\t\tbreak;\n\t\t\tcase 'increase':\n\t\t\t\tthis._adjustFontSize(2);\n\t\t\t\tbreak;\n\t\t\tcase 'decrease':\n\t\t\t\tthis._adjustFontSize(-2);\n\t\t\t\tbreak;\n\t\t}\n\n\t\te.stopPropagation();\n\t}\n\n\t_resizePreviews(width, height) {\n\t\tlet preview;\n\t\tlet previews = this._slides.querySelector('#slides-preview');\n\t\tlet size = this._map.getPreview(2000, 0, width, height, {\n\t\t\tfetchThumbnail: false,\n\t\t\tautoUpdate: false,\n\t\t});\n\n\t\tfor (let index = 0; index < this._visibleSlidesCount; index++) {\n\t\t\tpreview = previews.children.item(index);\n\t\t\tif (\n\t\t\t\tpreview.width !== size.width ||\n\t\t\t\tpreview.height !== size.height ||\n\t\t\t\twidth !== size.width ||\n\t\t\t\theight !== size.height\n\t\t\t) {\n\t\t\t\tthis._map.getPreview(2000, preview._index, size.width, size.height, {\n\t\t\t\t\tautoUpdate: false,\n\t\t\t\t\tslideshow: true,\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\t}\n\n\t_onShowSlides() {\n\t\tlet elem = this._proxyPresenter.document.querySelector('#slides');\n\t\tthis.toggleButtonState(elem, true);\n\n\t\t// Show Back button to go into previous page (Current slides page)\n\t\tlet closeSlideButton =\n\t\t\tthis._proxyPresenter.document.querySelector('#close-slides');\n\t\tcloseSlideButton.style.display = 'block';\n\n\t\telem = this._proxyPresenter.document.querySelector('#next-presentation');\n\t\tlet rect = elem.getBoundingClientRect();\n\t\tlet notesSeparator =\n\t\t\tthis._proxyPresenter.document.querySelector('#notes-separator');\n\t\tnotesSeparator.style.display = 'none';\n\t\tthis._first.style.display = 'none';\n\t\tthis._second.style.display = 'none';\n\n\t\telem = this._proxyPresenter.document.querySelector('#presentation-content');\n\t\telem.appendChild(this._slides);\n\n\t\tif (this._selectedImg) {\n\t\t\tthis._selectedImg.scrollIntoView();\n\t\t}\n\n\t\tthis._proxyPresenter.setTimeout(\n\t\t\tL.bind(this._resizePreviews, this, rect.width, rect.height),\n\t\t\t0,\n\t\t);\n\t}\n\n\t_onHideSlides() {\n\t\tlet elem = this._proxyPresenter.document.querySelector(\n\t\t\t'#presentation-content',\n\t\t);\n\n\t\tthis._slides.remove();\n\t\tlet notesSeparator =\n\t\t\tthis._proxyPresenter.document.querySelector('#notes-separator');\n\t\tnotesSeparator.style.display = 'block';\n\n\t\tthis._first.style.display = 'flex';\n\t\tthis._second.style.display = 'flex';\n\n\t\telem = this._proxyPresenter.document.querySelector('#slides');\n\t\tthis.toggleButtonState(elem, false);\n\n\t\t// Hide back button on normal view\n\t\tlet closeSlideButton =\n\t\t\tthis._proxyPresenter.document.querySelector('#close-slides');\n\t\tcloseSlideButton.style.display = 'none';\n\n\t\tthis._onResize();\n\t}\n\n\t_selectImg(img) {\n\t\tif (this._selectedImg) {\n\t\t\tthis._selectedImg.style.border = '3px solid transparent';\n\t\t\tthis._selectedImg = null;\n\t\t}\n\n\t\tif (img) {\n\t\t\tthis._selectedImg = img;\n\t\t\tthis._selectedImg.style.border =\n\t\t\t\t'3px solid rgb(' + this.slideSelectionColor + ')';\n\t\t}\n\t}\n\n\t_onClickSlides(e) {\n\t\tif (e.target && e.target.localName === 'img') {\n\t\t\tthis._selectImg(e.target);\n\n\t\t\tif (this._selectedImg && this._proxyPresenter) {\n\t\t\t\tthis._proxyPresenter.requestAnimationFrame(\n\t\t\t\t\tfunction (navigator, index) {\n\t\t\t\t\t\tnavigator.displaySlide(index, true);\n\t\t\t\t\t}.bind(\n\t\t\t\t\t\tnull,\n\t\t\t\t\t\tthis._presenter.getNavigator(),\n\t\t\t\t\t\tthis._selectedImg._index,\n\t\t\t\t\t),\n\t\t\t\t);\n\t\t\t}\n\t\t}\n\n\t\te.stopPropagation();\n\t}\n\n\t_onShowNotes() {\n\t\tlet elem = this._proxyPresenter.document.querySelector('#notes');\n\t\tthis.toggleButtonState(elem, true);\n\n\t\tlet container = this._proxyPresenter.document.querySelector(\n\t\t\t'#next-slide-container',\n\t\t);\n\t\tthis._notes.style.borderTopColor = this.slideShowColor;\n\n\t\tlet notesSeparator =\n\t\t\tthis._proxyPresenter.document.querySelector('#notes-separator');\n\t\tnotesSeparator.style.color = this.slideShowColor;\n\n\t\t// show font scaler container on show notes\n\t\tlet textScaler = this._proxyPresenter.document.querySelector('#textScaler');\n\t\ttextScaler.style.display = 'flex';\n\n\t\t// Insert _notes before textScaler\n\t\tcontainer.insertBefore(this._notes, textScaler);\n\t}\n\n\t_onHideNotes(e) {\n\t\tlet notesSeparator =\n\t\t\tthis._proxyPresenter.document.querySelector('#notes-separator');\n\t\tnotesSeparator.style.color = 'transparent';\n\n\t\t// hide font scaler container on hide notes\n\t\tlet textScaler = this._proxyPresenter.document.querySelector('#textScaler');\n\t\ttextScaler.style.display = 'none';\n\t\tthis._notes.style.borderTopColor = 'transparent';\n\n\t\tthis._notes.remove();\n\n\t\tlet elem = this._proxyPresenter.document.querySelector('#notes');\n\t\tthis.toggleButtonState(elem, false);\n\n\t\tif (e) {\n\t\t\te.stopPropagation();\n\t\t}\n\t}\n\n\t_disableButton(elem) {\n\t\telem.disabled = true;\n\t\telem.style.opacity = '0.5';\n\t}\n\n\t_enableButton(elem) {\n\t\telem.disabled = false;\n\t\telem.style.opacity = '1';\n\t}\n\n\ttoggleButtonState(elem, toggleOn) {\n\t\tif (toggleOn) {\n\t\t\t// Apply the 'selected' styles on show notes to display toggle effect on button\n\t\t\telem.style.filter = 'invert(1)';\n\t\t\telem.style.backgroundColor = 'black';\n\t\t\telem.disable = true;\n\t\t} else {\n\t\t\telem.style.filter = '';\n\t\t\telem.style.backgroundColor = 'transparent';\n\t\t\telem.disable = false;\n\t\t}\n\t}\n\n\t_onTimer() {\n\t\tif (!this._proxyPresenter) {\n\t\t\treturn;\n\t\t}\n\n\t\tif (!this._pause) {\n\t\t\t++this._ticks;\n\t\t}\n\n\t\tthis._proxyPresenter.requestAnimationFrame(this._drawClock.bind(this));\n\t}\n\n\t_drawClock() {\n\t\tif (!this._proxyPresenter || !this._proxyPresenter.document) {\n\t\t\treturn;\n\t\t}\n\n\t\tlet sec, min, hour, elem;\n\t\tif (!this._pause) {\n\t\t\tsec = this._ticks % 60;\n\t\t\tmin = Math.floor(this._ticks / 60);\n\t\t\thour = Math.floor(min / 60);\n\t\t\tmin = min % 60;\n\n\t\t\telem = this._proxyPresenter.document.querySelector('#timer');\n\t\t\tif (elem) {\n\t\t\t\telem.innerText =\n\t\t\t\t\tString(hour).padStart(2, '0') +\n\t\t\t\t\t':' +\n\t\t\t\t\tString(min).padStart(2, '0') +\n\t\t\t\t\t':' +\n\t\t\t\t\tString(sec).padStart(2, '0');\n\t\t\t}\n\t\t}\n\n\t\tlet dateTime = new Date();\n\t\telem = this._proxyPresenter.document.querySelector('#today');\n\t\tif (elem) {\n\t\t\telem.innerText = dateTime.toLocaleTimeString(String.Locale, {\n\t\t\t\thour: '2-digit',\n\t\t\t\tminute: '2-digit',\n\t\t\t\tsecond: '2-digit',\n\t\t\t});\n\t\t}\n\n\t\tlet next =\n\t\t\tthis._proxyPresenter.document.querySelector('#next-presentation');\n\t\tif (\n\t\t\tthis._ticks % 2 === 0 &&\n\t\t\ttypeof this._lastIndex !== 'undefined' &&\n\t\t\tnext\n\t\t) {\n\t\t\tconst nextIndex = this._getNextVisibleSlide(this._lastIndex);\n\t\t\tthis._proxyPresenter.setTimeout(\n\t\t\t\tL.bind(this._fetchPreview, this, nextIndex, next),\n\t\t\t\t0,\n\t\t\t);\n\t\t}\n\t}\n\n\t_fetchPreview(index, elem) {\n\t\tif (index >= this._getSlidesCount()) {\n\t\t\treturn;\n\t\t}\n\n\t\tlet rect = elem.getBoundingClientRect();\n\t\tif (rect.width === 0 && rect.height === 0) {\n\t\t\treturn;\n\t\t}\n\n\t\tlet preview = this._previews[index];\n\t\tif (preview) {\n\t\t\tthis._lastIndex = index;\n\t\t\treturn;\n\t\t}\n\n\t\tlet size = this._map.getPreview(2000, 0, rect.width, rect.height, {\n\t\t\tfetchThumbnail: false,\n\t\t\tautoUpdate: false,\n\t\t});\n\n\t\tthis._map.getPreview(2000, index, size.width, size.height, {\n\t\t\tautoUpdate: false,\n\t\t\tslideshow: true,\n\t\t});\n\t}\n\n\t_onWindowClose() {\n\t\tif (this._proxyPresenter && !this._proxyPresenter.closed)\n\t\t\tthis._proxyPresenter.close();\n\n\t\twindow.removeEventListener(\n\t\t\t'beforeunload',\n\t\t\tL.bind(this._onWindowClose, this),\n\t\t);\n\n\t\tthis._presenter._stopFullScreen();\n\t}\n\n\t_onConsoleClose() {\n\t\tif (\n\t\t\tthis._presenter._slideShowWindowProxy &&\n\t\t\t!this._presenter._slideShowWindowProxy.closed\n\t\t)\n\t\t\tthis._presenter.slideshowWindowCleanUp();\n\n\t\tthis._proxyPresenter.removeEventListener(\n\t\t\t'resize',\n\t\t\tL.bind(this._onResize, this),\n\t\t);\n\t\tthis._proxyPresenter.removeEventListener(\n\t\t\t'keydown',\n\t\t\tL.bind(this._onKeyDown, this),\n\t\t);\n\t\tthis._proxyPresenter.clearInterval(this._timer);\n\t\tthis._proxyPresenter.close();\n\n\t\tdelete this._proxyPresenter;\n\t\tdelete this._currentIndex;\n\t\tdelete this._lastIndex;\n\t\tdelete this._previews;\n\n\t\tthis._map.off('newslideshowframe', this._onNextFrame, this);\n\t\tthis._map.off('transitionstart', this._onTransitionStart, this);\n\t\tthis._map.off('transitionend', this._onTransitionEnd, this);\n\t\tthis._map.off('tilepreview', this._onTilePreview, this);\n\t}\n\n\t_resizeSlideView(viewContainerId, slideViewId) {\n\t\tlet container = this._proxyPresenter.document.querySelector(\n\t\t\t'#' + viewContainerId,\n\t\t);\n\t\tif (!container) {\n\t\t\treturn;\n\t\t}\n\t\tlet rect = container.getBoundingClientRect();\n\t\tlet size = this._map.getPreview(2000, 0, rect.width, rect.height, {\n\t\t\tfetchThumbnail: false,\n\t\t\tautoUpdate: false,\n\t\t});\n\t\tlet slideView = this._proxyPresenter.document.querySelector(\n\t\t\t'#' + slideViewId,\n\t\t);\n\t\tif (slideView) {\n\t\t\tslideView.style.width = size.width + 'px';\n\t\t\tslideView.style.height = size.height + 'px';\n\t\t}\n\t}\n\n\t_onResize() {\n\t\tif (!this._proxyPresenter) {\n\t\t\treturn;\n\t\t}\n\n\t\tthis._proxyPresenter.clearTimeout(this._resizeTimeout);\n\t\tthis._resizeSlideView('current-slide-container', 'current-presentation');\n\t\tthis._resizeSlideView('next-slide-container', 'next-presentation');\n\n\t\t// timeControlContainer should also maintain it's width based on current-slide-container width, better for responsive view\n\t\tlet timeControlContainer =\n\t\t\tthis._proxyPresenter.document.querySelector('#timer-container');\n\t\tif (timeControlContainer) {\n\t\t\ttimeControlContainer.style.width = this._currentSlideCanvas.style.width;\n\t\t}\n\n\t\tthis._resizeTimeout = this._proxyPresenter.setTimeout(\n\t\t\tfunction () {\n\t\t\t\tlet previews =\n\t\t\t\t\tthis._proxyPresenter.document.querySelector('#slides-preview');\n\t\t\t\tif (previews && typeof this._currentIndex !== 'undefined') {\n\t\t\t\t\tlet preview = this._proxyPresenter.document.querySelector(\n\t\t\t\t\t\t`#preview-slide-${this._currentIndex}`,\n\t\t\t\t\t);\n\t\t\t\t\t// 80vh\n\t\t\t\t\tlet height = this._proxyPresenter.innerHeight * 0.8;\n\t\t\t\t\t// 25vw\n\t\t\t\t\tlet width = this._proxyPresenter.innerWidth * 0.25;\n\t\t\t\t\tif (\n\t\t\t\t\t\tpreview.width >= this._proxyPresenter.innerWidth ||\n\t\t\t\t\t\tpreview.height >= this._proxyPresenter.innerHeight ||\n\t\t\t\t\t\tpreview.width < width\n\t\t\t\t\t) {\n\t\t\t\t\t\tthis._resizePreviews(width, height);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}.bind(this),\n\t\t\t800,\n\t\t);\n\t}\n\n\t_onTransitionStart(e) {\n\t\tif (!this._proxyPresenter) {\n\t\t\treturn;\n\t\t}\n\n\t\tthis._currentIndex = e.slide;\n\t\tconst isFirstSlide = this._currentIndex == 0;\n\t\tlet elem = this._proxyPresenter.document.querySelector('#title-current');\n\t\tif (elem) {\n\t\t\telem.innerText = _('Slide {0} of {1}')\n\t\t\t\t.replace('{0}', this._getVisibleIndex(e.slide) + 1)\n\t\t\t\t.replace('{1}', this._visibleSlidesCount);\n\t\t}\n\t\tif (isFirstSlide) this._disableButton(this._prevButton);\n\t\telse this._enableButton(this._prevButton);\n\n\t\telem = this._proxyPresenter.document.querySelector('#next-presentation');\n\t\tif (elem) {\n\t\t\tconst nextIndex = this._getNextVisibleSlide(this._currentIndex);\n\t\t\tthis._fetchPreview(nextIndex, elem);\n\t\t}\n\t}\n\n\t_onTransitionEnd(e) {\n\t\tif (!this._proxyPresenter) {\n\t\t\treturn;\n\t\t}\n\n\t\tthis._currentIndex = e.slide;\n\n\t\tif (this._notes) {\n\t\t\tlet notes = this._presenter.getNotes(e.slide);\n\t\t\tlet notesContentElem = this._notes.querySelector('#notes');\n\t\t\tnotesContentElem.innerText = _('No Notes');\n\t\t\tif (notes && notes.toLowerCase() !== 'click to add notes'.toLowerCase())\n\t\t\t\tnotesContentElem.innerText = notes;\n\t\t}\n\n\t\tlet img = this._slides.querySelector(\n\t\t\t`#preview-slide-${this._currentIndex}`,\n\t\t);\n\t\tif (img) {\n\t\t\tthis._selectImg(img);\n\t\t}\n\n\t\tlet next =\n\t\t\tthis._proxyPresenter.document.querySelector('#next-presentation');\n\t\tthis.drawNext(next);\n\t}\n\n\tdrawNext(elem) {\n\t\tif (!this._proxyPresenter) {\n\t\t\treturn;\n\t\t}\n\n\t\tif (!elem) {\n\t\t\treturn;\n\t\t}\n\n\t\tif (this._currentIndex === undefined) {\n\t\t\treturn;\n\t\t}\n\n\t\tlet rect = elem.getBoundingClientRect();\n\t\tif (rect.width === 0 && rect.height === 0) {\n\t\t\tthis._proxyPresenter.requestAnimationFrame(\n\t\t\t\tthis.drawNext.bind(this, elem),\n\t\t\t);\n\t\t\treturn;\n\t\t}\n\n\t\tlet size = this._map.getPreview(2000, 0, rect.width, rect.height, {\n\t\t\tfetchThumbnail: false,\n\t\t\tautoUpdate: false,\n\t\t});\n\n\t\tconst nextSlideIndex = this._getNextVisibleSlide(this._currentIndex);\n\t\tif (nextSlideIndex >= this._getSlidesCount()) {\n\t\t\tthis.drawEnd(size, this._getRepeatDuration()).then(function (blob) {\n\t\t\t\tvar reader = new FileReader();\n\t\t\t\treader.onload = function (e) {\n\t\t\t\t\telem.src = e.target.result;\n\t\t\t\t};\n\t\t\t\treader.readAsDataURL(blob);\n\t\t\t});\n\t\t\treturn;\n\t\t}\n\n\t\tlet preview = this._previews[nextSlideIndex];\n\t\tif (!preview) {\n\t\t\telem.src = document.querySelector('meta[name=\"previewImg\"]').content;\n\t\t} else {\n\t\t\telem.src = preview;\n\t\t}\n\n\t\tif (!preview || rect.width !== size.width || rect.height !== size.height) {\n\t\t\tthis._map.getPreview(2000, nextSlideIndex, size.width, size.height, {\n\t\t\t\tautoUpdate: false,\n\t\t\t\tslideshow: true,\n\t\t\t});\n\t\t\telem.style.width = size.width + 'px';\n\t\t\telem.style.height = size.height + 'px';\n\t\t}\n\t}\n\n\tdrawEnd(size, repeat) {\n\t\tconst width = size.width;\n\t\tconst height = size.height;\n\t\tconst offscreen = new OffscreenCanvas(width, height);\n\t\tconst ctx = offscreen.getContext('2d');\n\n\t\tctx.fillStyle = 'black';\n\t\tctx.fillRect(0, 0, width, height);\n\n\t\tctx.fillStyle = 'white';\n\t\tctx.font = '20px sans-serif';\n\t\tctx.textAlign = 'center';\n\t\tctx.textBaseline = 'middle';\n\n\t\tif (repeat > 0) {\n\t\t\tctx.fillText(\n\t\t\t\t_('Repeat in {0} seconds').replace('{0}', repeat),\n\t\t\t\twidth / 2,\n\t\t\t\theight / 2,\n\t\t\t);\n\t\t} else {\n\t\t\tctx.fillText(_('Click to exit presentation...'), width / 2, height / 2);\n\t\t}\n\n\t\treturn offscreen.convertToBlob({ type: 'image/png' });\n\t}\n\n\t_onNextFrame(e) {\n\t\tconst bitmap = e.frame;\n\t\tif (!bitmap) {\n\t\t\treturn;\n\t\t}\n\n\t\t// We need to resize the frame to the current slide canvas size explicitly.\n\t\t// In fact, in Firefox transferFromImageBitmap does not resize it\n\t\t// automatically to the set canvas size as it occurs in Chrome.\n\t\t// According to Firefox version we can have 2 different behavior:\n\t\t// on older versions (like 115) the frame is cropped wrt. the canvas size\n\t\t// on newer versions (like 121) the canvas is automatically resized to\n\t\t// frame size, the latter case can lead to worse performance.\n\t\tcreateImageBitmap(bitmap, {\n\t\t\tresizeWidth: this._currentSlideCanvas.width,\n\t\t\tresizeHeight: this._currentSlideCanvas.height,\n\t\t}).then(\n\t\t\tfunction (image) {\n\t\t\t\tif (this._proxyPresenter) {\n\t\t\t\t\tthis._proxyPresenter.requestAnimationFrame(\n\t\t\t\t\t\tfunction (context, image) {\n\t\t\t\t\t\t\tcontext.transferFromImageBitmap(image);\n\t\t\t\t\t\t}.bind(null, this._currentSlideContext, image),\n\t\t\t\t\t);\n\t\t\t\t}\n\t\t\t}.bind(this),\n\t\t);\n\t}\n\n\t_onTilePreview(e) {\n\t\tif (!this._proxyPresenter) {\n\t\t\treturn;\n\t\t}\n\n\t\tif (this._currentIndex === undefined) {\n\t\t\treturn;\n\t\t}\n\n\t\tif (e.id !== '2000') {\n\t\t\treturn;\n\t\t}\n\n\t\tconst nextSlideIndex = this._getNextVisibleSlide(this._currentIndex);\n\t\tif (nextSlideIndex === e.part) {\n\t\t\tlet next =\n\t\t\t\tthis._proxyPresenter.document.querySelector('#next-presentation');\n\t\t\tif (next) {\n\t\t\t\tnext.src = e.tile.src;\n\t\t\t}\n\t\t}\n\n\t\tthis._previews[e.part] = e.tile.src;\n\t\tthis._lastIndex = e.part;\n\n\t\tlet img = this._slides.querySelector(`#preview-slide-${e.part}`);\n\t\tif (img) {\n\t\t\timg.src = e.tile.src;\n\t\t\timg.width = e.width;\n\t\t\timg.height = e.height;\n\t\t}\n\t}\n\n\t_computeCanvas(canvas) {\n\t\tlet rect = canvas.getBoundingClientRect();\n\t\tlet size = this._presenter._slideCompositor.computeLayerResolution(\n\t\t\trect.width,\n\t\t\trect.height,\n\t\t);\n\t\tsize = this._presenter._slideCompositor.computeLayerSize(size[0], size[1]);\n\t\tcanvas.width = size[0];\n\t\tcanvas.height = size[1];\n\t}\n}\n\nSlideShow.PresenterConsole = PresenterConsole;\n"]}