{"version":3,"file":"CubeTransition.js","sourceRoot":"","sources":["../../../../../../../../../../../TanhX/online/browser/src/slideshow/transition3d/CubeTransition.ts"],"names":[],"mappings":"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","sourcesContent":["/* -*- js-indent-level: 8 -*- */\n\n/*\n * Copyright the Collabora Online contributors.\n *\n * SPDX-License-Identifier: MPL-2.0\n *\n * This Source Code Form is subject to the terms of the Mozilla Public\n * License, v. 2.0. If a copy of the MPL was not distributed with this\n * file, You can obtain one at http://mozilla.org/MPL/2.0/.\n */\n\ndeclare var SlideShow: any;\n\nfunction CubeTransition(\n\ttransitionParameters: TransitionParameters,\n\tisOutside: boolean = true,\n) {\n\tconst slide = new Primitive();\n\tslide.pushTriangle([0, 0], [1, 0], [0, 1]);\n\tslide.pushTriangle([1, 0], [0, 1], [1, 1]);\n\n\tconst aLeavingPrimitives: Primitive[] = [];\n\taLeavingPrimitives.push(Primitive.cloneDeep(slide));\n\n\tif (isOutside) {\n\t\tslide.operations.push(\n\t\t\tmakeRotateAndScaleDepthByWidth(\n\t\t\t\tvec3.fromValues(0, 1, 0),\n\t\t\t\tvec3.fromValues(0, 0, -1),\n\t\t\t\t90,\n\t\t\t\tfalse,\n\t\t\t\tfalse,\n\t\t\t\t0.0,\n\t\t\t\t1.0,\n\t\t\t),\n\t\t);\n\t} else {\n\t\tslide.operations.push(\n\t\t\tmakeRotateAndScaleDepthByWidth(\n\t\t\t\tvec3.fromValues(0, 1, 0),\n\t\t\t\tvec3.fromValues(0, 0, 1),\n\t\t\t\t-90,\n\t\t\t\tfalse,\n\t\t\t\tfalse,\n\t\t\t\t0.0,\n\t\t\t\t1.0,\n\t\t\t),\n\t\t);\n\t}\n\n\tconst aEnteringPrimitives: Primitive[] = [];\n\taEnteringPrimitives.push(slide);\n\n\tconst aOperations: Operation[] = [];\n\taOperations.push(\n\t\tmakeSScale(\n\t\t\tvec3.fromValues(0.9, 0.9, 0.9),\n\t\t\tvec3.fromValues(0, 0, 0),\n\t\t\ttrue,\n\t\t\t0.0,\n\t\t\t0.5,\n\t\t),\n\t);\n\taOperations.push(\n\t\tmakeSScale(\n\t\t\tvec3.fromValues(1.1, 1.1, 1.1),\n\t\t\tvec3.fromValues(0, 0, 0),\n\t\t\ttrue,\n\t\t\t0.5,\n\t\t\t1.0,\n\t\t),\n\t);\n\tif (isOutside) {\n\t\taOperations.push(\n\t\t\tmakeRotateAndScaleDepthByWidth(\n\t\t\t\tvec3.fromValues(0, 1, 0),\n\t\t\t\tvec3.fromValues(0, 0, -1),\n\t\t\t\t-90,\n\t\t\t\tfalse,\n\t\t\t\ttrue,\n\t\t\t\t0.0,\n\t\t\t\t1.0,\n\t\t\t),\n\t\t);\n\t} else {\n\t\taOperations.push(\n\t\t\tmakeRotateAndScaleDepthByWidth(\n\t\t\t\tvec3.fromValues(0, 1, 0),\n\t\t\t\tvec3.fromValues(0, 0, 1),\n\t\t\t\t90,\n\t\t\t\tfalse,\n\t\t\t\ttrue,\n\t\t\t\t0.0,\n\t\t\t\t1.0,\n\t\t\t),\n\t\t);\n\t}\n\n\tconst newTransitionParameters: TransitionParameters3D = {\n\t\t...transitionParameters,\n\t\tleavingPrimitives: aLeavingPrimitives,\n\t\tenteringPrimitives: aEnteringPrimitives,\n\t\tallOperations: aOperations,\n\t};\n\n\treturn new SimpleTransition(newTransitionParameters);\n}\n\nSlideShow.CubeTransition = CubeTransition;\n"]}